<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 14.4.0"/>
    <title>PySSA.pyssa.io_pyssa.filesystem_io API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../io_pyssa.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;PySSA.pyssa.io_pyssa</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="variable" href="#logger">logger</a>
            </li>
            <li>
                    <a class="class" href="#ProjectParserHandler">ProjectParserHandler</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ProjectParserHandler.__init__">ProjectParserHandler</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProjectParserHandler.one_element_history">one_element_history</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProjectParserHandler.current_element">current_element</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProjectParserHandler.protein_data">protein_data</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProjectParserHandler.pdb_data">pdb_data</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProjectParserHandler.chains">chains</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProjectParserHandler.protein_pair_data">protein_pair_data</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProjectParserHandler.result">result</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProjectParserHandler.result_obj">result_obj</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProjectParserHandler.distance_analysis">distance_analysis</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProjectParserHandler.distance_analysis_obj">distance_analysis_obj</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProjectParserHandler.current_content">current_content</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProjectParserHandler.distances_results">distances_results</a>
                        </li>
                        <li>
                                <a class="function" href="#ProjectParserHandler.startElement">startElement</a>
                        </li>
                        <li>
                                <a class="function" href="#ProjectParserHandler.characters">characters</a>
                        </li>
                        <li>
                                <a class="function" href="#ProjectParserHandler.endElement">endElement</a>
                        </li>
                        <li>
                                <a class="function" href="#ProjectParserHandler.get_project">get_project</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ProjectParser">ProjectParser</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ProjectParser.__init__">ProjectParser</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProjectParser.xml_reader">xml_reader</a>
                        </li>
                        <li>
                                <a class="function" href="#ProjectParser.parse_complete_xml">parse_complete_xml</a>
                        </li>
                        <li>
                                <a class="function" href="#ProjectParser.parse_project">parse_project</a>
                        </li>
                        <li>
                                <a class="function" href="#ProjectParser.parse_project_info">parse_project_info</a>
                        </li>
                        <li>
                                <a class="function" href="#ProjectParser.parse_sequences">parse_sequences</a>
                        </li>
                        <li>
                                <a class="function" href="#ProjectParser.parse_sequence">parse_sequence</a>
                        </li>
                        <li>
                                <a class="function" href="#ProjectParser.parse_proteins">parse_proteins</a>
                        </li>
                        <li>
                                <a class="function" href="#ProjectParser.parse_protein">parse_protein</a>
                        </li>
                        <li>
                                <a class="function" href="#ProjectParser.parse_protein_pairs">parse_protein_pairs</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#XmlDeserializer">XmlDeserializer</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#XmlDeserializer.__init__">XmlDeserializer</a>
                        </li>
                        <li>
                                <a class="variable" href="#XmlDeserializer.xml_root">xml_root</a>
                        </li>
                        <li>
                                <a class="function" href="#XmlDeserializer.create_all_proteins_from_xml">create_all_proteins_from_xml</a>
                        </li>
                        <li>
                                <a class="function" href="#XmlDeserializer.create_all_protein_pairs">create_all_protein_pairs</a>
                        </li>
                        <li>
                                <a class="function" href="#XmlDeserializer.create_all_sequences_from_xml">create_all_sequences_from_xml</a>
                        </li>
                        <li>
                                <a class="function" href="#XmlDeserializer.deserialize_project">deserialize_project</a>
                        </li>
                        <li>
                                <a class="function" href="#XmlDeserializer.deserialize_analysis_images">deserialize_analysis_images</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ObjectSerializer">ObjectSerializer</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ObjectSerializer.__init__">ObjectSerializer</a>
                        </li>
                        <li>
                                <a class="variable" href="#ObjectSerializer.object_dict">object_dict</a>
                        </li>
                        <li>
                                <a class="variable" href="#ObjectSerializer.object">object</a>
                        </li>
                        <li>
                                <a class="variable" href="#ObjectSerializer.filepath">filepath</a>
                        </li>
                        <li>
                                <a class="variable" href="#ObjectSerializer.filename">filename</a>
                        </li>
                        <li>
                                <a class="function" href="#ObjectSerializer.create_standard_object_dict">create_standard_object_dict</a>
                        </li>
                        <li>
                                <a class="function" href="#ObjectSerializer.set_custom_object_dict">set_custom_object_dict</a>
                        </li>
                        <li>
                                <a class="function" href="#ObjectSerializer.update_object_dict">update_object_dict</a>
                        </li>
                        <li>
                                <a class="function" href="#ObjectSerializer.serialize_object">serialize_object</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ObjectDeserializer">ObjectDeserializer</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ObjectDeserializer.__init__">ObjectDeserializer</a>
                        </li>
                        <li>
                                <a class="variable" href="#ObjectDeserializer.object_dict">object_dict</a>
                        </li>
                        <li>
                                <a class="function" href="#ObjectDeserializer.deserialize_protein">deserialize_protein</a>
                        </li>
                        <li>
                                <a class="function" href="#ObjectDeserializer.deserialize_protein_pair">deserialize_protein_pair</a>
                        </li>
                        <li>
                                <a class="function" href="#ObjectDeserializer.deserialize_project">deserialize_project</a>
                        </li>
                        <li>
                                <a class="function" href="#ObjectDeserializer.deserialize_distance_analysis">deserialize_distance_analysis</a>
                        </li>
                        <li>
                                <a class="function" href="#ObjectDeserializer.deserialize_settings">deserialize_settings</a>
                        </li>
                        <li>
                                <a class="function" href="#ObjectDeserializer.deserialize_sequence">deserialize_sequence</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#WorkspaceScanner">WorkspaceScanner</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#WorkspaceScanner.__init__">WorkspaceScanner</a>
                        </li>
                        <li>
                                <a class="variable" href="#WorkspaceScanner.workspace_path">workspace_path</a>
                        </li>
                        <li>
                                <a class="function" href="#WorkspaceScanner.scan_workspace_for_valid_projects">scan_workspace_for_valid_projects</a>
                        </li>
                        <li>
                                <a class="function" href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins">scan_workspace_for_non_duplicate_proteins</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#FilesystemCleaner">FilesystemCleaner</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#FilesystemCleaner.clean_prediction_scratch_folder">clean_prediction_scratch_folder</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
PySSA<wbr>.<a href="./../../pyssa.html">pyssa</a><wbr>.<a href="./../io_pyssa.html">io_pyssa</a><wbr>.filesystem_io    </h1>

                        <div class="docstring"><p>Module for handling filesystem operations.</p>
</div>

                        <input id="mod-filesystem_io-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-filesystem_io-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="c1">#</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="c1"># PySSA - Python-Plugin for Sequence-to-Structure Analysis</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="c1"># Copyright (C) 2022</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a><span class="c1"># Martin Urban (martin.urban@studmail.w-hs.de)</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="c1"># Hannah Kullik (hannah.kullik@studmail.w-hs.de)</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a><span class="c1">#</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="c1"># Source code is available at &lt;https://github.com/urban233/PySSA&gt;</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a><span class="c1">#</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a><span class="c1"># This program is free software: you can redistribute it and/or modify</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a><span class="c1"># it under the terms of the GNU General Public License as published by</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="c1"># the Free Software Foundation, either version 3 of the License, or</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a><span class="c1"># (at your option) any later version.</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a><span class="c1">#</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a><span class="c1"># This program is distributed in the hope that it will be useful,</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a><span class="c1"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a><span class="c1"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a><span class="c1"># GNU General Public License for more details.</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a><span class="c1">#</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a><span class="c1"># You should have received a copy of the GNU General Public License</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a><span class="c1"># along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a><span class="c1">#</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a><span class="sd">&quot;&quot;&quot;Module for handling filesystem operations.&quot;&quot;&quot;</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a><span class="kn">import</span> <span class="nn">concurrent</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a><span class="kn">import</span> <span class="nn">concurrent.futures</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a><span class="kn">import</span> <span class="nn">collections</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a><span class="kn">import</span> <span class="nn">copy</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a><span class="kn">import</span> <span class="nn">itertools</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a><span class="kn">from</span> <span class="nn">queue</span> <span class="kn">import</span> <span class="n">Queue</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a><span class="kn">from</span> <span class="nn">threading</span> <span class="kn">import</span> <span class="n">Lock</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a><span class="kn">import</span> <span class="nn">os</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a><span class="kn">import</span> <span class="nn">json</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a><span class="kn">import</span> <span class="nn">pathlib</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a><span class="kn">import</span> <span class="nn">shutil</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a><span class="kn">import</span> <span class="nn">logging</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a><span class="kn">import</span> <span class="nn">ast</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a><span class="kn">import</span> <span class="nn">collections</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a><span class="kn">from</span> <span class="nn">xml</span> <span class="kn">import</span> <span class="n">sax</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a><span class="kn">from</span> <span class="nn">xml.etree</span> <span class="kn">import</span> <span class="n">ElementTree</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a><span class="kn">from</span> <span class="nn">PyQt5</span> <span class="kn">import</span> <span class="n">QtCore</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a><span class="kn">from</span> <span class="nn">Bio</span> <span class="kn">import</span> <span class="n">SeqRecord</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a><span class="kn">from</span> <span class="nn">pyssa.internal.data_structures.data_classes</span> <span class="kn">import</span> <span class="n">basic_protein_info</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a><span class="kn">from</span> <span class="nn">pyssa.io_pyssa.xml_pyssa</span> <span class="kn">import</span> <span class="n">element_names</span><span class="p">,</span> <span class="n">attribute_names</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a><span class="kn">from</span> <span class="nn">pyssa.logging_pyssa</span> <span class="kn">import</span> <span class="n">log_handlers</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a><span class="kn">from</span> <span class="nn">pyssa.internal.data_structures</span> <span class="kn">import</span> <span class="n">protein</span><span class="p">,</span> <span class="n">structure_analysis</span><span class="p">,</span> <span class="n">chain</span><span class="p">,</span> <span class="n">selection</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a><span class="kn">from</span> <span class="nn">pyssa.internal.data_structures</span> <span class="kn">import</span> <span class="n">protein_pair</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a><span class="kn">from</span> <span class="nn">pyssa.internal.data_structures</span> <span class="kn">import</span> <span class="n">project</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a><span class="kn">from</span> <span class="nn">pyssa.internal.data_structures</span> <span class="kn">import</span> <span class="n">settings</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a><span class="kn">from</span> <span class="nn">pyssa.internal.data_structures</span> <span class="kn">import</span> <span class="n">sequence</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a><span class="kn">from</span> <span class="nn">pyssa.internal.analysis_types</span> <span class="kn">import</span> <span class="n">distance_analysis</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a><span class="kn">from</span> <span class="nn">pyssa.internal.data_structures</span> <span class="kn">import</span> <span class="n">results</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a><span class="kn">from</span> <span class="nn">pyssa.io_pyssa</span> <span class="kn">import</span> <span class="n">safeguard</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a><span class="kn">from</span> <span class="nn">pyssa.io_pyssa</span> <span class="kn">import</span> <span class="n">path_util</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a><span class="kn">from</span> <span class="nn">pyssa.util</span> <span class="kn">import</span> <span class="n">constants</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a><span class="kn">from</span> <span class="nn">pyssa.util</span> <span class="kn">import</span> <span class="n">protein_util</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a><span class="kn">from</span> <span class="nn">pyssa.util</span> <span class="kn">import</span> <span class="n">project_util</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a><span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">log_handlers</span><span class="o">.</span><span class="n">log_file_handler</span><span class="p">)</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a><span class="k">class</span> <span class="nc">ProjectParserHandler</span><span class="p">(</span><span class="n">sax</span><span class="o">.</span><span class="n">ContentHandler</span><span class="p">):</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a_project</span><span class="p">,</span> <span class="n">the_settings</span><span class="p">):</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">one_element_history</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span><span class="p">()</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">one_element_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;root&quot;</span><span class="p">)</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_project</span> <span class="o">=</span> <span class="n">a_project</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_app_settings</span> <span class="o">=</span> <span class="n">the_settings</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pdb_data</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chains</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_protein_in_pair</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">protein_pair_data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_proteins_for_pair</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">result_obj</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a>        <span class="n">index_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a>        <span class="n">ref_chain_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>        <span class="n">ref_pos_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>        <span class="n">ref_resi_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>        <span class="n">model_chain_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>        <span class="n">model_pos_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>        <span class="n">model_resi_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>        <span class="n">distance_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>            <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="n">index_list</span><span class="p">,</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a>            <span class="s2">&quot;ref_chain&quot;</span><span class="p">:</span> <span class="n">ref_chain_list</span><span class="p">,</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a>            <span class="s2">&quot;ref_pos&quot;</span><span class="p">:</span> <span class="n">ref_pos_list</span><span class="p">,</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>            <span class="s2">&quot;ref_resi&quot;</span><span class="p">:</span> <span class="n">ref_resi_list</span><span class="p">,</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>            <span class="s2">&quot;model_chain&quot;</span><span class="p">:</span> <span class="n">model_chain_list</span><span class="p">,</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>            <span class="s2">&quot;model_pos&quot;</span><span class="p">:</span> <span class="n">model_pos_list</span><span class="p">,</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a>            <span class="s2">&quot;model_resi&quot;</span><span class="p">:</span> <span class="n">model_resi_list</span><span class="p">,</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a>            <span class="s2">&quot;distance&quot;</span><span class="p">:</span> <span class="n">distance_list</span><span class="p">,</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a>        <span class="p">}</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a>    <span class="k">def</span> <span class="nf">startElement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">):</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>        <span class="n">tmp_last_element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">one_element_history</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;project_info&quot;</span><span class="p">:</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_project</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">Project</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;workspace_path&quot;</span><span class="p">)))</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;sequence&quot;</span><span class="p">:</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>            <span class="k">if</span> <span class="n">tmp_last_element</span> <span class="o">==</span> <span class="s2">&quot;sequences&quot;</span><span class="p">:</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_project</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>                    <span class="n">SeqRecord</span><span class="o">.</span><span class="n">SeqRecord</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span> <span class="n">seq</span><span class="o">=</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;seq&quot;</span><span class="p">))</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>                <span class="p">)</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;protein&quot;</span><span class="p">:</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>                <span class="s2">&quot;pymol_molecule_object&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;pymol_molecule_object&quot;</span><span class="p">),</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>                <span class="s2">&quot;pymol_selection&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;pymol_selection&quot;</span><span class="p">)</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>            <span class="p">}</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a>            <span class="k">if</span> <span class="n">tmp_last_element</span> <span class="o">==</span> <span class="s2">&quot;proteins&quot;</span><span class="p">:</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_protein_in_pair</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a>            <span class="k">elif</span> <span class="n">tmp_last_element</span> <span class="o">==</span> <span class="s2">&quot;proteins_of_pair&quot;</span><span class="p">:</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_protein_in_pair</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;chain&quot;</span><span class="p">:</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a>            <span class="n">tmp_sequence</span> <span class="o">=</span> <span class="n">sequence</span><span class="o">.</span><span class="n">Sequence</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;pymol_molecule_object&quot;</span><span class="p">],</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;chain_sequence&quot;</span><span class="p">))</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>            <span class="n">tmp_chain</span> <span class="o">=</span> <span class="n">chain</span><span class="o">.</span><span class="n">Chain</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;chain_letter&quot;</span><span class="p">),</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a>                                    <span class="n">tmp_sequence</span><span class="p">,</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>                                    <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;chain_type&quot;</span><span class="p">))</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">chains</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp_chain</span><span class="p">)</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;pymol_parameters&quot;</span><span class="p">:</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a>            <span class="n">tmp_last_chain</span><span class="p">:</span> <span class="s2">&quot;chain.Chain&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chains</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>            <span class="n">tmp_last_chain</span><span class="o">.</span><span class="n">pymol_parameters</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>                <span class="s2">&quot;chain_color&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;chain_color&quot;</span><span class="p">),</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>                <span class="s2">&quot;chain_representation&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;chain_representation&quot;</span><span class="p">),</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>            <span class="p">}</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;session_data&quot;</span><span class="p">:</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>            <span class="k">if</span> <span class="n">tmp_last_element</span> <span class="o">==</span> <span class="s2">&quot;atom&quot;</span><span class="p">:</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;session&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>            <span class="k">elif</span> <span class="n">tmp_last_element</span> <span class="o">==</span> <span class="s2">&quot;distances&quot;</span><span class="p">:</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;session&quot;</span><span class="p">))</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;protein_pair&quot;</span><span class="p">:</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">protein_pair_data</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a>            <span class="p">}</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;distance_analysis&quot;</span><span class="p">:</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a>                <span class="s2">&quot;cutoff&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;cutoff&quot;</span><span class="p">),</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a>                <span class="s2">&quot;cycles&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;cycles&quot;</span><span class="p">)</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>            <span class="p">}</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;result&quot;</span><span class="p">:</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;rmsd&quot;</span><span class="p">))</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;aligned_amino_acids&quot;</span><span class="p">))</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">one_element_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">one_element_history</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a>    <span class="k">def</span> <span class="nf">characters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">):</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a>        <span class="k">if</span> <span class="n">content</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>            <span class="k">return</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;atom&quot;</span><span class="p">:</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">pdb_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a>        <span class="c1"># Distance results</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;index&quot;</span><span class="p">:</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;index content: </span><span class="si">{</span><span class="n">content</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;ref_chain&quot;</span><span class="p">:</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;ref_pos&quot;</span><span class="p">:</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;ref_resi&quot;</span><span class="p">:</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;model_chain&quot;</span><span class="p">:</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;model_pos&quot;</span><span class="p">:</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;model_resi&quot;</span><span class="p">:</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;distance&quot;</span><span class="p">:</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a>    <span class="k">def</span> <span class="nf">endElement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a>        <span class="n">tmp_last_element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">one_element_history</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;protein&quot;</span><span class="p">:</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>            <span class="c1"># Creates new protein object</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a>            <span class="n">tmp_protein</span> <span class="o">=</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;pymol_molecule_object&quot;</span><span class="p">],</span> <span class="n">pdb_data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pdb_data</span><span class="p">)</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a>            <span class="n">tmp_protein</span><span class="o">.</span><span class="n">set_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a>            <span class="n">tmp_protein</span><span class="o">.</span><span class="n">chains</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chains</span><span class="p">)</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a>            <span class="n">tmp_protein</span><span class="o">.</span><span class="n">pymol_session</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;session&quot;</span><span class="p">]</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a>            <span class="n">tmp_protein</span><span class="o">.</span><span class="n">pymol_selection</span> <span class="o">=</span> <span class="n">selection</span><span class="o">.</span><span class="n">Selection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;pymol_molecule_object&quot;</span><span class="p">])</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a>            <span class="n">tmp_protein</span><span class="o">.</span><span class="n">pymol_selection</span><span class="o">.</span><span class="n">selection_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;pymol_selection&quot;</span><span class="p">]</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a>            <span class="c1"># Clears vars for next protein</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">chains</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_protein_in_pair</span><span class="p">:</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a>                <span class="c1"># Appends protein to project for the protein model</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_project</span><span class="o">.</span><span class="n">proteins</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">tmp_protein</span><span class="p">))</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a>            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_protein_in_pair</span><span class="p">:</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a>                <span class="c1"># Appends protein to project for the protein pair model</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_proteins_for_pair</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">tmp_protein</span><span class="p">))</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;index&quot;</span><span class="p">:</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">)</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;After np.array conversion: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;ref_chain&quot;</span><span class="p">:</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;ref_chain&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;ref_pos&quot;</span><span class="p">:</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;ref_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;ref_resi&quot;</span><span class="p">:</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;ref_resi&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;model_chain&quot;</span><span class="p">:</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;model_chain&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;model_pos&quot;</span><span class="p">:</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;model_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;model_resi&quot;</span><span class="p">:</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;model_resi&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;distance&quot;</span><span class="p">:</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;distance&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;result&quot;</span><span class="p">:</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">)</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>            <span class="n">index_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">])</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>            <span class="n">ref_chain_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;ref_chain&quot;</span><span class="p">])</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>            <span class="n">ref_pos_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;ref_pos&quot;</span><span class="p">])</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>            <span class="n">ref_resi_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;ref_resi&quot;</span><span class="p">])</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>            <span class="n">model_chain_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;model_chain&quot;</span><span class="p">])</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a>            <span class="n">model_pos_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;model_pos&quot;</span><span class="p">])</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a>            <span class="n">model_resi_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;model_resi&quot;</span><span class="p">])</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>            <span class="n">distance_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;distance&quot;</span><span class="p">])</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a>            <span class="n">result_hashtable</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a>                <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="n">index_array</span><span class="p">,</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>                <span class="s2">&quot;ref_chain&quot;</span><span class="p">:</span> <span class="n">ref_chain_array</span><span class="p">,</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a>                <span class="s2">&quot;ref_pos&quot;</span><span class="p">:</span> <span class="n">ref_pos_array</span><span class="p">,</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a>                <span class="s2">&quot;ref_resi&quot;</span><span class="p">:</span> <span class="n">ref_resi_array</span><span class="p">,</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>                <span class="s2">&quot;model_chain&quot;</span><span class="p">:</span> <span class="n">model_chain_array</span><span class="p">,</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a>                <span class="s2">&quot;model_pos&quot;</span><span class="p">:</span> <span class="n">model_pos_array</span><span class="p">,</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a>                <span class="s2">&quot;model_resi&quot;</span><span class="p">:</span> <span class="n">model_resi_array</span><span class="p">,</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a>                <span class="s2">&quot;distance&quot;</span><span class="p">:</span> <span class="n">distance_array</span><span class="p">,</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a>            <span class="p">}</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">result_obj</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">DistanceAnalysisResults</span><span class="p">(</span><span class="n">result_hashtable</span><span class="p">,</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a>                                                              <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a>                                                              <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>                                                              <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;distance_analysis&quot;</span><span class="p">:</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span> <span class="o">=</span> <span class="n">structure_analysis</span><span class="o">.</span><span class="n">DistanceAnalysis</span><span class="p">(</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_app_settings</span><span class="p">,</span> <span class="n">distance_analysis_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>            <span class="p">)</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span><span class="o">.</span><span class="n">analysis_results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_obj</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span><span class="o">.</span><span class="n">cutoff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis</span><span class="p">[</span><span class="s2">&quot;cutoff&quot;</span><span class="p">]</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span><span class="o">.</span><span class="n">cycles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis</span><span class="p">[</span><span class="s2">&quot;cycles&quot;</span><span class="p">]</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;protein_pair&quot;</span><span class="p">:</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>            <span class="n">tmp_protein_pair</span> <span class="o">=</span> <span class="n">protein_pair</span><span class="o">.</span><span class="n">ProteinPair</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_proteins_for_pair</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_proteins_for_pair</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a>            <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">protein_pair_data</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a>            <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">distance_analysis</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_project</span><span class="o">.</span><span class="n">protein_pairs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp_protein_pair</span><span class="p">)</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">protein_pair_data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_proteins_for_pair</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">result_obj</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>    <span class="k">def</span> <span class="nf">get_project</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_project</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>    <span class="c1"># def __init__(self, a_project):</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>    <span class="c1">#     self.current_element = &quot;&quot;</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>    <span class="c1">#     self.protein_data = {}</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>    <span class="c1">#     self.pdb_data = []</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>    <span class="c1">#     self.proteins = []</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>    <span class="c1">#     self._project = a_project</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a>    <span class="c1">#</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a>    <span class="c1"># def startElement(self, name, attrs):</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>    <span class="c1">#     self.current_element = name</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a>    <span class="c1">#     if name == &quot;protein&quot;:</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>    <span class="c1">#         self.protein_data = {&quot;id&quot;: attrs.getValue(&quot;id&quot;), &quot;pymol_molecule_object&quot;: attrs.getValue(&quot;pymol_molecule_object&quot;)}</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a>    <span class="c1">#     elif name == &quot;protein_pair&quot;:</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a>    <span class="c1">#         pass</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a>    <span class="c1">#</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a>    <span class="c1"># def characters(self, content):</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a>    <span class="c1">#     if self.current_element == &quot;atom&quot;:</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a>    <span class="c1">#         self.pdb_data.append(content)</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a>    <span class="c1">#         #self.protein_data[&quot;pdb_data&quot;][-1] += content</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>    <span class="c1">#</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a>    <span class="c1"># def endElement(self, name):</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a>    <span class="c1">#     if name == &quot;protein&quot;:</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a>    <span class="c1">#         tmp_protein = protein.Protein(self.protein_data[&quot;id&quot;], pdb_data=self.pdb_data)</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a>    <span class="c1">#         self.proteins.append(tmp_protein)</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a>    <span class="c1">#         self.protein_data = {}</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>    <span class="c1">#         self._project.proteins.append(tmp_protein)</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a>
</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>
</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a><span class="k">class</span> <span class="nc">ProjectParser</span><span class="p">:</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a>    <span class="n">_project</span><span class="p">:</span> <span class="s2">&quot;project.Project&quot;</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a>
</span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xml_reader</span><span class="p">:</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QXmlStreamReader</span><span class="p">):</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span> <span class="o">=</span> <span class="n">xml_reader</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_project</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">Project</span><span class="p">()</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a>
</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a>    <span class="k">def</span> <span class="nf">parse_complete_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">()</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">hasError</span><span class="p">():</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a>            <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a>            <span class="n">element_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a>            <span class="k">if</span> <span class="n">element_name</span> <span class="o">==</span> <span class="s2">&quot;project_info&quot;</span><span class="p">:</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a>                <span class="c1"># Process project_info element</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_project</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">Project</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a>                                                <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;workspace_path&quot;</span><span class="p">)))</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a>            <span class="k">elif</span> <span class="n">element_name</span> <span class="o">==</span> <span class="s2">&quot;protein&quot;</span><span class="p">:</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a>                <span class="c1"># Process protein element</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a>                <span class="nb">id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a>                <span class="n">molecule_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;pymol_molecule_object&quot;</span><span class="p">)</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a>                <span class="n">selection</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;pymol_selection&quot;</span><span class="p">)</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a>                <span class="c1"># Continue reading the elements within the protein element</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a>                <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNextStartElement</span><span class="p">():</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a>                    <span class="n">sub_element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a>                    <span class="k">if</span> <span class="n">sub_element</span> <span class="o">==</span> <span class="s2">&quot;pdb_data&quot;</span><span class="p">:</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a>                        <span class="c1"># Process pdb_data element</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a>                        <span class="c1"># Continue reading the elements within the pdb_data element</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a>                        <span class="n">tmp_pdb_data</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span><span class="p">()</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a>                        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNextStartElement</span><span class="p">():</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a>                            <span class="n">atom_element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a>                            <span class="k">if</span> <span class="n">atom_element</span> <span class="o">==</span> <span class="s2">&quot;atom&quot;</span><span class="p">:</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a>                                <span class="c1"># Process atom element</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a>                                <span class="n">tmp_pdb_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readElementText</span><span class="p">())</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a>                                <span class="c1"># Process atom data as needed</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a>                            <span class="k">else</span><span class="p">:</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a>                                <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">skipCurrentElement</span><span class="p">()</span>  <span class="c1"># Skip unknown elements</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a>                    <span class="k">elif</span> <span class="n">sub_element</span> <span class="o">==</span> <span class="s2">&quot;session_data&quot;</span><span class="p">:</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a>                        <span class="c1"># Process session_data element</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a>                        <span class="n">session_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readElementText</span><span class="p">()</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a>                        <span class="c1"># Process session_data as needed</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">skipCurrentElement</span><span class="p">()</span>  <span class="c1"># Skip unknown elements</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a>                <span class="n">tmp_protein</span> <span class="o">=</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span><span class="p">(</span><span class="n">molecule_object</span><span class="p">,</span> <span class="n">pdb_data</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">tmp_pdb_data</span><span class="p">))</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a>                <span class="nb">print</span><span class="p">(</span><span class="n">tmp_protein</span><span class="o">.</span><span class="n">get_pdb_data</span><span class="p">())</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a>            <span class="k">elif</span> <span class="n">element_name</span> <span class="o">==</span> <span class="s2">&quot;protein_pair&quot;</span><span class="p">:</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a>                <span class="c1"># Process protein_pair element</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a>                <span class="n">pair_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">toString</span><span class="p">()</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a>                <span class="c1"># Process other attributes or data as needed</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a>
</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">skipCurrentElement</span><span class="p">()</span>  <span class="c1"># Skip unknown elements</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a>
</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">hasError</span><span class="p">():</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error parsing XML:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">errorString</span><span class="p">())</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a>
</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a>    <span class="k">def</span> <span class="nf">parse_project</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;project&quot;</span><span class="p">:</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_project</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_project_info</span><span class="p">()</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">parse_sequences</span><span class="p">()</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">parse_proteins</span><span class="p">()</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a>                <span class="c1">#self.parse_protein_pairs()</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_project</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a>
</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a>    <span class="k">def</span> <span class="nf">parse_project_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;project_info&quot;</span><span class="p">:</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a>                <span class="c1"># Process attributes</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a>                <span class="n">project_infos</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a>                <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">():</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a>                    <span class="n">attribute_name</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a>                    <span class="n">attribute_value</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a>                    <span class="n">project_infos</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">attribute_name</span><span class="p">,</span> <span class="n">attribute_value</span><span class="p">))</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a>                <span class="k">return</span> <span class="n">project</span><span class="o">.</span><span class="n">Project</span><span class="p">(</span><span class="n">project_infos</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">project_infos</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]))</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a>
</span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a>    <span class="k">def</span> <span class="nf">parse_sequences</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;sequences&quot;</span><span class="p">:</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">parse_sequence</span><span class="p">()</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a>
</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a>    <span class="k">def</span> <span class="nf">parse_sequence</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a>        <span class="n">sequence_data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;sequence&quot;</span><span class="p">:</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a>                <span class="c1"># Process attributes</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a>                <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">():</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a>                    <span class="n">attribute_name</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a>                    <span class="n">attribute_value</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a>                    <span class="n">sequence_data</span><span class="p">[</span><span class="n">attribute_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">attribute_value</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_project</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">SeqRecord</span><span class="o">.</span><span class="n">SeqRecord</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">sequence_data</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span> <span class="n">seq</span><span class="o">=</span><span class="n">sequence_data</span><span class="p">[</span><span class="s2">&quot;seq&quot;</span><span class="p">]))</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a>
</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a>    <span class="k">def</span> <span class="nf">parse_proteins</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;proteins&quot;</span><span class="p">:</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos">395</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">parse_protein</span><span class="p">()</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos">396</span></a>
</span><span id="L-397"><a href="#L-397"><span class="linenos">397</span></a>    <span class="k">def</span> <span class="nf">parse_protein</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos">398</span></a>        <span class="n">protein_data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos">399</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos">400</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos">401</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;protein&quot;</span><span class="p">:</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos">402</span></a>                <span class="c1"># Process attributes</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos">403</span></a>                <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">():</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos">404</span></a>                    <span class="n">attribute_name</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos">405</span></a>                    <span class="n">attribute_value</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos">406</span></a>                    <span class="n">protein_data</span><span class="p">[</span><span class="n">attribute_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">attribute_value</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos">407</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="n">protein_data</span><span class="p">)</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos">408</span></a>
</span><span id="L-409"><a href="#L-409"><span class="linenos">409</span></a>    <span class="k">def</span> <span class="nf">parse_protein_pairs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos">410</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos">411</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos">412</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;protein_pairs&quot;</span><span class="p">:</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos">413</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos">414</span></a>            <span class="c1"># Process individual protein pairs</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos">415</span></a>
</span><span id="L-416"><a href="#L-416"><span class="linenos">416</span></a>
</span><span id="L-417"><a href="#L-417"><span class="linenos">417</span></a><span class="k">class</span> <span class="nc">XmlDeserializer</span><span class="p">:</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos">418</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Class used to deserialize XML documents into the respective objects.&quot;&quot;&quot;</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos">419</span></a>
</span><span id="L-420"><a href="#L-420"><span class="linenos">420</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos">421</span></a><span class="sd">    the root element of the xml file</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos">422</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos">423</span></a>    <span class="n">xml_root</span><span class="p">:</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">Element</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos">424</span></a>
</span><span id="L-425"><a href="#L-425"><span class="linenos">425</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos">426</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos">427</span></a>
</span><span id="L-428"><a href="#L-428"><span class="linenos">428</span></a><span class="sd">        Args:</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos">429</span></a><span class="sd">            filepath: the filepath to the xml file.</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos">430</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos">431</span></a>        <span class="c1"># Read the XML file</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos">432</span></a>        <span class="n">xml_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">filepath</span><span class="p">),</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos">433</span></a>        <span class="n">xml_contents</span> <span class="o">=</span> <span class="n">xml_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos">434</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">xml_contents</span><span class="p">)</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos">435</span></a>
</span><span id="L-436"><a href="#L-436"><span class="linenos">436</span></a>    <span class="k">def</span> <span class="nf">create_all_proteins_from_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;protein.Protein&quot;</span><span class="p">]:</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos">437</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a list of proteins from the XML.&quot;&quot;&quot;</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos">438</span></a>        <span class="n">proteins</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;protein.Protein&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos">439</span></a>        <span class="k">for</span> <span class="n">tmp_protein</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span><span class="o">.</span><span class="n">iter</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">PROTEIN</span><span class="p">):</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos">440</span></a>            <span class="n">basic_information</span> <span class="o">=</span> <span class="n">tmp_protein</span><span class="o">.</span><span class="n">attrib</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos">441</span></a>            <span class="n">pdb_lines</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos">442</span></a>            <span class="n">session_data_base64</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos">443</span></a>            <span class="k">for</span> <span class="n">tmp_data</span> <span class="ow">in</span> <span class="n">tmp_protein</span><span class="p">:</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos">444</span></a>                <span class="k">if</span> <span class="n">tmp_data</span><span class="o">.</span><span class="n">tag</span> <span class="o">==</span> <span class="s2">&quot;pdb_data&quot;</span><span class="p">:</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos">445</span></a>                    <span class="k">for</span> <span class="n">tmp_atom</span> <span class="ow">in</span> <span class="n">tmp_data</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;atom&quot;</span><span class="p">):</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos">446</span></a>                        <span class="n">pdb_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp_atom</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos">447</span></a>                <span class="k">elif</span> <span class="n">tmp_data</span><span class="o">.</span><span class="n">tag</span> <span class="o">==</span> <span class="s2">&quot;session_data&quot;</span><span class="p">:</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos">448</span></a>                    <span class="n">session_data_base64</span> <span class="o">=</span> <span class="n">tmp_data</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">PROTEIN_SESSION</span><span class="p">]</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos">449</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos">450</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos">451</span></a>            <span class="n">tmp_protein_obj</span> <span class="o">=</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span><span class="p">(</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos">452</span></a>                <span class="n">molecule_object</span><span class="o">=</span><span class="n">basic_information</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">PROTEIN_MOLECULE_OBJECT</span><span class="p">],</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos">453</span></a>                <span class="n">pdb_xml_string</span><span class="o">=</span><span class="n">tmp_protein</span><span class="p">,</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos">454</span></a>            <span class="p">)</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos">455</span></a>            <span class="n">tmp_protein_obj</span><span class="o">.</span><span class="n">set_all_attributes</span><span class="p">(</span><span class="n">basic_information</span><span class="p">,</span> <span class="n">pdb_lines</span><span class="p">,</span> <span class="n">session_data_base64</span><span class="p">)</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos">456</span></a>
</span><span id="L-457"><a href="#L-457"><span class="linenos">457</span></a>            <span class="n">proteins</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp_protein_obj</span><span class="p">)</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos">458</span></a>        <span class="k">return</span> <span class="n">proteins</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos">459</span></a>
</span><span id="L-460"><a href="#L-460"><span class="linenos">460</span></a>    <span class="k">def</span> <span class="nf">create_all_protein_pairs</span><span class="p">(</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos">461</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos">462</span></a>        <span class="n">a_project</span><span class="p">:</span> <span class="s2">&quot;project.Project&quot;</span><span class="p">,</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos">463</span></a>        <span class="n">app_settings</span><span class="p">:</span> <span class="s2">&quot;settings.Settings&quot;</span><span class="p">,</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos">464</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;protein_pair.ProteinPair&quot;</span><span class="p">]:</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos">465</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a list of protein pairs from the XML.</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos">466</span></a>
</span><span id="L-467"><a href="#L-467"><span class="linenos">467</span></a><span class="sd">        Args:</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos">468</span></a><span class="sd">            a_project: a project of which the protein pairs should be used.</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos">469</span></a><span class="sd">            app_settings: the settings of the app.</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos">470</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos">471</span></a>        <span class="n">protein_pairs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos">472</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos">473</span></a>            <span class="k">return</span>  <span class="c1"># noqa: RET502 #TODO: fix this</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos">474</span></a>        <span class="k">for</span> <span class="n">tmp_protein_pair</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos">475</span></a>            <span class="n">basic_information</span> <span class="o">=</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">attrib</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos">476</span></a>            <span class="n">prot_1_molecule_object</span> <span class="o">=</span> <span class="n">basic_information</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR_PROT_1_MOLECULE_OBJECT</span><span class="p">]</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos">477</span></a>            <span class="k">if</span> <span class="n">prot_1_molecule_object</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;_1&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos">478</span></a>                <span class="n">org_prot_1_molecule_object</span> <span class="o">=</span> <span class="n">prot_1_molecule_object</span><span class="p">[:</span> <span class="n">prot_1_molecule_object</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;_1&quot;</span><span class="p">)]</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos">479</span></a>                <span class="n">protein_2</span><span class="p">:</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span> <span class="o">=</span> <span class="n">a_project</span><span class="o">.</span><span class="n">search_protein</span><span class="p">(</span><span class="n">org_prot_1_molecule_object</span><span class="p">)</span><span class="o">.</span><span class="n">duplicate_protein</span><span class="p">()</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos">480</span></a>                <span class="n">protein_1</span><span class="p">:</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span> <span class="o">=</span> <span class="n">protein_2</span><span class="o">.</span><span class="n">duplicate_protein</span><span class="p">()</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos">481</span></a>                <span class="n">protein_1</span><span class="o">.</span><span class="n">set_molecule_object</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">protein_1</span><span class="o">.</span><span class="n">get_molecule_object</span><span class="p">()</span><span class="si">}</span><span class="s2">_1&quot;</span><span class="p">)</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos">482</span></a>                <span class="n">protein_2</span><span class="o">.</span><span class="n">set_molecule_object</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">protein_2</span><span class="o">.</span><span class="n">get_molecule_object</span><span class="p">()</span><span class="si">}</span><span class="s2">_2&quot;</span><span class="p">)</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos">483</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos">484</span></a>                <span class="n">protein_1</span> <span class="o">=</span> <span class="n">a_project</span><span class="o">.</span><span class="n">search_protein</span><span class="p">(</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos">485</span></a>                    <span class="n">basic_information</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR_PROT_1_MOLECULE_OBJECT</span><span class="p">],</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos">486</span></a>                <span class="p">)</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos">487</span></a>                <span class="n">protein_2</span> <span class="o">=</span> <span class="n">a_project</span><span class="o">.</span><span class="n">search_protein</span><span class="p">(</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos">488</span></a>                    <span class="n">basic_information</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR_PROT_2_MOLECULE_OBJECT</span><span class="p">],</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos">489</span></a>                <span class="p">)</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos">490</span></a>
</span><span id="L-491"><a href="#L-491"><span class="linenos">491</span></a>            <span class="n">tmp_protein_pair_obj</span> <span class="o">=</span> <span class="n">protein_pair</span><span class="o">.</span><span class="n">ProteinPair</span><span class="p">(</span><span class="n">protein_1</span><span class="o">=</span><span class="n">protein_1</span><span class="p">,</span> <span class="n">protein_2</span><span class="o">=</span><span class="n">protein_2</span><span class="p">)</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos">492</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos">493</span></a>            <span class="n">pymol_session</span> <span class="o">=</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR_SESSION</span><span class="p">)</span><span class="o">.</span><span class="n">attrib</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos">494</span></a>            <span class="n">tag_distance_analysis</span> <span class="o">=</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS</span><span class="p">)</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos">495</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">pymol_session</span> <span class="o">=</span> <span class="n">pymol_session</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_SESSION</span><span class="p">]</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos">496</span></a>            <span class="n">distance_analysis_settings</span> <span class="o">=</span> <span class="n">tag_distance_analysis</span><span class="o">.</span><span class="n">attrib</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos">497</span></a>            <span class="n">tag_results</span> <span class="o">=</span> <span class="n">tag_distance_analysis</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_RESULTS</span><span class="p">)</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos">498</span></a>            <span class="n">rmsd_aligned_aa</span> <span class="o">=</span> <span class="n">tag_results</span><span class="o">.</span><span class="n">attrib</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos">499</span></a>            <span class="k">for</span> <span class="n">tmp_tag_results_distance</span> <span class="ow">in</span> <span class="n">tag_results</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos">500</span></a>                <span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_DISTANCE_RESULTS</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos">501</span></a>            <span class="p">):</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos">502</span></a>                <span class="n">indexes</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_INDEX_LIST</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos">503</span></a>                <span class="n">prot_1_chains</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_PROT_1_CHAIN_LIST</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos">504</span></a>                <span class="n">prot_1_positions</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos">505</span></a>                    <span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_PROT_1_POSITION_LIST</span><span class="p">,</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos">506</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos">507</span></a>                <span class="n">prot_1_residues</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos">508</span></a>                    <span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_PROT_1_RESIDUE_LIST</span><span class="p">,</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos">509</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos">510</span></a>
</span><span id="L-511"><a href="#L-511"><span class="linenos">511</span></a>                <span class="n">prot_2_chains</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_PROT_2_CHAIN_LIST</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos">512</span></a>                <span class="n">prot_2_positions</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos">513</span></a>                    <span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_PROT_2_POSITION_LIST</span><span class="p">,</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos">514</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos">515</span></a>                <span class="n">prot_2_residues</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos">516</span></a>                    <span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_PROT_2_RESIDUE_LIST</span><span class="p">,</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos">517</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos">518</span></a>
</span><span id="L-519"><a href="#L-519"><span class="linenos">519</span></a>                <span class="n">distances</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_DISTANCES_LIST</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos">520</span></a>                <span class="n">index_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">indexes</span><span class="p">))</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos">521</span></a>                <span class="n">ref_chain_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">prot_1_chains</span><span class="p">))</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos">522</span></a>                <span class="n">ref_pos_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">prot_1_positions</span><span class="p">))</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos">523</span></a>                <span class="n">ref_resi_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">prot_1_residues</span><span class="p">))</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos">524</span></a>                <span class="n">model_chain_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">prot_2_chains</span><span class="p">))</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos">525</span></a>                <span class="n">model_pos_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">prot_2_positions</span><span class="p">))</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos">526</span></a>                <span class="n">model_resi_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">prot_2_residues</span><span class="p">))</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos">527</span></a>                <span class="n">distance_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">distances</span><span class="p">))</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos">528</span></a>
</span><span id="L-529"><a href="#L-529"><span class="linenos">529</span></a>                <span class="n">result_hashtable</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos">530</span></a>                    <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="n">index_array</span><span class="p">,</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos">531</span></a>                    <span class="s2">&quot;ref_chain&quot;</span><span class="p">:</span> <span class="n">ref_chain_array</span><span class="p">,</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos">532</span></a>                    <span class="s2">&quot;ref_pos&quot;</span><span class="p">:</span> <span class="n">ref_pos_array</span><span class="p">,</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos">533</span></a>                    <span class="s2">&quot;ref_resi&quot;</span><span class="p">:</span> <span class="n">ref_resi_array</span><span class="p">,</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos">534</span></a>                    <span class="s2">&quot;model_chain&quot;</span><span class="p">:</span> <span class="n">model_chain_array</span><span class="p">,</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos">535</span></a>                    <span class="s2">&quot;model_pos&quot;</span><span class="p">:</span> <span class="n">model_pos_array</span><span class="p">,</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos">536</span></a>                    <span class="s2">&quot;model_resi&quot;</span><span class="p">:</span> <span class="n">model_resi_array</span><span class="p">,</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos">537</span></a>                    <span class="s2">&quot;distance&quot;</span><span class="p">:</span> <span class="n">distance_array</span><span class="p">,</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos">538</span></a>                <span class="p">}</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos">539</span></a>
</span><span id="L-540"><a href="#L-540"><span class="linenos">540</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span> <span class="o">=</span> <span class="n">structure_analysis</span><span class="o">.</span><span class="n">DistanceAnalysis</span><span class="p">(</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos">541</span></a>                <span class="n">protein_pair_name</span><span class="o">=</span><span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos">542</span></a>                <span class="n">the_app_settings</span><span class="o">=</span><span class="n">app_settings</span><span class="p">,</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos">543</span></a>            <span class="p">)</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos">544</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">analysis_results</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">DistanceAnalysisResults</span><span class="p">(</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos">545</span></a>                <span class="n">distance_data</span><span class="o">=</span><span class="n">result_hashtable</span><span class="p">,</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos">546</span></a>                <span class="n">pymol_session</span><span class="o">=</span><span class="n">pymol_session</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_SESSION</span><span class="p">],</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos">547</span></a>                <span class="n">rmsd</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">rmsd_aligned_aa</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_RMSD</span><span class="p">]),</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos">548</span></a>                <span class="n">aligned_aa</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">rmsd_aligned_aa</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_ALIGNED_AA</span><span class="p">]),</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos">549</span></a>            <span class="p">)</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos">550</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">cutoff</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos">551</span></a>                <span class="n">distance_analysis_settings</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_CUTOFF</span><span class="p">],</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos">552</span></a>            <span class="p">)</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos">553</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">cycles</span> <span class="o">=</span> <span class="n">distance_analysis_settings</span><span class="p">[</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos">554</span></a>                <span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_CYCLES</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos">555</span></a>            <span class="p">]</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos">556</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">distance_analysis_settings</span><span class="p">[</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos">557</span></a>                <span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_NAME</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos">558</span></a>            <span class="p">]</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos">559</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">analysis_results</span><span class="o">.</span><span class="n">rmsd</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos">560</span></a>                <span class="n">rmsd_aligned_aa</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_RMSD</span><span class="p">],</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos">561</span></a>            <span class="p">)</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos">562</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">analysis_results</span><span class="o">.</span><span class="n">aligned_aa</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos">563</span></a>                <span class="n">rmsd_aligned_aa</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_ALIGNED_AA</span><span class="p">],</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos">564</span></a>            <span class="p">)</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos">565</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_analysis_images</span><span class="p">(</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos">566</span></a>                <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos">567</span></a>                <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">analysis_results</span><span class="p">,</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos">568</span></a>            <span class="p">)</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos">569</span></a>            <span class="n">protein_pairs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp_protein_pair_obj</span><span class="p">)</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos">570</span></a>
</span><span id="L-571"><a href="#L-571"><span class="linenos">571</span></a>        <span class="k">return</span> <span class="n">protein_pairs</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos">572</span></a>
</span><span id="L-573"><a href="#L-573"><span class="linenos">573</span></a>    <span class="k">def</span> <span class="nf">create_all_sequences_from_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos">574</span></a>        <span class="n">seq_records</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos">575</span></a>        <span class="k">for</span> <span class="n">tmp_seq</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span><span class="o">.</span><span class="n">iter</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">SEQUENCE</span><span class="p">):</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos">576</span></a>            <span class="n">basic_information</span> <span class="o">=</span> <span class="n">tmp_seq</span><span class="o">.</span><span class="n">attrib</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos">577</span></a>            <span class="n">tmp_seq_record_obj</span> <span class="o">=</span> <span class="n">SeqRecord</span><span class="o">.</span><span class="n">SeqRecord</span><span class="p">(</span><span class="n">basic_information</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">SEQUENCE_SEQ</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="n">basic_information</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">SEQUENCE_NAME</span><span class="p">])</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos">578</span></a>            <span class="n">seq_records</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp_seq_record_obj</span><span class="p">)</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos">579</span></a>        <span class="k">return</span> <span class="n">seq_records</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos">580</span></a>
</span><span id="L-581"><a href="#L-581"><span class="linenos">581</span></a>    <span class="nd">@staticmethod</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos">582</span></a>    <span class="k">def</span> <span class="nf">deserialize_project</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">app_settings</span><span class="p">:</span> <span class="s2">&quot;settings.Settings&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;project.Project&quot;</span><span class="p">:</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos">583</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserialize the project from the XML.&quot;&quot;&quot;</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos">584</span></a>        <span class="n">file</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QFile</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">file_path</span><span class="p">))</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos">585</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos">586</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">file</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QFile</span><span class="o">.</span><span class="n">ReadOnly</span> <span class="o">|</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QFile</span><span class="o">.</span><span class="n">Text</span><span class="p">):</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos">587</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: Cannot open file for reading&quot;</span><span class="p">)</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos">588</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos">589</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Exception occurred: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos">590</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos">591</span></a>            <span class="n">tmp_project</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">Project</span><span class="p">()</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos">592</span></a>            <span class="n">handler</span> <span class="o">=</span> <span class="n">ProjectParserHandler</span><span class="p">(</span><span class="n">tmp_project</span><span class="p">,</span> <span class="n">app_settings</span><span class="p">)</span>
</span><span id="L-593"><a href="#L-593"><span class="linenos">593</span></a>            <span class="n">parser</span> <span class="o">=</span> <span class="n">sax</span><span class="o">.</span><span class="n">make_parser</span><span class="p">()</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos">594</span></a>            <span class="n">parser</span><span class="o">.</span><span class="n">setContentHandler</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos">595</span></a>            <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos">596</span></a>            <span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-597"><a href="#L-597"><span class="linenos">597</span></a>            <span class="k">return</span> <span class="n">handler</span><span class="o">.</span><span class="n">get_project</span><span class="p">()</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos">598</span></a>
</span><span id="L-599"><a href="#L-599"><span class="linenos">599</span></a>        <span class="c1"># project_dict = {}</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos">600</span></a>        <span class="c1"># for info in self.xml_root.iter(element_names.PROJECT_INFO):</span>
</span><span id="L-601"><a href="#L-601"><span class="linenos">601</span></a>        <span class="c1">#     project_dict = info.attrib</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos">602</span></a>        <span class="c1"># tmp_project = project.Project(</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos">603</span></a>        <span class="c1">#     project_dict[attribute_names.PROJECT_NAME],</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos">604</span></a>        <span class="c1">#     pathlib.Path(project_dict[attribute_names.PROJECT_WORKSPACE_PATH]),</span>
</span><span id="L-605"><a href="#L-605"><span class="linenos">605</span></a>        <span class="c1"># )</span>
</span><span id="L-606"><a href="#L-606"><span class="linenos">606</span></a>        <span class="c1"># tmp_seq_record_objs = self.create_all_sequences_from_xml()</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos">607</span></a>        <span class="c1"># if tmp_seq_record_objs is not None:</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos">608</span></a>        <span class="c1">#     for tmp_seq_record_obj in tmp_seq_record_objs:</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos">609</span></a>        <span class="c1">#         tmp_project.sequences.append(tmp_seq_record_obj)</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos">610</span></a>        <span class="c1"># protein_objs = self.create_all_proteins_from_xml()</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos">611</span></a>        <span class="c1"># for tmp_protein_obj in protein_objs:</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos">612</span></a>        <span class="c1">#     tmp_project.add_existing_protein(tmp_protein_obj)</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos">613</span></a>        <span class="c1"># protein_pair_objs = self.create_all_protein_pairs(tmp_project, app_settings)</span>
</span><span id="L-614"><a href="#L-614"><span class="linenos">614</span></a>        <span class="c1"># if protein_pair_objs is not None:</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos">615</span></a>        <span class="c1">#     for tmp_protein_pair_obj in protein_pair_objs:</span>
</span><span id="L-616"><a href="#L-616"><span class="linenos">616</span></a>        <span class="c1">#         tmp_project.add_protein_pair(tmp_protein_pair_obj)</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos">617</span></a>        <span class="c1">#</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos">618</span></a>        <span class="c1"># return tmp_project</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos">619</span></a>
</span><span id="L-620"><a href="#L-620"><span class="linenos">620</span></a>    <span class="k">def</span> <span class="nf">deserialize_analysis_images</span><span class="p">(</span>
</span><span id="L-621"><a href="#L-621"><span class="linenos">621</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos">622</span></a>        <span class="n">protein_pair_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos">623</span></a>        <span class="n">analysis_results</span><span class="p">:</span> <span class="s2">&quot;results.DistanceAnalysisResults&quot;</span><span class="p">,</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos">624</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos">625</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserialize the analysis images.</span>
</span><span id="L-626"><a href="#L-626"><span class="linenos">626</span></a>
</span><span id="L-627"><a href="#L-627"><span class="linenos">627</span></a><span class="sd">        Args:</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos">628</span></a><span class="sd">            protein_pair_name: the name of the protein pair to use.</span>
</span><span id="L-629"><a href="#L-629"><span class="linenos">629</span></a><span class="sd">            analysis_results: the results of the distance analysis.</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos">630</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos">631</span></a>        <span class="k">for</span> <span class="n">tmp_protein_pair</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos">632</span></a>            <span class="k">if</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">protein_pair_name</span><span class="p">:</span>
</span><span id="L-633"><a href="#L-633"><span class="linenos">633</span></a>                <span class="n">structure_aln_images</span> <span class="o">=</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span>
</span><span id="L-634"><a href="#L-634"><span class="linenos">634</span></a>                    <span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_IMAGES</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_STRUCTURE_ALN_IMAGE</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos">635</span></a>                <span class="p">)</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos">636</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos">637</span></a>                    <span class="n">analysis_results</span><span class="o">.</span><span class="n">structure_aln_image</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos">638</span></a>                        <span class="n">structure_aln_images</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_STRUCTURE_ALN_IMAGE_BASENAME</span><span class="p">],</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos">639</span></a>                        <span class="n">structure_aln_images</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos">640</span></a>                    <span class="p">)</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos">641</span></a>                <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos">642</span></a>                    <span class="n">analysis_results</span><span class="o">.</span><span class="n">structure_aln_image</span> <span class="o">=</span> <span class="p">()</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos">643</span></a>                <span class="n">interesting_reg_images</span> <span class="o">=</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos">644</span></a>                    <span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_IMAGES</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_ALN_IMAGES_INTERESTING_REGIONS</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="L-645"><a href="#L-645"><span class="linenos">645</span></a>                <span class="p">)</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos">646</span></a>                <span class="k">for</span> <span class="n">tmp_image</span> <span class="ow">in</span> <span class="n">interesting_reg_images</span><span class="p">:</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos">647</span></a>                    <span class="n">analysis_results</span><span class="o">.</span><span class="n">interesting_regions_images</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos">648</span></a>                        <span class="p">(</span>
</span><span id="L-649"><a href="#L-649"><span class="linenos">649</span></a>                            <span class="n">tmp_image</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_ALN_IMAGES_INTERESTING_REGIONS_BASENAME</span><span class="p">],</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos">650</span></a>                            <span class="n">tmp_image</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos">651</span></a>                        <span class="p">),</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos">652</span></a>                    <span class="p">)</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos">653</span></a>
</span><span id="L-654"><a href="#L-654"><span class="linenos">654</span></a>
</span><span id="L-655"><a href="#L-655"><span class="linenos">655</span></a><span class="k">class</span> <span class="nc">ObjectSerializer</span><span class="p">:</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos">656</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Class which handles serialization of objects.&quot;&quot;&quot;</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos">657</span></a>
</span><span id="L-658"><a href="#L-658"><span class="linenos">658</span></a>    <span class="n">object_dict</span><span class="p">:</span> <span class="nb">dict</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos">659</span></a>
</span><span id="L-660"><a href="#L-660"><span class="linenos">660</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_to_serialize</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># noqa: ANN001</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos">661</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>
</span><span id="L-662"><a href="#L-662"><span class="linenos">662</span></a>
</span><span id="L-663"><a href="#L-663"><span class="linenos">663</span></a><span class="sd">        Args:</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos">664</span></a><span class="sd">            object_to_serialize:</span>
</span><span id="L-665"><a href="#L-665"><span class="linenos">665</span></a><span class="sd">                objects which gets serialized</span>
</span><span id="L-666"><a href="#L-666"><span class="linenos">666</span></a><span class="sd">            filepath:</span>
</span><span id="L-667"><a href="#L-667"><span class="linenos">667</span></a><span class="sd">                filepath of the json file, without the file name</span>
</span><span id="L-668"><a href="#L-668"><span class="linenos">668</span></a><span class="sd">            filename:</span>
</span><span id="L-669"><a href="#L-669"><span class="linenos">669</span></a><span class="sd">                name of the json file WITHOUT .json extension!</span>
</span><span id="L-670"><a href="#L-670"><span class="linenos">670</span></a>
</span><span id="L-671"><a href="#L-671"><span class="linenos">671</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-672"><a href="#L-672"><span class="linenos">672</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">object</span> <span class="o">=</span> <span class="n">object_to_serialize</span>
</span><span id="L-673"><a href="#L-673"><span class="linenos">673</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="o">=</span> <span class="n">filepath</span>
</span><span id="L-674"><a href="#L-674"><span class="linenos">674</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">filename</span>
</span><span id="L-675"><a href="#L-675"><span class="linenos">675</span></a>
</span><span id="L-676"><a href="#L-676"><span class="linenos">676</span></a>    <span class="k">def</span> <span class="nf">create_standard_object_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-677"><a href="#L-677"><span class="linenos">677</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates standard object dictionary for serialization.&quot;&quot;&quot;</span>
</span><span id="L-678"><a href="#L-678"><span class="linenos">678</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="vm">__dict__</span>
</span><span id="L-679"><a href="#L-679"><span class="linenos">679</span></a>
</span><span id="L-680"><a href="#L-680"><span class="linenos">680</span></a>    <span class="k">def</span> <span class="nf">set_custom_object_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">custom_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-681"><a href="#L-681"><span class="linenos">681</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets a custom dictionary for serialization.&quot;&quot;&quot;</span>
</span><span id="L-682"><a href="#L-682"><span class="linenos">682</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span> <span class="o">=</span> <span class="n">custom_dict</span>
</span><span id="L-683"><a href="#L-683"><span class="linenos">683</span></a>
</span><span id="L-684"><a href="#L-684"><span class="linenos">684</span></a>    <span class="k">def</span> <span class="nf">update_object_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dict_with_updates</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos">685</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a dictionary for serialization.&quot;&quot;&quot;</span>
</span><span id="L-686"><a href="#L-686"><span class="linenos">686</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">dict_with_updates</span><span class="p">)</span>
</span><span id="L-687"><a href="#L-687"><span class="linenos">687</span></a>
</span><span id="L-688"><a href="#L-688"><span class="linenos">688</span></a>    <span class="k">def</span> <span class="nf">serialize_object</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-689"><a href="#L-689"><span class="linenos">689</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Serializes the object to a JSON file.&quot;&quot;&quot;</span>
</span><span id="L-690"><a href="#L-690"><span class="linenos">690</span></a>        <span class="n">tmp_object_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="si">}</span><span class="s2">.json&quot;</span><span class="p">),</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</span><span id="L-691"><a href="#L-691"><span class="linenos">691</span></a>        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="p">,</span> <span class="n">tmp_object_file</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</span><span id="L-692"><a href="#L-692"><span class="linenos">692</span></a>        <span class="n">tmp_object_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-693"><a href="#L-693"><span class="linenos">693</span></a>
</span><span id="L-694"><a href="#L-694"><span class="linenos">694</span></a>
</span><span id="L-695"><a href="#L-695"><span class="linenos">695</span></a><span class="k">class</span> <span class="nc">ObjectDeserializer</span><span class="p">:</span>
</span><span id="L-696"><a href="#L-696"><span class="linenos">696</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Class which deserializes objects.&quot;&quot;&quot;</span>
</span><span id="L-697"><a href="#L-697"><span class="linenos">697</span></a>
</span><span id="L-698"><a href="#L-698"><span class="linenos">698</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-699"><a href="#L-699"><span class="linenos">699</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>
</span><span id="L-700"><a href="#L-700"><span class="linenos">700</span></a>
</span><span id="L-701"><a href="#L-701"><span class="linenos">701</span></a><span class="sd">        Args:</span>
</span><span id="L-702"><a href="#L-702"><span class="linenos">702</span></a><span class="sd">            filepath: filepath of the json file, without the file name</span>
</span><span id="L-703"><a href="#L-703"><span class="linenos">703</span></a><span class="sd">            filename: name of the json file WITHOUT .json extension!</span>
</span><span id="L-704"><a href="#L-704"><span class="linenos">704</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-705"><a href="#L-705"><span class="linenos">705</span></a>        <span class="n">tmp_object_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">.json&quot;</span><span class="p">),</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</span><span id="L-706"><a href="#L-706"><span class="linenos">706</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">tmp_object_file</span><span class="p">)</span>
</span><span id="L-707"><a href="#L-707"><span class="linenos">707</span></a>
</span><span id="L-708"><a href="#L-708"><span class="linenos">708</span></a>    <span class="k">def</span> <span class="nf">deserialize_protein</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;protein.Protein&quot;</span><span class="p">:</span>
</span><span id="L-709"><a href="#L-709"><span class="linenos">709</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserializes the protein object from a JSON file.&quot;&quot;&quot;</span>
</span><span id="L-710"><a href="#L-710"><span class="linenos">710</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;export_data_dir&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;None&quot;</span><span class="p">:</span>
</span><span id="L-711"><a href="#L-711"><span class="linenos">711</span></a>            <span class="n">update</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;export_data_dir&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>
</span><span id="L-712"><a href="#L-712"><span class="linenos">712</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">update</span><span class="p">)</span>
</span><span id="L-713"><a href="#L-713"><span class="linenos">713</span></a>        <span class="n">tmp_protein</span> <span class="o">=</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span><span class="p">(</span>
</span><span id="L-714"><a href="#L-714"><span class="linenos">714</span></a>            <span class="n">molecule_object</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;filename&quot;</span><span class="p">),</span>  <span class="c1"># important for duplicated proteins</span>
</span><span id="L-715"><a href="#L-715"><span class="linenos">715</span></a>            <span class="n">proteins_dirname</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proteins_dirname&quot;</span><span class="p">),</span>
</span><span id="L-716"><a href="#L-716"><span class="linenos">716</span></a>            <span class="n">pdb_filepath</span><span class="o">=</span><span class="n">path_util</span><span class="o">.</span><span class="n">FilePath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;import_data_dir&quot;</span><span class="p">)),</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos">717</span></a>        <span class="p">)</span>
</span><span id="L-718"><a href="#L-718"><span class="linenos">718</span></a>        <span class="n">tmp_protein</span><span class="o">.</span><span class="n">molecule_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;molecule_object&quot;</span><span class="p">)</span>
</span><span id="L-719"><a href="#L-719"><span class="linenos">719</span></a>        <span class="n">tmp_protein</span><span class="o">.</span><span class="n">pymol_selection</span><span class="o">.</span><span class="n">selection_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;selection&quot;</span><span class="p">)</span>
</span><span id="L-720"><a href="#L-720"><span class="linenos">720</span></a>        <span class="n">tmp_protein</span><span class="o">.</span><span class="n">chains</span> <span class="o">=</span> <span class="n">protein_util</span><span class="o">.</span><span class="n">create_chains_from_list_of_tuples</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;chains&quot;</span><span class="p">))</span>
</span><span id="L-721"><a href="#L-721"><span class="linenos">721</span></a>        <span class="n">tmp_protein</span><span class="o">.</span><span class="n">pymol_session_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pymol_session_file&quot;</span><span class="p">)</span>
</span><span id="L-722"><a href="#L-722"><span class="linenos">722</span></a>        <span class="k">return</span> <span class="n">tmp_protein</span>
</span><span id="L-723"><a href="#L-723"><span class="linenos">723</span></a>
</span><span id="L-724"><a href="#L-724"><span class="linenos">724</span></a>    <span class="k">def</span> <span class="nf">deserialize_protein_pair</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;protein_pair.ProteinPair&quot;</span><span class="p">:</span>
</span><span id="L-725"><a href="#L-725"><span class="linenos">725</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserialize a protein pair object from a JSON file.&quot;&quot;&quot;</span>
</span><span id="L-726"><a href="#L-726"><span class="linenos">726</span></a>        <span class="n">tmp_protein_pair</span> <span class="o">=</span> <span class="n">protein_pair</span><span class="o">.</span><span class="n">ProteinPair</span><span class="p">(</span>
</span><span id="L-727"><a href="#L-727"><span class="linenos">727</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_molecule_object&quot;</span><span class="p">),</span>
</span><span id="L-728"><a href="#L-728"><span class="linenos">728</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_molecule_object&quot;</span><span class="p">),</span>
</span><span id="L-729"><a href="#L-729"><span class="linenos">729</span></a>            <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;export_dirname&quot;</span><span class="p">)),</span>
</span><span id="L-730"><a href="#L-730"><span class="linenos">730</span></a>        <span class="p">)</span>
</span><span id="L-731"><a href="#L-731"><span class="linenos">731</span></a>        <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">pymol_session_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pymol_session_file&quot;</span><span class="p">)</span>
</span><span id="L-732"><a href="#L-732"><span class="linenos">732</span></a>        <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
</span><span id="L-733"><a href="#L-733"><span class="linenos">733</span></a>
</span><span id="L-734"><a href="#L-734"><span class="linenos">734</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_export_data_dir&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;None&quot;</span><span class="p">:</span>
</span><span id="L-735"><a href="#L-735"><span class="linenos">735</span></a>            <span class="n">export_data_dir</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-736"><a href="#L-736"><span class="linenos">736</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-737"><a href="#L-737"><span class="linenos">737</span></a>            <span class="n">export_data_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_export_data_dir&quot;</span><span class="p">)</span>
</span><span id="L-738"><a href="#L-738"><span class="linenos">738</span></a>
</span><span id="L-739"><a href="#L-739"><span class="linenos">739</span></a>        <span class="n">tmp_protein_1</span> <span class="o">=</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span><span class="p">(</span>
</span><span id="L-740"><a href="#L-740"><span class="linenos">740</span></a>            <span class="n">molecule_object</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_filename&quot;</span><span class="p">),</span>  <span class="c1"># important for duplicated proteins</span>
</span><span id="L-741"><a href="#L-741"><span class="linenos">741</span></a>            <span class="n">proteins_dirname</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proteins_dirname&quot;</span><span class="p">),</span>
</span><span id="L-742"><a href="#L-742"><span class="linenos">742</span></a>            <span class="n">pdb_filepath</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_import_data_dir&quot;</span><span class="p">),</span>
</span><span id="L-743"><a href="#L-743"><span class="linenos">743</span></a>        <span class="p">)</span>
</span><span id="L-744"><a href="#L-744"><span class="linenos">744</span></a>        <span class="n">tmp_protein_1</span><span class="o">.</span><span class="n">molecule_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_molecule_object&quot;</span><span class="p">)</span>
</span><span id="L-745"><a href="#L-745"><span class="linenos">745</span></a>        <span class="n">tmp_protein_1</span><span class="o">.</span><span class="n">pymol_selection</span><span class="o">.</span><span class="n">selection_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_selection&quot;</span><span class="p">)</span>
</span><span id="L-746"><a href="#L-746"><span class="linenos">746</span></a>        <span class="n">tmp_protein_1</span><span class="o">.</span><span class="n">chains</span> <span class="o">=</span> <span class="n">protein_util</span><span class="o">.</span><span class="n">create_chains_from_list_of_tuples</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_chains&quot;</span><span class="p">))</span>
</span><span id="L-747"><a href="#L-747"><span class="linenos">747</span></a>        <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">ref_obj</span> <span class="o">=</span> <span class="n">tmp_protein_1</span>
</span><span id="L-748"><a href="#L-748"><span class="linenos">748</span></a>
</span><span id="L-749"><a href="#L-749"><span class="linenos">749</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_export_data_dir&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;None&quot;</span><span class="p">:</span>
</span><span id="L-750"><a href="#L-750"><span class="linenos">750</span></a>            <span class="n">export_data_dir</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-751"><a href="#L-751"><span class="linenos">751</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-752"><a href="#L-752"><span class="linenos">752</span></a>            <span class="n">export_data_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_export_data_dir&quot;</span><span class="p">)</span>  <span class="c1"># noqa: F841</span>
</span><span id="L-753"><a href="#L-753"><span class="linenos">753</span></a>        <span class="n">tmp_protein_2</span> <span class="o">=</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span><span class="p">(</span>
</span><span id="L-754"><a href="#L-754"><span class="linenos">754</span></a>            <span class="n">molecule_object</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_filename&quot;</span><span class="p">),</span>
</span><span id="L-755"><a href="#L-755"><span class="linenos">755</span></a>            <span class="c1"># important for duplicated proteins</span>
</span><span id="L-756"><a href="#L-756"><span class="linenos">756</span></a>            <span class="n">proteins_dirname</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proteins_dirname&quot;</span><span class="p">),</span>
</span><span id="L-757"><a href="#L-757"><span class="linenos">757</span></a>            <span class="n">pdb_filepath</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_import_data_dir&quot;</span><span class="p">),</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos">758</span></a>        <span class="p">)</span>
</span><span id="L-759"><a href="#L-759"><span class="linenos">759</span></a>        <span class="n">tmp_protein_2</span><span class="o">.</span><span class="n">molecule_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_molecule_object&quot;</span><span class="p">)</span>
</span><span id="L-760"><a href="#L-760"><span class="linenos">760</span></a>        <span class="n">tmp_protein_2</span><span class="o">.</span><span class="n">pymol_selection</span><span class="o">.</span><span class="n">selection_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_selection&quot;</span><span class="p">)</span>
</span><span id="L-761"><a href="#L-761"><span class="linenos">761</span></a>        <span class="n">tmp_protein_2</span><span class="o">.</span><span class="n">chains</span> <span class="o">=</span> <span class="n">protein_util</span><span class="o">.</span><span class="n">create_chains_from_list_of_tuples</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_chains&quot;</span><span class="p">))</span>
</span><span id="L-762"><a href="#L-762"><span class="linenos">762</span></a>        <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">model_obj</span> <span class="o">=</span> <span class="n">tmp_protein_2</span>
</span><span id="L-763"><a href="#L-763"><span class="linenos">763</span></a>
</span><span id="L-764"><a href="#L-764"><span class="linenos">764</span></a>        <span class="k">return</span> <span class="n">tmp_protein_pair</span>
</span><span id="L-765"><a href="#L-765"><span class="linenos">765</span></a>
</span><span id="L-766"><a href="#L-766"><span class="linenos">766</span></a>    <span class="k">def</span> <span class="nf">deserialize_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app_settings</span><span class="p">:</span> <span class="s2">&quot;settings.Settings&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;project.Project&quot;</span><span class="p">:</span>
</span><span id="L-767"><a href="#L-767"><span class="linenos">767</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserializes the project object from the JSON file.&quot;&quot;&quot;</span>
</span><span id="L-768"><a href="#L-768"><span class="linenos">768</span></a>        <span class="n">tmp_project</span><span class="p">:</span> <span class="s2">&quot;project.Project&quot;</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">Project</span><span class="p">(</span>
</span><span id="L-769"><a href="#L-769"><span class="linenos">769</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_project_name&quot;</span><span class="p">),</span>
</span><span id="L-770"><a href="#L-770"><span class="linenos">770</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_workspace&quot;</span><span class="p">),</span>
</span><span id="L-771"><a href="#L-771"><span class="linenos">771</span></a>        <span class="p">)</span>
</span><span id="L-772"><a href="#L-772"><span class="linenos">772</span></a>        <span class="n">tmp_project</span><span class="o">.</span><span class="n">set_folder_paths</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_folder_paths&quot;</span><span class="p">))</span>
</span><span id="L-773"><a href="#L-773"><span class="linenos">773</span></a>        <span class="n">tmp_project</span><span class="o">.</span><span class="n">project_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;project_path&quot;</span><span class="p">)</span>
</span><span id="L-774"><a href="#L-774"><span class="linenos">774</span></a>        <span class="k">for</span> <span class="n">tmp_protein_json_filepath</span> <span class="ow">in</span> <span class="n">project_util</span><span class="o">.</span><span class="n">get_all_protein_json_filepaths_from_project</span><span class="p">(</span><span class="n">tmp_project</span><span class="p">):</span>
</span><span id="L-775"><a href="#L-775"><span class="linenos">775</span></a>            <span class="n">tmp_project</span><span class="o">.</span><span class="n">add_existing_protein</span><span class="p">(</span>
</span><span id="L-776"><a href="#L-776"><span class="linenos">776</span></a>                <span class="n">ObjectDeserializer</span><span class="p">(</span>
</span><span id="L-777"><a href="#L-777"><span class="linenos">777</span></a>                    <span class="n">tmp_protein_json_filepath</span><span class="o">.</span><span class="n">get_dirname</span><span class="p">(),</span>
</span><span id="L-778"><a href="#L-778"><span class="linenos">778</span></a>                    <span class="n">tmp_protein_json_filepath</span><span class="o">.</span><span class="n">get_filename</span><span class="p">(),</span>
</span><span id="L-779"><a href="#L-779"><span class="linenos">779</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">deserialize_protein</span><span class="p">(),</span>
</span><span id="L-780"><a href="#L-780"><span class="linenos">780</span></a>            <span class="p">)</span>
</span><span id="L-781"><a href="#L-781"><span class="linenos">781</span></a>        <span class="k">for</span> <span class="n">tmp_protein_pair_json_filepath</span> <span class="ow">in</span> <span class="n">project_util</span><span class="o">.</span><span class="n">get_all_protein_pair_json_filepaths_from_project</span><span class="p">(</span>
</span><span id="L-782"><a href="#L-782"><span class="linenos">782</span></a>            <span class="n">tmp_project</span><span class="p">,</span>
</span><span id="L-783"><a href="#L-783"><span class="linenos">783</span></a>        <span class="p">):</span>
</span><span id="L-784"><a href="#L-784"><span class="linenos">784</span></a>            <span class="n">tmp_project</span><span class="o">.</span><span class="n">add_protein_pair</span><span class="p">(</span>
</span><span id="L-785"><a href="#L-785"><span class="linenos">785</span></a>                <span class="n">ObjectDeserializer</span><span class="p">(</span>
</span><span id="L-786"><a href="#L-786"><span class="linenos">786</span></a>                    <span class="n">tmp_protein_pair_json_filepath</span><span class="o">.</span><span class="n">get_dirname</span><span class="p">(),</span>
</span><span id="L-787"><a href="#L-787"><span class="linenos">787</span></a>                    <span class="n">tmp_protein_pair_json_filepath</span><span class="o">.</span><span class="n">get_filename</span><span class="p">(),</span>
</span><span id="L-788"><a href="#L-788"><span class="linenos">788</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">deserialize_protein_pair</span><span class="p">(),</span>
</span><span id="L-789"><a href="#L-789"><span class="linenos">789</span></a>            <span class="p">)</span>
</span><span id="L-790"><a href="#L-790"><span class="linenos">790</span></a>        <span class="k">for</span> <span class="n">tmp_distance_analysis_json_filepath</span> <span class="ow">in</span> <span class="n">project_util</span><span class="o">.</span><span class="n">get_all_distance_analysis_json_filepaths_from_project</span><span class="p">(</span>
</span><span id="L-791"><a href="#L-791"><span class="linenos">791</span></a>            <span class="n">tmp_project</span><span class="p">,</span>
</span><span id="L-792"><a href="#L-792"><span class="linenos">792</span></a>        <span class="p">):</span>
</span><span id="L-793"><a href="#L-793"><span class="linenos">793</span></a>            <span class="n">tmp_project</span><span class="o">.</span><span class="n">add_distance_analysis</span><span class="p">(</span>
</span><span id="L-794"><a href="#L-794"><span class="linenos">794</span></a>                <span class="n">ObjectDeserializer</span><span class="p">(</span>
</span><span id="L-795"><a href="#L-795"><span class="linenos">795</span></a>                    <span class="n">tmp_distance_analysis_json_filepath</span><span class="o">.</span><span class="n">get_dirname</span><span class="p">(),</span>
</span><span id="L-796"><a href="#L-796"><span class="linenos">796</span></a>                    <span class="n">tmp_distance_analysis_json_filepath</span><span class="o">.</span><span class="n">get_filename</span><span class="p">(),</span>
</span><span id="L-797"><a href="#L-797"><span class="linenos">797</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">deserialize_distance_analysis</span><span class="p">(</span><span class="n">app_settings</span><span class="o">=</span><span class="n">app_settings</span><span class="p">,</span> <span class="n">app_project</span><span class="o">=</span><span class="n">tmp_project</span><span class="p">),</span>
</span><span id="L-798"><a href="#L-798"><span class="linenos">798</span></a>            <span class="p">)</span>
</span><span id="L-799"><a href="#L-799"><span class="linenos">799</span></a>        <span class="k">return</span> <span class="n">tmp_project</span>
</span><span id="L-800"><a href="#L-800"><span class="linenos">800</span></a>
</span><span id="L-801"><a href="#L-801"><span class="linenos">801</span></a>    <span class="k">def</span> <span class="nf">deserialize_distance_analysis</span><span class="p">(</span>
</span><span id="L-802"><a href="#L-802"><span class="linenos">802</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-803"><a href="#L-803"><span class="linenos">803</span></a>        <span class="n">app_settings</span><span class="p">:</span> <span class="s2">&quot;settings.Settings&quot;</span><span class="p">,</span>
</span><span id="L-804"><a href="#L-804"><span class="linenos">804</span></a>        <span class="n">app_project</span><span class="p">:</span> <span class="s2">&quot;project.Project&quot;</span><span class="p">,</span>
</span><span id="L-805"><a href="#L-805"><span class="linenos">805</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;distance_analysis.DistanceAnalysis&quot;</span><span class="p">:</span>
</span><span id="L-806"><a href="#L-806"><span class="linenos">806</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserializes distance analysis object from a JSON file.&quot;&quot;&quot;</span>
</span><span id="L-807"><a href="#L-807"><span class="linenos">807</span></a>        <span class="n">tmp_protein_pair</span> <span class="o">=</span> <span class="n">app_project</span><span class="o">.</span><span class="n">search_protein_pair</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;protein_pair_for_analysis_name&quot;</span><span class="p">))</span>
</span><span id="L-808"><a href="#L-808"><span class="linenos">808</span></a>        <span class="n">tmp_distance_analysis</span> <span class="o">=</span> <span class="n">distance_analysis</span><span class="o">.</span><span class="n">DistanceAnalysis</span><span class="p">(</span><span class="n">tmp_protein_pair</span><span class="p">,</span> <span class="n">app_settings</span><span class="p">)</span>
</span><span id="L-809"><a href="#L-809"><span class="linenos">809</span></a>        <span class="n">tmp_distance_analysis</span><span class="o">.</span><span class="n">cutoff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cutoff&quot;</span><span class="p">)</span>
</span><span id="L-810"><a href="#L-810"><span class="linenos">810</span></a>        <span class="n">tmp_distance_analysis</span><span class="o">.</span><span class="n">cycles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cycles&quot;</span><span class="p">)</span>
</span><span id="L-811"><a href="#L-811"><span class="linenos">811</span></a>        <span class="n">tmp_distance_analysis</span><span class="o">.</span><span class="n">export_dirname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;export_dirname&quot;</span><span class="p">)</span>
</span><span id="L-812"><a href="#L-812"><span class="linenos">812</span></a>        <span class="n">tmp_distance_analysis</span><span class="o">.</span><span class="n">pymol_session_filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pymol_session_filepath&quot;</span><span class="p">)</span>
</span><span id="L-813"><a href="#L-813"><span class="linenos">813</span></a>        <span class="k">return</span> <span class="n">tmp_distance_analysis</span>
</span><span id="L-814"><a href="#L-814"><span class="linenos">814</span></a>
</span><span id="L-815"><a href="#L-815"><span class="linenos">815</span></a>    <span class="k">def</span> <span class="nf">deserialize_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;settings.Settings&quot;</span><span class="p">:</span>
</span><span id="L-816"><a href="#L-816"><span class="linenos">816</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserializes settings object from a JSON file.&quot;&quot;&quot;</span>
</span><span id="L-817"><a href="#L-817"><span class="linenos">817</span></a>        <span class="n">tmp_settings</span><span class="p">:</span> <span class="n">settings</span><span class="o">.</span><span class="n">Settings</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">Settings</span><span class="p">(</span>
</span><span id="L-818"><a href="#L-818"><span class="linenos">818</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dir_settings&quot;</span><span class="p">),</span>
</span><span id="L-819"><a href="#L-819"><span class="linenos">819</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;filename&quot;</span><span class="p">),</span>
</span><span id="L-820"><a href="#L-820"><span class="linenos">820</span></a>        <span class="p">)</span>
</span><span id="L-821"><a href="#L-821"><span class="linenos">821</span></a>        <span class="k">if</span> <span class="n">safeguard</span><span class="o">.</span><span class="n">Safeguard</span><span class="o">.</span><span class="n">check_filepath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;workspace_path&quot;</span><span class="p">)):</span>
</span><span id="L-822"><a href="#L-822"><span class="linenos">822</span></a>            <span class="n">tmp_settings</span><span class="o">.</span><span class="n">workspace_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;workspace_path&quot;</span><span class="p">)</span>
</span><span id="L-823"><a href="#L-823"><span class="linenos">823</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-824"><a href="#L-824"><span class="linenos">824</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="L-825"><a href="#L-825"><span class="linenos">825</span></a>        <span class="k">if</span> <span class="n">safeguard</span><span class="o">.</span><span class="n">Safeguard</span><span class="o">.</span><span class="n">check_if_number_is_positive</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cycles&quot;</span><span class="p">))):</span>
</span><span id="L-826"><a href="#L-826"><span class="linenos">826</span></a>            <span class="n">tmp_settings</span><span class="o">.</span><span class="n">cycles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cycles&quot;</span><span class="p">)</span>
</span><span id="L-827"><a href="#L-827"><span class="linenos">827</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-828"><a href="#L-828"><span class="linenos">828</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="L-829"><a href="#L-829"><span class="linenos">829</span></a>        <span class="k">if</span> <span class="n">safeguard</span><span class="o">.</span><span class="n">Safeguard</span><span class="o">.</span><span class="n">check_if_number_is_positive</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cutoff&quot;</span><span class="p">))):</span>
</span><span id="L-830"><a href="#L-830"><span class="linenos">830</span></a>            <span class="n">tmp_settings</span><span class="o">.</span><span class="n">cutoff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cutoff&quot;</span><span class="p">)</span>
</span><span id="L-831"><a href="#L-831"><span class="linenos">831</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-832"><a href="#L-832"><span class="linenos">832</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="L-833"><a href="#L-833"><span class="linenos">833</span></a>        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;app_launch&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;app_launch&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-834"><a href="#L-834"><span class="linenos">834</span></a>            <span class="n">tmp_settings</span><span class="o">.</span><span class="n">app_launch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;app_launch&quot;</span><span class="p">)</span>
</span><span id="L-835"><a href="#L-835"><span class="linenos">835</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-836"><a href="#L-836"><span class="linenos">836</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="L-837"><a href="#L-837"><span class="linenos">837</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">safeguard</span><span class="o">.</span><span class="n">Safeguard</span><span class="o">.</span><span class="n">check_filepath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dir_settings&quot;</span><span class="p">)):</span>
</span><span id="L-838"><a href="#L-838"><span class="linenos">838</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="L-839"><a href="#L-839"><span class="linenos">839</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;filename&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="s2">&quot;settings.json&quot;</span><span class="p">:</span>
</span><span id="L-840"><a href="#L-840"><span class="linenos">840</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="L-841"><a href="#L-841"><span class="linenos">841</span></a>        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;wsl_install&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;wsl_install&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-842"><a href="#L-842"><span class="linenos">842</span></a>            <span class="n">tmp_settings</span><span class="o">.</span><span class="n">wsl_install</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;wsl_install&quot;</span><span class="p">))</span>
</span><span id="L-843"><a href="#L-843"><span class="linenos">843</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-844"><a href="#L-844"><span class="linenos">844</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="L-845"><a href="#L-845"><span class="linenos">845</span></a>        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;local_colabfold&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;local_colabfold&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-846"><a href="#L-846"><span class="linenos">846</span></a>            <span class="n">tmp_settings</span><span class="o">.</span><span class="n">local_colabfold</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;local_colabfold&quot;</span><span class="p">))</span>
</span><span id="L-847"><a href="#L-847"><span class="linenos">847</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-848"><a href="#L-848"><span class="linenos">848</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="L-849"><a href="#L-849"><span class="linenos">849</span></a>        <span class="k">return</span> <span class="n">tmp_settings</span>
</span><span id="L-850"><a href="#L-850"><span class="linenos">850</span></a>
</span><span id="L-851"><a href="#L-851"><span class="linenos">851</span></a>    <span class="k">def</span> <span class="nf">deserialize_sequence</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;sequence.Sequence&quot;</span><span class="p">:</span>
</span><span id="L-852"><a href="#L-852"><span class="linenos">852</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserializes sequence object from a JSON file.&quot;&quot;&quot;</span>
</span><span id="L-853"><a href="#L-853"><span class="linenos">853</span></a>        <span class="k">return</span> <span class="n">sequence</span><span class="o">.</span><span class="n">Sequence</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sequence&quot;</span><span class="p">))</span>
</span><span id="L-854"><a href="#L-854"><span class="linenos">854</span></a>
</span><span id="L-855"><a href="#L-855"><span class="linenos">855</span></a>
</span><span id="L-856"><a href="#L-856"><span class="linenos">856</span></a><span class="k">class</span> <span class="nc">WorkspaceScanner</span><span class="p">:</span>
</span><span id="L-857"><a href="#L-857"><span class="linenos">857</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Class to scan the workspace.&quot;&quot;&quot;</span>
</span><span id="L-858"><a href="#L-858"><span class="linenos">858</span></a>
</span><span id="L-859"><a href="#L-859"><span class="linenos">859</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-860"><a href="#L-860"><span class="linenos">860</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>
</span><span id="L-861"><a href="#L-861"><span class="linenos">861</span></a>
</span><span id="L-862"><a href="#L-862"><span class="linenos">862</span></a><span class="sd">        Args:</span>
</span><span id="L-863"><a href="#L-863"><span class="linenos">863</span></a><span class="sd">            workspace_path: the path to the workspace.</span>
</span><span id="L-864"><a href="#L-864"><span class="linenos">864</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-865"><a href="#L-865"><span class="linenos">865</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">workspace_path</span> <span class="o">=</span> <span class="n">workspace_path</span>
</span><span id="L-866"><a href="#L-866"><span class="linenos">866</span></a>
</span><span id="L-867"><a href="#L-867"><span class="linenos">867</span></a>    <span class="k">def</span> <span class="nf">scan_workspace_for_valid_projects</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-868"><a href="#L-868"><span class="linenos">868</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scans the workspace for valid projects.&quot;&quot;&quot;</span>
</span><span id="L-869"><a href="#L-869"><span class="linenos">869</span></a>        <span class="n">directory_content</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace_path</span><span class="p">))</span>
</span><span id="L-870"><a href="#L-870"><span class="linenos">870</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">file</span> <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">directory_content</span> <span class="k">if</span> <span class="n">file</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.xml&quot;</span><span class="p">)]</span>
</span><span id="L-871"><a href="#L-871"><span class="linenos">871</span></a>
</span><span id="L-872"><a href="#L-872"><span class="linenos">872</span></a>    <span class="k">def</span> <span class="nf">scan_workspace_for_non_duplicate_proteins</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
</span><span id="L-873"><a href="#L-873"><span class="linenos">873</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scans the workspace for non-duplicate proteins.&quot;&quot;&quot;</span>
</span><span id="L-874"><a href="#L-874"><span class="linenos">874</span></a>        <span class="n">tmp_workspace_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace_path</span><span class="p">)</span>
</span><span id="L-875"><a href="#L-875"><span class="linenos">875</span></a>        <span class="c1"># List of XML file paths</span>
</span><span id="L-876"><a href="#L-876"><span class="linenos">876</span></a>        <span class="n">xml_files</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-877"><a href="#L-877"><span class="linenos">877</span></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tmp_workspace_path</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">tmp_project_file</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="L-878"><a href="#L-878"><span class="linenos">878</span></a>            <span class="k">for</span> <span class="n">tmp_project_file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">tmp_workspace_path</span><span class="p">)</span>
</span><span id="L-879"><a href="#L-879"><span class="linenos">879</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tmp_workspace_path</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">tmp_project_file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
</span><span id="L-880"><a href="#L-880"><span class="linenos">880</span></a>        <span class="p">]</span>
</span><span id="L-881"><a href="#L-881"><span class="linenos">881</span></a>        <span class="c1"># Using ThreadPoolExecutor to read XML files in parallel</span>
</span><span id="L-882"><a href="#L-882"><span class="linenos">882</span></a>        <span class="k">with</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">ThreadPoolExecutor</span><span class="p">()</span> <span class="k">as</span> <span class="n">executor</span><span class="p">:</span>
</span><span id="L-883"><a href="#L-883"><span class="linenos">883</span></a>            <span class="c1"># Create a queue and a lock for thread safety</span>
</span><span id="L-884"><a href="#L-884"><span class="linenos">884</span></a>            <span class="n">result_queue</span> <span class="o">=</span> <span class="n">Queue</span><span class="p">()</span>
</span><span id="L-885"><a href="#L-885"><span class="linenos">885</span></a>            <span class="n">lock</span> <span class="o">=</span> <span class="n">Lock</span><span class="p">()</span>
</span><span id="L-886"><a href="#L-886"><span class="linenos">886</span></a>
</span><span id="L-887"><a href="#L-887"><span class="linenos">887</span></a>            <span class="c1"># Map each XML file to the read_xml_file function in parallel</span>
</span><span id="L-888"><a href="#L-888"><span class="linenos">888</span></a>            <span class="n">futures</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-889"><a href="#L-889"><span class="linenos">889</span></a>                <span class="n">executor</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_proteins_of_project_xml</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">),</span> <span class="n">result_queue</span><span class="p">,</span> <span class="n">lock</span><span class="p">)</span>
</span><span id="L-890"><a href="#L-890"><span class="linenos">890</span></a>                <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">xml_files</span>
</span><span id="L-891"><a href="#L-891"><span class="linenos">891</span></a>            <span class="p">]</span>
</span><span id="L-892"><a href="#L-892"><span class="linenos">892</span></a>
</span><span id="L-893"><a href="#L-893"><span class="linenos">893</span></a>            <span class="c1"># Wait for all tasks to complete</span>
</span><span id="L-894"><a href="#L-894"><span class="linenos">894</span></a>            <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="n">futures</span><span class="p">)</span>
</span><span id="L-895"><a href="#L-895"><span class="linenos">895</span></a>
</span><span id="L-896"><a href="#L-896"><span class="linenos">896</span></a>            <span class="c1"># Retrieve results from the queue in the main thread</span>
</span><span id="L-897"><a href="#L-897"><span class="linenos">897</span></a>            <span class="n">all_proteins_of_workspace</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span><span class="p">()</span>
</span><span id="L-898"><a href="#L-898"><span class="linenos">898</span></a>            <span class="k">while</span> <span class="ow">not</span> <span class="n">result_queue</span><span class="o">.</span><span class="n">empty</span><span class="p">():</span>
</span><span id="L-899"><a href="#L-899"><span class="linenos">899</span></a>                <span class="n">result</span> <span class="o">=</span> <span class="n">result_queue</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="L-900"><a href="#L-900"><span class="linenos">900</span></a>                <span class="n">protein_name</span><span class="p">,</span> <span class="n">protein_info</span> <span class="o">=</span> <span class="n">result</span>
</span><span id="L-901"><a href="#L-901"><span class="linenos">901</span></a>                <span class="n">all_proteins_of_workspace</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-902"><a href="#L-902"><span class="linenos">902</span></a>                <span class="c1"># print(f&quot;Name: {protein_name}, Info: {protein_info}&quot;)</span>
</span><span id="L-903"><a href="#L-903"><span class="linenos">903</span></a>            <span class="n">flatten_proteins</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="o">*</span><span class="n">all_proteins_of_workspace</span><span class="p">))</span>
</span><span id="L-904"><a href="#L-904"><span class="linenos">904</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">flatten_proteins</span><span class="p">)</span>
</span><span id="L-905"><a href="#L-905"><span class="linenos">905</span></a>            <span class="c1"># Use a set to store unique elements</span>
</span><span id="L-906"><a href="#L-906"><span class="linenos">906</span></a>            <span class="n">unique_proteins_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="L-907"><a href="#L-907"><span class="linenos">907</span></a>            <span class="c1"># Iterate through the list and add unique elements to the set</span>
</span><span id="L-908"><a href="#L-908"><span class="linenos">908</span></a>            <span class="k">for</span> <span class="n">tmp_protein</span> <span class="ow">in</span> <span class="n">flatten_proteins</span><span class="p">:</span>
</span><span id="L-909"><a href="#L-909"><span class="linenos">909</span></a>                <span class="n">unique_proteins_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tmp_protein</span><span class="p">)</span>
</span><span id="L-910"><a href="#L-910"><span class="linenos">910</span></a>
</span><span id="L-911"><a href="#L-911"><span class="linenos">911</span></a>            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">unique_proteins_set</span><span class="p">))</span>
</span><span id="L-912"><a href="#L-912"><span class="linenos">912</span></a>
</span><span id="L-913"><a href="#L-913"><span class="linenos">913</span></a>    <span class="k">def</span> <span class="nf">_get_proteins_of_project_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xml_filepath</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">result_queue</span><span class="p">,</span> <span class="n">lock</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># noqa: ANN001</span>
</span><span id="L-914"><a href="#L-914"><span class="linenos">914</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the protein information from the project xml file.</span>
</span><span id="L-915"><a href="#L-915"><span class="linenos">915</span></a>
</span><span id="L-916"><a href="#L-916"><span class="linenos">916</span></a><span class="sd">        Args:</span>
</span><span id="L-917"><a href="#L-917"><span class="linenos">917</span></a><span class="sd">            xml_filepath: a path to the project xml file.</span>
</span><span id="L-918"><a href="#L-918"><span class="linenos">918</span></a><span class="sd">            result_queue: a queue to put the protein information into.</span>
</span><span id="L-919"><a href="#L-919"><span class="linenos">919</span></a><span class="sd">            lock: a lock to prevent the unauthorized access to the memory.</span>
</span><span id="L-920"><a href="#L-920"><span class="linenos">920</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-921"><a href="#L-921"><span class="linenos">921</span></a>        <span class="n">tmp_protein_names</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span><span class="p">()</span>
</span><span id="L-922"><a href="#L-922"><span class="linenos">922</span></a>        <span class="n">tmp_protein_infos</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span><span class="p">()</span>
</span><span id="L-923"><a href="#L-923"><span class="linenos">923</span></a>        <span class="n">xml_deserializer</span> <span class="o">=</span> <span class="n">XmlDeserializer</span><span class="p">(</span><span class="n">xml_filepath</span><span class="p">)</span>
</span><span id="L-924"><a href="#L-924"><span class="linenos">924</span></a>        <span class="n">project_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">xml_filepath</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.xml&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="L-925"><a href="#L-925"><span class="linenos">925</span></a>        <span class="k">for</span> <span class="n">tmp_protein</span> <span class="ow">in</span> <span class="n">xml_deserializer</span><span class="o">.</span><span class="n">xml_root</span><span class="o">.</span><span class="n">iter</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">PROTEIN</span><span class="p">):</span>
</span><span id="L-926"><a href="#L-926"><span class="linenos">926</span></a>            <span class="n">molecule_object</span> <span class="o">=</span> <span class="n">tmp_protein</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">PROTEIN_MOLECULE_OBJECT</span><span class="p">]</span>
</span><span id="L-927"><a href="#L-927"><span class="linenos">927</span></a>            <span class="k">if</span> <span class="n">molecule_object</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tmp_protein_names</span><span class="p">:</span>
</span><span id="L-928"><a href="#L-928"><span class="linenos">928</span></a>                <span class="n">tmp_protein_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">molecule_object</span><span class="p">)</span>
</span><span id="L-929"><a href="#L-929"><span class="linenos">929</span></a>                <span class="n">tmp_protein_infos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-930"><a href="#L-930"><span class="linenos">930</span></a>                    <span class="n">basic_protein_info</span><span class="o">.</span><span class="n">BasicProteinInfo</span><span class="p">(</span>
</span><span id="L-931"><a href="#L-931"><span class="linenos">931</span></a>                        <span class="n">molecule_object</span><span class="p">,</span>
</span><span id="L-932"><a href="#L-932"><span class="linenos">932</span></a>                        <span class="n">tmp_protein</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">ID</span><span class="p">],</span>
</span><span id="L-933"><a href="#L-933"><span class="linenos">933</span></a>                        <span class="n">project_name</span><span class="p">,</span>
</span><span id="L-934"><a href="#L-934"><span class="linenos">934</span></a>                    <span class="p">),</span>
</span><span id="L-935"><a href="#L-935"><span class="linenos">935</span></a>                <span class="p">)</span>
</span><span id="L-936"><a href="#L-936"><span class="linenos">936</span></a>        <span class="k">with</span> <span class="n">lock</span><span class="p">:</span>
</span><span id="L-937"><a href="#L-937"><span class="linenos">937</span></a>            <span class="n">result_queue</span><span class="o">.</span><span class="n">put</span><span class="p">((</span><span class="nb">list</span><span class="p">(</span><span class="n">tmp_protein_names</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="n">tmp_protein_infos</span><span class="p">)))</span>
</span><span id="L-938"><a href="#L-938"><span class="linenos">938</span></a>
</span><span id="L-939"><a href="#L-939"><span class="linenos">939</span></a>
</span><span id="L-940"><a href="#L-940"><span class="linenos">940</span></a><span class="k">class</span> <span class="nc">FilesystemCleaner</span><span class="p">:</span>
</span><span id="L-941"><a href="#L-941"><span class="linenos">941</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Class for cleaning up the filesystem.&quot;&quot;&quot;</span>
</span><span id="L-942"><a href="#L-942"><span class="linenos">942</span></a>
</span><span id="L-943"><a href="#L-943"><span class="linenos">943</span></a>    <span class="k">def</span> <span class="fm">__int__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-944"><a href="#L-944"><span class="linenos">944</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Empty constructor.&quot;&quot;&quot;</span>
</span><span id="L-945"><a href="#L-945"><span class="linenos">945</span></a>        <span class="k">pass</span>
</span><span id="L-946"><a href="#L-946"><span class="linenos">946</span></a>
</span><span id="L-947"><a href="#L-947"><span class="linenos">947</span></a>    <span class="nd">@staticmethod</span>
</span><span id="L-948"><a href="#L-948"><span class="linenos">948</span></a>    <span class="k">def</span> <span class="nf">clean_prediction_scratch_folder</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-949"><a href="#L-949"><span class="linenos">949</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes the scratch folder for fasta and pdb files and creates new ones.&quot;&quot;&quot;</span>
</span><span id="L-950"><a href="#L-950"><span class="linenos">950</span></a>        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">constants</span><span class="o">.</span><span class="n">PREDICTION_FASTA_DIR</span><span class="p">)</span>
</span><span id="L-951"><a href="#L-951"><span class="linenos">951</span></a>        <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">constants</span><span class="o">.</span><span class="n">PREDICTION_FASTA_DIR</span><span class="p">)</span>
</span><span id="L-952"><a href="#L-952"><span class="linenos">952</span></a>        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">constants</span><span class="o">.</span><span class="n">PREDICTION_PDB_DIR</span><span class="p">)</span>
</span><span id="L-953"><a href="#L-953"><span class="linenos">953</span></a>        <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">constants</span><span class="o">.</span><span class="n">PREDICTION_PDB_DIR</span><span class="p">)</span>
</span></pre></div>


            </section>
                <section id="logger">
                    <div class="attr variable">
            <span class="name">logger</span>        =
<span class="default_value">&lt;Logger C:\Users\martin\github_repos\PySSA\pyssa\io_pyssa\filesystem_io.py (DEBUG)&gt;</span>

        
    </div>
    <a class="headerlink" href="#logger"></a>
    
    

                </section>
                <section id="ProjectParserHandler">
                            <input id="ProjectParserHandler-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ProjectParserHandler</span><wbr>(<span class="base">xml.sax.handler.ContentHandler</span>):

                <label class="view-source-button" for="ProjectParserHandler-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProjectParserHandler"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProjectParserHandler-63"><a href="#ProjectParserHandler-63"><span class="linenos"> 63</span></a><span class="k">class</span> <span class="nc">ProjectParserHandler</span><span class="p">(</span><span class="n">sax</span><span class="o">.</span><span class="n">ContentHandler</span><span class="p">):</span>
</span><span id="ProjectParserHandler-64"><a href="#ProjectParserHandler-64"><span class="linenos"> 64</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a_project</span><span class="p">,</span> <span class="n">the_settings</span><span class="p">):</span>
</span><span id="ProjectParserHandler-65"><a href="#ProjectParserHandler-65"><span class="linenos"> 65</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">one_element_history</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span><span class="p">()</span>
</span><span id="ProjectParserHandler-66"><a href="#ProjectParserHandler-66"><span class="linenos"> 66</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">one_element_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;root&quot;</span><span class="p">)</span>
</span><span id="ProjectParserHandler-67"><a href="#ProjectParserHandler-67"><span class="linenos"> 67</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler-68"><a href="#ProjectParserHandler-68"><span class="linenos"> 68</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="ProjectParserHandler-69"><a href="#ProjectParserHandler-69"><span class="linenos"> 69</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_project</span> <span class="o">=</span> <span class="n">a_project</span>
</span><span id="ProjectParserHandler-70"><a href="#ProjectParserHandler-70"><span class="linenos"> 70</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_app_settings</span> <span class="o">=</span> <span class="n">the_settings</span>
</span><span id="ProjectParserHandler-71"><a href="#ProjectParserHandler-71"><span class="linenos"> 71</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pdb_data</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ProjectParserHandler-72"><a href="#ProjectParserHandler-72"><span class="linenos"> 72</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chains</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ProjectParserHandler-73"><a href="#ProjectParserHandler-73"><span class="linenos"> 73</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_protein_in_pair</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="ProjectParserHandler-74"><a href="#ProjectParserHandler-74"><span class="linenos"> 74</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">protein_pair_data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="ProjectParserHandler-75"><a href="#ProjectParserHandler-75"><span class="linenos"> 75</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_proteins_for_pair</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ProjectParserHandler-76"><a href="#ProjectParserHandler-76"><span class="linenos"> 76</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ProjectParserHandler-77"><a href="#ProjectParserHandler-77"><span class="linenos"> 77</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">result_obj</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ProjectParserHandler-78"><a href="#ProjectParserHandler-78"><span class="linenos"> 78</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="ProjectParserHandler-79"><a href="#ProjectParserHandler-79"><span class="linenos"> 79</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ProjectParserHandler-80"><a href="#ProjectParserHandler-80"><span class="linenos"> 80</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler-81"><a href="#ProjectParserHandler-81"><span class="linenos"> 81</span></a>
</span><span id="ProjectParserHandler-82"><a href="#ProjectParserHandler-82"><span class="linenos"> 82</span></a>        <span class="n">index_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="ProjectParserHandler-83"><a href="#ProjectParserHandler-83"><span class="linenos"> 83</span></a>        <span class="n">ref_chain_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="ProjectParserHandler-84"><a href="#ProjectParserHandler-84"><span class="linenos"> 84</span></a>        <span class="n">ref_pos_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="ProjectParserHandler-85"><a href="#ProjectParserHandler-85"><span class="linenos"> 85</span></a>        <span class="n">ref_resi_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="ProjectParserHandler-86"><a href="#ProjectParserHandler-86"><span class="linenos"> 86</span></a>        <span class="n">model_chain_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="ProjectParserHandler-87"><a href="#ProjectParserHandler-87"><span class="linenos"> 87</span></a>        <span class="n">model_pos_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="ProjectParserHandler-88"><a href="#ProjectParserHandler-88"><span class="linenos"> 88</span></a>        <span class="n">model_resi_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="ProjectParserHandler-89"><a href="#ProjectParserHandler-89"><span class="linenos"> 89</span></a>        <span class="n">distance_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="ProjectParserHandler-90"><a href="#ProjectParserHandler-90"><span class="linenos"> 90</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="ProjectParserHandler-91"><a href="#ProjectParserHandler-91"><span class="linenos"> 91</span></a>            <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="n">index_list</span><span class="p">,</span>
</span><span id="ProjectParserHandler-92"><a href="#ProjectParserHandler-92"><span class="linenos"> 92</span></a>            <span class="s2">&quot;ref_chain&quot;</span><span class="p">:</span> <span class="n">ref_chain_list</span><span class="p">,</span>
</span><span id="ProjectParserHandler-93"><a href="#ProjectParserHandler-93"><span class="linenos"> 93</span></a>            <span class="s2">&quot;ref_pos&quot;</span><span class="p">:</span> <span class="n">ref_pos_list</span><span class="p">,</span>
</span><span id="ProjectParserHandler-94"><a href="#ProjectParserHandler-94"><span class="linenos"> 94</span></a>            <span class="s2">&quot;ref_resi&quot;</span><span class="p">:</span> <span class="n">ref_resi_list</span><span class="p">,</span>
</span><span id="ProjectParserHandler-95"><a href="#ProjectParserHandler-95"><span class="linenos"> 95</span></a>            <span class="s2">&quot;model_chain&quot;</span><span class="p">:</span> <span class="n">model_chain_list</span><span class="p">,</span>
</span><span id="ProjectParserHandler-96"><a href="#ProjectParserHandler-96"><span class="linenos"> 96</span></a>            <span class="s2">&quot;model_pos&quot;</span><span class="p">:</span> <span class="n">model_pos_list</span><span class="p">,</span>
</span><span id="ProjectParserHandler-97"><a href="#ProjectParserHandler-97"><span class="linenos"> 97</span></a>            <span class="s2">&quot;model_resi&quot;</span><span class="p">:</span> <span class="n">model_resi_list</span><span class="p">,</span>
</span><span id="ProjectParserHandler-98"><a href="#ProjectParserHandler-98"><span class="linenos"> 98</span></a>            <span class="s2">&quot;distance&quot;</span><span class="p">:</span> <span class="n">distance_list</span><span class="p">,</span>
</span><span id="ProjectParserHandler-99"><a href="#ProjectParserHandler-99"><span class="linenos"> 99</span></a>        <span class="p">}</span>
</span><span id="ProjectParserHandler-100"><a href="#ProjectParserHandler-100"><span class="linenos">100</span></a>
</span><span id="ProjectParserHandler-101"><a href="#ProjectParserHandler-101"><span class="linenos">101</span></a>    <span class="k">def</span> <span class="nf">startElement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">):</span>
</span><span id="ProjectParserHandler-102"><a href="#ProjectParserHandler-102"><span class="linenos">102</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="ProjectParserHandler-103"><a href="#ProjectParserHandler-103"><span class="linenos">103</span></a>        <span class="n">tmp_last_element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">one_element_history</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="ProjectParserHandler-104"><a href="#ProjectParserHandler-104"><span class="linenos">104</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;project_info&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-105"><a href="#ProjectParserHandler-105"><span class="linenos">105</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_project</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">Project</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;workspace_path&quot;</span><span class="p">)))</span>
</span><span id="ProjectParserHandler-106"><a href="#ProjectParserHandler-106"><span class="linenos">106</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;sequence&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-107"><a href="#ProjectParserHandler-107"><span class="linenos">107</span></a>            <span class="k">if</span> <span class="n">tmp_last_element</span> <span class="o">==</span> <span class="s2">&quot;sequences&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-108"><a href="#ProjectParserHandler-108"><span class="linenos">108</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_project</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="ProjectParserHandler-109"><a href="#ProjectParserHandler-109"><span class="linenos">109</span></a>                    <span class="n">SeqRecord</span><span class="o">.</span><span class="n">SeqRecord</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span> <span class="n">seq</span><span class="o">=</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;seq&quot;</span><span class="p">))</span>
</span><span id="ProjectParserHandler-110"><a href="#ProjectParserHandler-110"><span class="linenos">110</span></a>                <span class="p">)</span>
</span><span id="ProjectParserHandler-111"><a href="#ProjectParserHandler-111"><span class="linenos">111</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;protein&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-112"><a href="#ProjectParserHandler-112"><span class="linenos">112</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="ProjectParserHandler-113"><a href="#ProjectParserHandler-113"><span class="linenos">113</span></a>                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span>
</span><span id="ProjectParserHandler-114"><a href="#ProjectParserHandler-114"><span class="linenos">114</span></a>                <span class="s2">&quot;pymol_molecule_object&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;pymol_molecule_object&quot;</span><span class="p">),</span>
</span><span id="ProjectParserHandler-115"><a href="#ProjectParserHandler-115"><span class="linenos">115</span></a>                <span class="s2">&quot;pymol_selection&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;pymol_selection&quot;</span><span class="p">)</span>
</span><span id="ProjectParserHandler-116"><a href="#ProjectParserHandler-116"><span class="linenos">116</span></a>            <span class="p">}</span>
</span><span id="ProjectParserHandler-117"><a href="#ProjectParserHandler-117"><span class="linenos">117</span></a>            <span class="k">if</span> <span class="n">tmp_last_element</span> <span class="o">==</span> <span class="s2">&quot;proteins&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-118"><a href="#ProjectParserHandler-118"><span class="linenos">118</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_protein_in_pair</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="ProjectParserHandler-119"><a href="#ProjectParserHandler-119"><span class="linenos">119</span></a>            <span class="k">elif</span> <span class="n">tmp_last_element</span> <span class="o">==</span> <span class="s2">&quot;proteins_of_pair&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-120"><a href="#ProjectParserHandler-120"><span class="linenos">120</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_protein_in_pair</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="ProjectParserHandler-121"><a href="#ProjectParserHandler-121"><span class="linenos">121</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;chain&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-122"><a href="#ProjectParserHandler-122"><span class="linenos">122</span></a>            <span class="n">tmp_sequence</span> <span class="o">=</span> <span class="n">sequence</span><span class="o">.</span><span class="n">Sequence</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;pymol_molecule_object&quot;</span><span class="p">],</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;chain_sequence&quot;</span><span class="p">))</span>
</span><span id="ProjectParserHandler-123"><a href="#ProjectParserHandler-123"><span class="linenos">123</span></a>            <span class="n">tmp_chain</span> <span class="o">=</span> <span class="n">chain</span><span class="o">.</span><span class="n">Chain</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;chain_letter&quot;</span><span class="p">),</span>
</span><span id="ProjectParserHandler-124"><a href="#ProjectParserHandler-124"><span class="linenos">124</span></a>                                    <span class="n">tmp_sequence</span><span class="p">,</span>
</span><span id="ProjectParserHandler-125"><a href="#ProjectParserHandler-125"><span class="linenos">125</span></a>                                    <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;chain_type&quot;</span><span class="p">))</span>
</span><span id="ProjectParserHandler-126"><a href="#ProjectParserHandler-126"><span class="linenos">126</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">chains</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp_chain</span><span class="p">)</span>
</span><span id="ProjectParserHandler-127"><a href="#ProjectParserHandler-127"><span class="linenos">127</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;pymol_parameters&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-128"><a href="#ProjectParserHandler-128"><span class="linenos">128</span></a>            <span class="n">tmp_last_chain</span><span class="p">:</span> <span class="s2">&quot;chain.Chain&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chains</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="ProjectParserHandler-129"><a href="#ProjectParserHandler-129"><span class="linenos">129</span></a>            <span class="n">tmp_last_chain</span><span class="o">.</span><span class="n">pymol_parameters</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="ProjectParserHandler-130"><a href="#ProjectParserHandler-130"><span class="linenos">130</span></a>                <span class="s2">&quot;chain_color&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;chain_color&quot;</span><span class="p">),</span>
</span><span id="ProjectParserHandler-131"><a href="#ProjectParserHandler-131"><span class="linenos">131</span></a>                <span class="s2">&quot;chain_representation&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;chain_representation&quot;</span><span class="p">),</span>
</span><span id="ProjectParserHandler-132"><a href="#ProjectParserHandler-132"><span class="linenos">132</span></a>            <span class="p">}</span>
</span><span id="ProjectParserHandler-133"><a href="#ProjectParserHandler-133"><span class="linenos">133</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;session_data&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-134"><a href="#ProjectParserHandler-134"><span class="linenos">134</span></a>            <span class="k">if</span> <span class="n">tmp_last_element</span> <span class="o">==</span> <span class="s2">&quot;atom&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-135"><a href="#ProjectParserHandler-135"><span class="linenos">135</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;session&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
</span><span id="ProjectParserHandler-136"><a href="#ProjectParserHandler-136"><span class="linenos">136</span></a>            <span class="k">elif</span> <span class="n">tmp_last_element</span> <span class="o">==</span> <span class="s2">&quot;distances&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-137"><a href="#ProjectParserHandler-137"><span class="linenos">137</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;session&quot;</span><span class="p">))</span>
</span><span id="ProjectParserHandler-138"><a href="#ProjectParserHandler-138"><span class="linenos">138</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;protein_pair&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-139"><a href="#ProjectParserHandler-139"><span class="linenos">139</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">protein_pair_data</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="ProjectParserHandler-140"><a href="#ProjectParserHandler-140"><span class="linenos">140</span></a>                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
</span><span id="ProjectParserHandler-141"><a href="#ProjectParserHandler-141"><span class="linenos">141</span></a>            <span class="p">}</span>
</span><span id="ProjectParserHandler-142"><a href="#ProjectParserHandler-142"><span class="linenos">142</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;distance_analysis&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-143"><a href="#ProjectParserHandler-143"><span class="linenos">143</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="ProjectParserHandler-144"><a href="#ProjectParserHandler-144"><span class="linenos">144</span></a>                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span>
</span><span id="ProjectParserHandler-145"><a href="#ProjectParserHandler-145"><span class="linenos">145</span></a>                <span class="s2">&quot;cutoff&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;cutoff&quot;</span><span class="p">),</span>
</span><span id="ProjectParserHandler-146"><a href="#ProjectParserHandler-146"><span class="linenos">146</span></a>                <span class="s2">&quot;cycles&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;cycles&quot;</span><span class="p">)</span>
</span><span id="ProjectParserHandler-147"><a href="#ProjectParserHandler-147"><span class="linenos">147</span></a>            <span class="p">}</span>
</span><span id="ProjectParserHandler-148"><a href="#ProjectParserHandler-148"><span class="linenos">148</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;result&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-149"><a href="#ProjectParserHandler-149"><span class="linenos">149</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;rmsd&quot;</span><span class="p">))</span>
</span><span id="ProjectParserHandler-150"><a href="#ProjectParserHandler-150"><span class="linenos">150</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;aligned_amino_acids&quot;</span><span class="p">))</span>
</span><span id="ProjectParserHandler-151"><a href="#ProjectParserHandler-151"><span class="linenos">151</span></a>
</span><span id="ProjectParserHandler-152"><a href="#ProjectParserHandler-152"><span class="linenos">152</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">one_element_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="ProjectParserHandler-153"><a href="#ProjectParserHandler-153"><span class="linenos">153</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">one_element_history</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
</span><span id="ProjectParserHandler-154"><a href="#ProjectParserHandler-154"><span class="linenos">154</span></a>
</span><span id="ProjectParserHandler-155"><a href="#ProjectParserHandler-155"><span class="linenos">155</span></a>    <span class="k">def</span> <span class="nf">characters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">):</span>
</span><span id="ProjectParserHandler-156"><a href="#ProjectParserHandler-156"><span class="linenos">156</span></a>        <span class="k">if</span> <span class="n">content</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-157"><a href="#ProjectParserHandler-157"><span class="linenos">157</span></a>            <span class="k">return</span>
</span><span id="ProjectParserHandler-158"><a href="#ProjectParserHandler-158"><span class="linenos">158</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;atom&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-159"><a href="#ProjectParserHandler-159"><span class="linenos">159</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">pdb_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</span><span id="ProjectParserHandler-160"><a href="#ProjectParserHandler-160"><span class="linenos">160</span></a>        <span class="c1"># Distance results</span>
</span><span id="ProjectParserHandler-161"><a href="#ProjectParserHandler-161"><span class="linenos">161</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;index&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-162"><a href="#ProjectParserHandler-162"><span class="linenos">162</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="ProjectParserHandler-163"><a href="#ProjectParserHandler-163"><span class="linenos">163</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;index content: </span><span class="si">{</span><span class="n">content</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="ProjectParserHandler-164"><a href="#ProjectParserHandler-164"><span class="linenos">164</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;ref_chain&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-165"><a href="#ProjectParserHandler-165"><span class="linenos">165</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="ProjectParserHandler-166"><a href="#ProjectParserHandler-166"><span class="linenos">166</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;ref_pos&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-167"><a href="#ProjectParserHandler-167"><span class="linenos">167</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="ProjectParserHandler-168"><a href="#ProjectParserHandler-168"><span class="linenos">168</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;ref_resi&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-169"><a href="#ProjectParserHandler-169"><span class="linenos">169</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="ProjectParserHandler-170"><a href="#ProjectParserHandler-170"><span class="linenos">170</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;model_chain&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-171"><a href="#ProjectParserHandler-171"><span class="linenos">171</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="ProjectParserHandler-172"><a href="#ProjectParserHandler-172"><span class="linenos">172</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;model_pos&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-173"><a href="#ProjectParserHandler-173"><span class="linenos">173</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="ProjectParserHandler-174"><a href="#ProjectParserHandler-174"><span class="linenos">174</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;model_resi&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-175"><a href="#ProjectParserHandler-175"><span class="linenos">175</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="ProjectParserHandler-176"><a href="#ProjectParserHandler-176"><span class="linenos">176</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;distance&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-177"><a href="#ProjectParserHandler-177"><span class="linenos">177</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="ProjectParserHandler-178"><a href="#ProjectParserHandler-178"><span class="linenos">178</span></a>
</span><span id="ProjectParserHandler-179"><a href="#ProjectParserHandler-179"><span class="linenos">179</span></a>    <span class="k">def</span> <span class="nf">endElement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="ProjectParserHandler-180"><a href="#ProjectParserHandler-180"><span class="linenos">180</span></a>        <span class="n">tmp_last_element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">one_element_history</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="ProjectParserHandler-181"><a href="#ProjectParserHandler-181"><span class="linenos">181</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;protein&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-182"><a href="#ProjectParserHandler-182"><span class="linenos">182</span></a>            <span class="c1"># Creates new protein object</span>
</span><span id="ProjectParserHandler-183"><a href="#ProjectParserHandler-183"><span class="linenos">183</span></a>            <span class="n">tmp_protein</span> <span class="o">=</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;pymol_molecule_object&quot;</span><span class="p">],</span> <span class="n">pdb_data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pdb_data</span><span class="p">)</span>
</span><span id="ProjectParserHandler-184"><a href="#ProjectParserHandler-184"><span class="linenos">184</span></a>            <span class="n">tmp_protein</span><span class="o">.</span><span class="n">set_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler-185"><a href="#ProjectParserHandler-185"><span class="linenos">185</span></a>            <span class="n">tmp_protein</span><span class="o">.</span><span class="n">chains</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chains</span><span class="p">)</span>
</span><span id="ProjectParserHandler-186"><a href="#ProjectParserHandler-186"><span class="linenos">186</span></a>            <span class="n">tmp_protein</span><span class="o">.</span><span class="n">pymol_session</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;session&quot;</span><span class="p">]</span>
</span><span id="ProjectParserHandler-187"><a href="#ProjectParserHandler-187"><span class="linenos">187</span></a>            <span class="n">tmp_protein</span><span class="o">.</span><span class="n">pymol_selection</span> <span class="o">=</span> <span class="n">selection</span><span class="o">.</span><span class="n">Selection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;pymol_molecule_object&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler-188"><a href="#ProjectParserHandler-188"><span class="linenos">188</span></a>            <span class="n">tmp_protein</span><span class="o">.</span><span class="n">pymol_selection</span><span class="o">.</span><span class="n">selection_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;pymol_selection&quot;</span><span class="p">]</span>
</span><span id="ProjectParserHandler-189"><a href="#ProjectParserHandler-189"><span class="linenos">189</span></a>            <span class="c1"># Clears vars for next protein</span>
</span><span id="ProjectParserHandler-190"><a href="#ProjectParserHandler-190"><span class="linenos">190</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="ProjectParserHandler-191"><a href="#ProjectParserHandler-191"><span class="linenos">191</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">chains</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ProjectParserHandler-192"><a href="#ProjectParserHandler-192"><span class="linenos">192</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_protein_in_pair</span><span class="p">:</span>
</span><span id="ProjectParserHandler-193"><a href="#ProjectParserHandler-193"><span class="linenos">193</span></a>                <span class="c1"># Appends protein to project for the protein model</span>
</span><span id="ProjectParserHandler-194"><a href="#ProjectParserHandler-194"><span class="linenos">194</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_project</span><span class="o">.</span><span class="n">proteins</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">tmp_protein</span><span class="p">))</span>
</span><span id="ProjectParserHandler-195"><a href="#ProjectParserHandler-195"><span class="linenos">195</span></a>            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_protein_in_pair</span><span class="p">:</span>
</span><span id="ProjectParserHandler-196"><a href="#ProjectParserHandler-196"><span class="linenos">196</span></a>                <span class="c1"># Appends protein to project for the protein pair model</span>
</span><span id="ProjectParserHandler-197"><a href="#ProjectParserHandler-197"><span class="linenos">197</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_proteins_for_pair</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">tmp_protein</span><span class="p">))</span>
</span><span id="ProjectParserHandler-198"><a href="#ProjectParserHandler-198"><span class="linenos">198</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;index&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-199"><a href="#ProjectParserHandler-199"><span class="linenos">199</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-200"><a href="#ProjectParserHandler-200"><span class="linenos">200</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">)</span>
</span><span id="ProjectParserHandler-201"><a href="#ProjectParserHandler-201"><span class="linenos">201</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;After np.array conversion: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="ProjectParserHandler-202"><a href="#ProjectParserHandler-202"><span class="linenos">202</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler-203"><a href="#ProjectParserHandler-203"><span class="linenos">203</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;ref_chain&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-204"><a href="#ProjectParserHandler-204"><span class="linenos">204</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;ref_chain&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="ProjectParserHandler-205"><a href="#ProjectParserHandler-205"><span class="linenos">205</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler-206"><a href="#ProjectParserHandler-206"><span class="linenos">206</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;ref_pos&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-207"><a href="#ProjectParserHandler-207"><span class="linenos">207</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;ref_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="ProjectParserHandler-208"><a href="#ProjectParserHandler-208"><span class="linenos">208</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler-209"><a href="#ProjectParserHandler-209"><span class="linenos">209</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;ref_resi&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-210"><a href="#ProjectParserHandler-210"><span class="linenos">210</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;ref_resi&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="ProjectParserHandler-211"><a href="#ProjectParserHandler-211"><span class="linenos">211</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler-212"><a href="#ProjectParserHandler-212"><span class="linenos">212</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;model_chain&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-213"><a href="#ProjectParserHandler-213"><span class="linenos">213</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;model_chain&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="ProjectParserHandler-214"><a href="#ProjectParserHandler-214"><span class="linenos">214</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler-215"><a href="#ProjectParserHandler-215"><span class="linenos">215</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;model_pos&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-216"><a href="#ProjectParserHandler-216"><span class="linenos">216</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;model_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="ProjectParserHandler-217"><a href="#ProjectParserHandler-217"><span class="linenos">217</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler-218"><a href="#ProjectParserHandler-218"><span class="linenos">218</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;model_resi&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-219"><a href="#ProjectParserHandler-219"><span class="linenos">219</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;model_resi&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="ProjectParserHandler-220"><a href="#ProjectParserHandler-220"><span class="linenos">220</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler-221"><a href="#ProjectParserHandler-221"><span class="linenos">221</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;distance&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-222"><a href="#ProjectParserHandler-222"><span class="linenos">222</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;distance&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="ProjectParserHandler-223"><a href="#ProjectParserHandler-223"><span class="linenos">223</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler-224"><a href="#ProjectParserHandler-224"><span class="linenos">224</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;result&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-225"><a href="#ProjectParserHandler-225"><span class="linenos">225</span></a>            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">)</span>
</span><span id="ProjectParserHandler-226"><a href="#ProjectParserHandler-226"><span class="linenos">226</span></a>            <span class="n">index_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler-227"><a href="#ProjectParserHandler-227"><span class="linenos">227</span></a>            <span class="n">ref_chain_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;ref_chain&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler-228"><a href="#ProjectParserHandler-228"><span class="linenos">228</span></a>            <span class="n">ref_pos_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;ref_pos&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler-229"><a href="#ProjectParserHandler-229"><span class="linenos">229</span></a>            <span class="n">ref_resi_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;ref_resi&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler-230"><a href="#ProjectParserHandler-230"><span class="linenos">230</span></a>            <span class="n">model_chain_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;model_chain&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler-231"><a href="#ProjectParserHandler-231"><span class="linenos">231</span></a>            <span class="n">model_pos_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;model_pos&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler-232"><a href="#ProjectParserHandler-232"><span class="linenos">232</span></a>            <span class="n">model_resi_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;model_resi&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler-233"><a href="#ProjectParserHandler-233"><span class="linenos">233</span></a>            <span class="n">distance_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;distance&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler-234"><a href="#ProjectParserHandler-234"><span class="linenos">234</span></a>            <span class="n">result_hashtable</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="ProjectParserHandler-235"><a href="#ProjectParserHandler-235"><span class="linenos">235</span></a>                <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="n">index_array</span><span class="p">,</span>
</span><span id="ProjectParserHandler-236"><a href="#ProjectParserHandler-236"><span class="linenos">236</span></a>                <span class="s2">&quot;ref_chain&quot;</span><span class="p">:</span> <span class="n">ref_chain_array</span><span class="p">,</span>
</span><span id="ProjectParserHandler-237"><a href="#ProjectParserHandler-237"><span class="linenos">237</span></a>                <span class="s2">&quot;ref_pos&quot;</span><span class="p">:</span> <span class="n">ref_pos_array</span><span class="p">,</span>
</span><span id="ProjectParserHandler-238"><a href="#ProjectParserHandler-238"><span class="linenos">238</span></a>                <span class="s2">&quot;ref_resi&quot;</span><span class="p">:</span> <span class="n">ref_resi_array</span><span class="p">,</span>
</span><span id="ProjectParserHandler-239"><a href="#ProjectParserHandler-239"><span class="linenos">239</span></a>                <span class="s2">&quot;model_chain&quot;</span><span class="p">:</span> <span class="n">model_chain_array</span><span class="p">,</span>
</span><span id="ProjectParserHandler-240"><a href="#ProjectParserHandler-240"><span class="linenos">240</span></a>                <span class="s2">&quot;model_pos&quot;</span><span class="p">:</span> <span class="n">model_pos_array</span><span class="p">,</span>
</span><span id="ProjectParserHandler-241"><a href="#ProjectParserHandler-241"><span class="linenos">241</span></a>                <span class="s2">&quot;model_resi&quot;</span><span class="p">:</span> <span class="n">model_resi_array</span><span class="p">,</span>
</span><span id="ProjectParserHandler-242"><a href="#ProjectParserHandler-242"><span class="linenos">242</span></a>                <span class="s2">&quot;distance&quot;</span><span class="p">:</span> <span class="n">distance_array</span><span class="p">,</span>
</span><span id="ProjectParserHandler-243"><a href="#ProjectParserHandler-243"><span class="linenos">243</span></a>            <span class="p">}</span>
</span><span id="ProjectParserHandler-244"><a href="#ProjectParserHandler-244"><span class="linenos">244</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">result_obj</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">DistanceAnalysisResults</span><span class="p">(</span><span class="n">result_hashtable</span><span class="p">,</span>
</span><span id="ProjectParserHandler-245"><a href="#ProjectParserHandler-245"><span class="linenos">245</span></a>                                                              <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
</span><span id="ProjectParserHandler-246"><a href="#ProjectParserHandler-246"><span class="linenos">246</span></a>                                                              <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
</span><span id="ProjectParserHandler-247"><a href="#ProjectParserHandler-247"><span class="linenos">247</span></a>                                                              <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="ProjectParserHandler-248"><a href="#ProjectParserHandler-248"><span class="linenos">248</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;distance_analysis&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-249"><a href="#ProjectParserHandler-249"><span class="linenos">249</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span> <span class="o">=</span> <span class="n">structure_analysis</span><span class="o">.</span><span class="n">DistanceAnalysis</span><span class="p">(</span>
</span><span id="ProjectParserHandler-250"><a href="#ProjectParserHandler-250"><span class="linenos">250</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_app_settings</span><span class="p">,</span> <span class="n">distance_analysis_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
</span><span id="ProjectParserHandler-251"><a href="#ProjectParserHandler-251"><span class="linenos">251</span></a>            <span class="p">)</span>
</span><span id="ProjectParserHandler-252"><a href="#ProjectParserHandler-252"><span class="linenos">252</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span><span class="o">.</span><span class="n">analysis_results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_obj</span>
</span><span id="ProjectParserHandler-253"><a href="#ProjectParserHandler-253"><span class="linenos">253</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span><span class="o">.</span><span class="n">cutoff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis</span><span class="p">[</span><span class="s2">&quot;cutoff&quot;</span><span class="p">]</span>
</span><span id="ProjectParserHandler-254"><a href="#ProjectParserHandler-254"><span class="linenos">254</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span><span class="o">.</span><span class="n">cycles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis</span><span class="p">[</span><span class="s2">&quot;cycles&quot;</span><span class="p">]</span>
</span><span id="ProjectParserHandler-255"><a href="#ProjectParserHandler-255"><span class="linenos">255</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;protein_pair&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler-256"><a href="#ProjectParserHandler-256"><span class="linenos">256</span></a>            <span class="n">tmp_protein_pair</span> <span class="o">=</span> <span class="n">protein_pair</span><span class="o">.</span><span class="n">ProteinPair</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_proteins_for_pair</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_proteins_for_pair</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="ProjectParserHandler-257"><a href="#ProjectParserHandler-257"><span class="linenos">257</span></a>            <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">protein_pair_data</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
</span><span id="ProjectParserHandler-258"><a href="#ProjectParserHandler-258"><span class="linenos">258</span></a>            <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">distance_analysis</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span>
</span><span id="ProjectParserHandler-259"><a href="#ProjectParserHandler-259"><span class="linenos">259</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_project</span><span class="o">.</span><span class="n">protein_pairs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp_protein_pair</span><span class="p">)</span>
</span><span id="ProjectParserHandler-260"><a href="#ProjectParserHandler-260"><span class="linenos">260</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">protein_pair_data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="ProjectParserHandler-261"><a href="#ProjectParserHandler-261"><span class="linenos">261</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_proteins_for_pair</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ProjectParserHandler-262"><a href="#ProjectParserHandler-262"><span class="linenos">262</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ProjectParserHandler-263"><a href="#ProjectParserHandler-263"><span class="linenos">263</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">result_obj</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ProjectParserHandler-264"><a href="#ProjectParserHandler-264"><span class="linenos">264</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="ProjectParserHandler-265"><a href="#ProjectParserHandler-265"><span class="linenos">265</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ProjectParserHandler-266"><a href="#ProjectParserHandler-266"><span class="linenos">266</span></a>
</span><span id="ProjectParserHandler-267"><a href="#ProjectParserHandler-267"><span class="linenos">267</span></a>    <span class="k">def</span> <span class="nf">get_project</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ProjectParserHandler-268"><a href="#ProjectParserHandler-268"><span class="linenos">268</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_project</span>
</span><span id="ProjectParserHandler-269"><a href="#ProjectParserHandler-269"><span class="linenos">269</span></a>
</span><span id="ProjectParserHandler-270"><a href="#ProjectParserHandler-270"><span class="linenos">270</span></a>    <span class="c1"># def __init__(self, a_project):</span>
</span><span id="ProjectParserHandler-271"><a href="#ProjectParserHandler-271"><span class="linenos">271</span></a>    <span class="c1">#     self.current_element = &quot;&quot;</span>
</span><span id="ProjectParserHandler-272"><a href="#ProjectParserHandler-272"><span class="linenos">272</span></a>    <span class="c1">#     self.protein_data = {}</span>
</span><span id="ProjectParserHandler-273"><a href="#ProjectParserHandler-273"><span class="linenos">273</span></a>    <span class="c1">#     self.pdb_data = []</span>
</span><span id="ProjectParserHandler-274"><a href="#ProjectParserHandler-274"><span class="linenos">274</span></a>    <span class="c1">#     self.proteins = []</span>
</span><span id="ProjectParserHandler-275"><a href="#ProjectParserHandler-275"><span class="linenos">275</span></a>    <span class="c1">#     self._project = a_project</span>
</span><span id="ProjectParserHandler-276"><a href="#ProjectParserHandler-276"><span class="linenos">276</span></a>    <span class="c1">#</span>
</span><span id="ProjectParserHandler-277"><a href="#ProjectParserHandler-277"><span class="linenos">277</span></a>    <span class="c1"># def startElement(self, name, attrs):</span>
</span><span id="ProjectParserHandler-278"><a href="#ProjectParserHandler-278"><span class="linenos">278</span></a>    <span class="c1">#     self.current_element = name</span>
</span><span id="ProjectParserHandler-279"><a href="#ProjectParserHandler-279"><span class="linenos">279</span></a>    <span class="c1">#     if name == &quot;protein&quot;:</span>
</span><span id="ProjectParserHandler-280"><a href="#ProjectParserHandler-280"><span class="linenos">280</span></a>    <span class="c1">#         self.protein_data = {&quot;id&quot;: attrs.getValue(&quot;id&quot;), &quot;pymol_molecule_object&quot;: attrs.getValue(&quot;pymol_molecule_object&quot;)}</span>
</span><span id="ProjectParserHandler-281"><a href="#ProjectParserHandler-281"><span class="linenos">281</span></a>    <span class="c1">#     elif name == &quot;protein_pair&quot;:</span>
</span><span id="ProjectParserHandler-282"><a href="#ProjectParserHandler-282"><span class="linenos">282</span></a>    <span class="c1">#         pass</span>
</span><span id="ProjectParserHandler-283"><a href="#ProjectParserHandler-283"><span class="linenos">283</span></a>    <span class="c1">#</span>
</span><span id="ProjectParserHandler-284"><a href="#ProjectParserHandler-284"><span class="linenos">284</span></a>    <span class="c1"># def characters(self, content):</span>
</span><span id="ProjectParserHandler-285"><a href="#ProjectParserHandler-285"><span class="linenos">285</span></a>    <span class="c1">#     if self.current_element == &quot;atom&quot;:</span>
</span><span id="ProjectParserHandler-286"><a href="#ProjectParserHandler-286"><span class="linenos">286</span></a>    <span class="c1">#         self.pdb_data.append(content)</span>
</span><span id="ProjectParserHandler-287"><a href="#ProjectParserHandler-287"><span class="linenos">287</span></a>    <span class="c1">#         #self.protein_data[&quot;pdb_data&quot;][-1] += content</span>
</span><span id="ProjectParserHandler-288"><a href="#ProjectParserHandler-288"><span class="linenos">288</span></a>    <span class="c1">#</span>
</span><span id="ProjectParserHandler-289"><a href="#ProjectParserHandler-289"><span class="linenos">289</span></a>    <span class="c1"># def endElement(self, name):</span>
</span><span id="ProjectParserHandler-290"><a href="#ProjectParserHandler-290"><span class="linenos">290</span></a>    <span class="c1">#     if name == &quot;protein&quot;:</span>
</span><span id="ProjectParserHandler-291"><a href="#ProjectParserHandler-291"><span class="linenos">291</span></a>    <span class="c1">#         tmp_protein = protein.Protein(self.protein_data[&quot;id&quot;], pdb_data=self.pdb_data)</span>
</span><span id="ProjectParserHandler-292"><a href="#ProjectParserHandler-292"><span class="linenos">292</span></a>    <span class="c1">#         self.proteins.append(tmp_protein)</span>
</span><span id="ProjectParserHandler-293"><a href="#ProjectParserHandler-293"><span class="linenos">293</span></a>    <span class="c1">#         self.protein_data = {}</span>
</span><span id="ProjectParserHandler-294"><a href="#ProjectParserHandler-294"><span class="linenos">294</span></a>    <span class="c1">#         self._project.proteins.append(tmp_protein)</span>
</span></pre></div>


            <div class="docstring"><p>Interface for receiving logical document content events.</p>

<p>This is the main callback interface in SAX, and the one most
important to applications. The order of events in this interface
mirrors the order of the information in the document.</p>
</div>


                            <div id="ProjectParserHandler.__init__" class="classattr">
                                        <input id="ProjectParserHandler.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ProjectParserHandler</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">a_project</span>, </span><span class="param"><span class="n">the_settings</span></span>)</span>

                <label class="view-source-button" for="ProjectParserHandler.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProjectParserHandler.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProjectParserHandler.__init__-64"><a href="#ProjectParserHandler.__init__-64"><span class="linenos">64</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a_project</span><span class="p">,</span> <span class="n">the_settings</span><span class="p">):</span>
</span><span id="ProjectParserHandler.__init__-65"><a href="#ProjectParserHandler.__init__-65"><span class="linenos">65</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">one_element_history</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span><span class="p">()</span>
</span><span id="ProjectParserHandler.__init__-66"><a href="#ProjectParserHandler.__init__-66"><span class="linenos">66</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">one_element_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;root&quot;</span><span class="p">)</span>
</span><span id="ProjectParserHandler.__init__-67"><a href="#ProjectParserHandler.__init__-67"><span class="linenos">67</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler.__init__-68"><a href="#ProjectParserHandler.__init__-68"><span class="linenos">68</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="ProjectParserHandler.__init__-69"><a href="#ProjectParserHandler.__init__-69"><span class="linenos">69</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_project</span> <span class="o">=</span> <span class="n">a_project</span>
</span><span id="ProjectParserHandler.__init__-70"><a href="#ProjectParserHandler.__init__-70"><span class="linenos">70</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_app_settings</span> <span class="o">=</span> <span class="n">the_settings</span>
</span><span id="ProjectParserHandler.__init__-71"><a href="#ProjectParserHandler.__init__-71"><span class="linenos">71</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pdb_data</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ProjectParserHandler.__init__-72"><a href="#ProjectParserHandler.__init__-72"><span class="linenos">72</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chains</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ProjectParserHandler.__init__-73"><a href="#ProjectParserHandler.__init__-73"><span class="linenos">73</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_protein_in_pair</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="ProjectParserHandler.__init__-74"><a href="#ProjectParserHandler.__init__-74"><span class="linenos">74</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">protein_pair_data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="ProjectParserHandler.__init__-75"><a href="#ProjectParserHandler.__init__-75"><span class="linenos">75</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_proteins_for_pair</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ProjectParserHandler.__init__-76"><a href="#ProjectParserHandler.__init__-76"><span class="linenos">76</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ProjectParserHandler.__init__-77"><a href="#ProjectParserHandler.__init__-77"><span class="linenos">77</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">result_obj</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ProjectParserHandler.__init__-78"><a href="#ProjectParserHandler.__init__-78"><span class="linenos">78</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="ProjectParserHandler.__init__-79"><a href="#ProjectParserHandler.__init__-79"><span class="linenos">79</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ProjectParserHandler.__init__-80"><a href="#ProjectParserHandler.__init__-80"><span class="linenos">80</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler.__init__-81"><a href="#ProjectParserHandler.__init__-81"><span class="linenos">81</span></a>
</span><span id="ProjectParserHandler.__init__-82"><a href="#ProjectParserHandler.__init__-82"><span class="linenos">82</span></a>        <span class="n">index_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="ProjectParserHandler.__init__-83"><a href="#ProjectParserHandler.__init__-83"><span class="linenos">83</span></a>        <span class="n">ref_chain_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="ProjectParserHandler.__init__-84"><a href="#ProjectParserHandler.__init__-84"><span class="linenos">84</span></a>        <span class="n">ref_pos_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="ProjectParserHandler.__init__-85"><a href="#ProjectParserHandler.__init__-85"><span class="linenos">85</span></a>        <span class="n">ref_resi_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="ProjectParserHandler.__init__-86"><a href="#ProjectParserHandler.__init__-86"><span class="linenos">86</span></a>        <span class="n">model_chain_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="ProjectParserHandler.__init__-87"><a href="#ProjectParserHandler.__init__-87"><span class="linenos">87</span></a>        <span class="n">model_pos_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="ProjectParserHandler.__init__-88"><a href="#ProjectParserHandler.__init__-88"><span class="linenos">88</span></a>        <span class="n">model_resi_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="ProjectParserHandler.__init__-89"><a href="#ProjectParserHandler.__init__-89"><span class="linenos">89</span></a>        <span class="n">distance_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
</span><span id="ProjectParserHandler.__init__-90"><a href="#ProjectParserHandler.__init__-90"><span class="linenos">90</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="ProjectParserHandler.__init__-91"><a href="#ProjectParserHandler.__init__-91"><span class="linenos">91</span></a>            <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="n">index_list</span><span class="p">,</span>
</span><span id="ProjectParserHandler.__init__-92"><a href="#ProjectParserHandler.__init__-92"><span class="linenos">92</span></a>            <span class="s2">&quot;ref_chain&quot;</span><span class="p">:</span> <span class="n">ref_chain_list</span><span class="p">,</span>
</span><span id="ProjectParserHandler.__init__-93"><a href="#ProjectParserHandler.__init__-93"><span class="linenos">93</span></a>            <span class="s2">&quot;ref_pos&quot;</span><span class="p">:</span> <span class="n">ref_pos_list</span><span class="p">,</span>
</span><span id="ProjectParserHandler.__init__-94"><a href="#ProjectParserHandler.__init__-94"><span class="linenos">94</span></a>            <span class="s2">&quot;ref_resi&quot;</span><span class="p">:</span> <span class="n">ref_resi_list</span><span class="p">,</span>
</span><span id="ProjectParserHandler.__init__-95"><a href="#ProjectParserHandler.__init__-95"><span class="linenos">95</span></a>            <span class="s2">&quot;model_chain&quot;</span><span class="p">:</span> <span class="n">model_chain_list</span><span class="p">,</span>
</span><span id="ProjectParserHandler.__init__-96"><a href="#ProjectParserHandler.__init__-96"><span class="linenos">96</span></a>            <span class="s2">&quot;model_pos&quot;</span><span class="p">:</span> <span class="n">model_pos_list</span><span class="p">,</span>
</span><span id="ProjectParserHandler.__init__-97"><a href="#ProjectParserHandler.__init__-97"><span class="linenos">97</span></a>            <span class="s2">&quot;model_resi&quot;</span><span class="p">:</span> <span class="n">model_resi_list</span><span class="p">,</span>
</span><span id="ProjectParserHandler.__init__-98"><a href="#ProjectParserHandler.__init__-98"><span class="linenos">98</span></a>            <span class="s2">&quot;distance&quot;</span><span class="p">:</span> <span class="n">distance_list</span><span class="p">,</span>
</span><span id="ProjectParserHandler.__init__-99"><a href="#ProjectParserHandler.__init__-99"><span class="linenos">99</span></a>        <span class="p">}</span>
</span></pre></div>


    

                            </div>
                            <div id="ProjectParserHandler.one_element_history" class="classattr">
                                <div class="attr variable">
            <span class="name">one_element_history</span><span class="annotation">: collections.deque</span>

        
    </div>
    <a class="headerlink" href="#ProjectParserHandler.one_element_history"></a>
    
    

                            </div>
                            <div id="ProjectParserHandler.current_element" class="classattr">
                                <div class="attr variable">
            <span class="name">current_element</span>

        
    </div>
    <a class="headerlink" href="#ProjectParserHandler.current_element"></a>
    
    

                            </div>
                            <div id="ProjectParserHandler.protein_data" class="classattr">
                                <div class="attr variable">
            <span class="name">protein_data</span>

        
    </div>
    <a class="headerlink" href="#ProjectParserHandler.protein_data"></a>
    
    

                            </div>
                            <div id="ProjectParserHandler.pdb_data" class="classattr">
                                <div class="attr variable">
            <span class="name">pdb_data</span>

        
    </div>
    <a class="headerlink" href="#ProjectParserHandler.pdb_data"></a>
    
    

                            </div>
                            <div id="ProjectParserHandler.chains" class="classattr">
                                <div class="attr variable">
            <span class="name">chains</span>

        
    </div>
    <a class="headerlink" href="#ProjectParserHandler.chains"></a>
    
    

                            </div>
                            <div id="ProjectParserHandler.protein_pair_data" class="classattr">
                                <div class="attr variable">
            <span class="name">protein_pair_data</span>

        
    </div>
    <a class="headerlink" href="#ProjectParserHandler.protein_pair_data"></a>
    
    

                            </div>
                            <div id="ProjectParserHandler.result" class="classattr">
                                <div class="attr variable">
            <span class="name">result</span>

        
    </div>
    <a class="headerlink" href="#ProjectParserHandler.result"></a>
    
    

                            </div>
                            <div id="ProjectParserHandler.result_obj" class="classattr">
                                <div class="attr variable">
            <span class="name">result_obj</span>

        
    </div>
    <a class="headerlink" href="#ProjectParserHandler.result_obj"></a>
    
    

                            </div>
                            <div id="ProjectParserHandler.distance_analysis" class="classattr">
                                <div class="attr variable">
            <span class="name">distance_analysis</span>

        
    </div>
    <a class="headerlink" href="#ProjectParserHandler.distance_analysis"></a>
    
    

                            </div>
                            <div id="ProjectParserHandler.distance_analysis_obj" class="classattr">
                                <div class="attr variable">
            <span class="name">distance_analysis_obj</span>

        
    </div>
    <a class="headerlink" href="#ProjectParserHandler.distance_analysis_obj"></a>
    
    

                            </div>
                            <div id="ProjectParserHandler.current_content" class="classattr">
                                <div class="attr variable">
            <span class="name">current_content</span>

        
    </div>
    <a class="headerlink" href="#ProjectParserHandler.current_content"></a>
    
    

                            </div>
                            <div id="ProjectParserHandler.distances_results" class="classattr">
                                <div class="attr variable">
            <span class="name">distances_results</span>

        
    </div>
    <a class="headerlink" href="#ProjectParserHandler.distances_results"></a>
    
    

                            </div>
                            <div id="ProjectParserHandler.startElement" class="classattr">
                                        <input id="ProjectParserHandler.startElement-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">startElement</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">name</span>, </span><span class="param"><span class="n">attrs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ProjectParserHandler.startElement-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProjectParserHandler.startElement"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProjectParserHandler.startElement-101"><a href="#ProjectParserHandler.startElement-101"><span class="linenos">101</span></a>    <span class="k">def</span> <span class="nf">startElement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">):</span>
</span><span id="ProjectParserHandler.startElement-102"><a href="#ProjectParserHandler.startElement-102"><span class="linenos">102</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="ProjectParserHandler.startElement-103"><a href="#ProjectParserHandler.startElement-103"><span class="linenos">103</span></a>        <span class="n">tmp_last_element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">one_element_history</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="ProjectParserHandler.startElement-104"><a href="#ProjectParserHandler.startElement-104"><span class="linenos">104</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;project_info&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.startElement-105"><a href="#ProjectParserHandler.startElement-105"><span class="linenos">105</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_project</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">Project</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;workspace_path&quot;</span><span class="p">)))</span>
</span><span id="ProjectParserHandler.startElement-106"><a href="#ProjectParserHandler.startElement-106"><span class="linenos">106</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;sequence&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.startElement-107"><a href="#ProjectParserHandler.startElement-107"><span class="linenos">107</span></a>            <span class="k">if</span> <span class="n">tmp_last_element</span> <span class="o">==</span> <span class="s2">&quot;sequences&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.startElement-108"><a href="#ProjectParserHandler.startElement-108"><span class="linenos">108</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_project</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="ProjectParserHandler.startElement-109"><a href="#ProjectParserHandler.startElement-109"><span class="linenos">109</span></a>                    <span class="n">SeqRecord</span><span class="o">.</span><span class="n">SeqRecord</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span> <span class="n">seq</span><span class="o">=</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;seq&quot;</span><span class="p">))</span>
</span><span id="ProjectParserHandler.startElement-110"><a href="#ProjectParserHandler.startElement-110"><span class="linenos">110</span></a>                <span class="p">)</span>
</span><span id="ProjectParserHandler.startElement-111"><a href="#ProjectParserHandler.startElement-111"><span class="linenos">111</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;protein&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.startElement-112"><a href="#ProjectParserHandler.startElement-112"><span class="linenos">112</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="ProjectParserHandler.startElement-113"><a href="#ProjectParserHandler.startElement-113"><span class="linenos">113</span></a>                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span>
</span><span id="ProjectParserHandler.startElement-114"><a href="#ProjectParserHandler.startElement-114"><span class="linenos">114</span></a>                <span class="s2">&quot;pymol_molecule_object&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;pymol_molecule_object&quot;</span><span class="p">),</span>
</span><span id="ProjectParserHandler.startElement-115"><a href="#ProjectParserHandler.startElement-115"><span class="linenos">115</span></a>                <span class="s2">&quot;pymol_selection&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;pymol_selection&quot;</span><span class="p">)</span>
</span><span id="ProjectParserHandler.startElement-116"><a href="#ProjectParserHandler.startElement-116"><span class="linenos">116</span></a>            <span class="p">}</span>
</span><span id="ProjectParserHandler.startElement-117"><a href="#ProjectParserHandler.startElement-117"><span class="linenos">117</span></a>            <span class="k">if</span> <span class="n">tmp_last_element</span> <span class="o">==</span> <span class="s2">&quot;proteins&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.startElement-118"><a href="#ProjectParserHandler.startElement-118"><span class="linenos">118</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_protein_in_pair</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="ProjectParserHandler.startElement-119"><a href="#ProjectParserHandler.startElement-119"><span class="linenos">119</span></a>            <span class="k">elif</span> <span class="n">tmp_last_element</span> <span class="o">==</span> <span class="s2">&quot;proteins_of_pair&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.startElement-120"><a href="#ProjectParserHandler.startElement-120"><span class="linenos">120</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_protein_in_pair</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="ProjectParserHandler.startElement-121"><a href="#ProjectParserHandler.startElement-121"><span class="linenos">121</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;chain&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.startElement-122"><a href="#ProjectParserHandler.startElement-122"><span class="linenos">122</span></a>            <span class="n">tmp_sequence</span> <span class="o">=</span> <span class="n">sequence</span><span class="o">.</span><span class="n">Sequence</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;pymol_molecule_object&quot;</span><span class="p">],</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;chain_sequence&quot;</span><span class="p">))</span>
</span><span id="ProjectParserHandler.startElement-123"><a href="#ProjectParserHandler.startElement-123"><span class="linenos">123</span></a>            <span class="n">tmp_chain</span> <span class="o">=</span> <span class="n">chain</span><span class="o">.</span><span class="n">Chain</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;chain_letter&quot;</span><span class="p">),</span>
</span><span id="ProjectParserHandler.startElement-124"><a href="#ProjectParserHandler.startElement-124"><span class="linenos">124</span></a>                                    <span class="n">tmp_sequence</span><span class="p">,</span>
</span><span id="ProjectParserHandler.startElement-125"><a href="#ProjectParserHandler.startElement-125"><span class="linenos">125</span></a>                                    <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;chain_type&quot;</span><span class="p">))</span>
</span><span id="ProjectParserHandler.startElement-126"><a href="#ProjectParserHandler.startElement-126"><span class="linenos">126</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">chains</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp_chain</span><span class="p">)</span>
</span><span id="ProjectParserHandler.startElement-127"><a href="#ProjectParserHandler.startElement-127"><span class="linenos">127</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;pymol_parameters&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.startElement-128"><a href="#ProjectParserHandler.startElement-128"><span class="linenos">128</span></a>            <span class="n">tmp_last_chain</span><span class="p">:</span> <span class="s2">&quot;chain.Chain&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chains</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="ProjectParserHandler.startElement-129"><a href="#ProjectParserHandler.startElement-129"><span class="linenos">129</span></a>            <span class="n">tmp_last_chain</span><span class="o">.</span><span class="n">pymol_parameters</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="ProjectParserHandler.startElement-130"><a href="#ProjectParserHandler.startElement-130"><span class="linenos">130</span></a>                <span class="s2">&quot;chain_color&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;chain_color&quot;</span><span class="p">),</span>
</span><span id="ProjectParserHandler.startElement-131"><a href="#ProjectParserHandler.startElement-131"><span class="linenos">131</span></a>                <span class="s2">&quot;chain_representation&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;chain_representation&quot;</span><span class="p">),</span>
</span><span id="ProjectParserHandler.startElement-132"><a href="#ProjectParserHandler.startElement-132"><span class="linenos">132</span></a>            <span class="p">}</span>
</span><span id="ProjectParserHandler.startElement-133"><a href="#ProjectParserHandler.startElement-133"><span class="linenos">133</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;session_data&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.startElement-134"><a href="#ProjectParserHandler.startElement-134"><span class="linenos">134</span></a>            <span class="k">if</span> <span class="n">tmp_last_element</span> <span class="o">==</span> <span class="s2">&quot;atom&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.startElement-135"><a href="#ProjectParserHandler.startElement-135"><span class="linenos">135</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;session&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
</span><span id="ProjectParserHandler.startElement-136"><a href="#ProjectParserHandler.startElement-136"><span class="linenos">136</span></a>            <span class="k">elif</span> <span class="n">tmp_last_element</span> <span class="o">==</span> <span class="s2">&quot;distances&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.startElement-137"><a href="#ProjectParserHandler.startElement-137"><span class="linenos">137</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;session&quot;</span><span class="p">))</span>
</span><span id="ProjectParserHandler.startElement-138"><a href="#ProjectParserHandler.startElement-138"><span class="linenos">138</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;protein_pair&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.startElement-139"><a href="#ProjectParserHandler.startElement-139"><span class="linenos">139</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">protein_pair_data</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="ProjectParserHandler.startElement-140"><a href="#ProjectParserHandler.startElement-140"><span class="linenos">140</span></a>                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
</span><span id="ProjectParserHandler.startElement-141"><a href="#ProjectParserHandler.startElement-141"><span class="linenos">141</span></a>            <span class="p">}</span>
</span><span id="ProjectParserHandler.startElement-142"><a href="#ProjectParserHandler.startElement-142"><span class="linenos">142</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;distance_analysis&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.startElement-143"><a href="#ProjectParserHandler.startElement-143"><span class="linenos">143</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="ProjectParserHandler.startElement-144"><a href="#ProjectParserHandler.startElement-144"><span class="linenos">144</span></a>                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span>
</span><span id="ProjectParserHandler.startElement-145"><a href="#ProjectParserHandler.startElement-145"><span class="linenos">145</span></a>                <span class="s2">&quot;cutoff&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;cutoff&quot;</span><span class="p">),</span>
</span><span id="ProjectParserHandler.startElement-146"><a href="#ProjectParserHandler.startElement-146"><span class="linenos">146</span></a>                <span class="s2">&quot;cycles&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;cycles&quot;</span><span class="p">)</span>
</span><span id="ProjectParserHandler.startElement-147"><a href="#ProjectParserHandler.startElement-147"><span class="linenos">147</span></a>            <span class="p">}</span>
</span><span id="ProjectParserHandler.startElement-148"><a href="#ProjectParserHandler.startElement-148"><span class="linenos">148</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;result&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.startElement-149"><a href="#ProjectParserHandler.startElement-149"><span class="linenos">149</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;rmsd&quot;</span><span class="p">))</span>
</span><span id="ProjectParserHandler.startElement-150"><a href="#ProjectParserHandler.startElement-150"><span class="linenos">150</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="s2">&quot;aligned_amino_acids&quot;</span><span class="p">))</span>
</span><span id="ProjectParserHandler.startElement-151"><a href="#ProjectParserHandler.startElement-151"><span class="linenos">151</span></a>
</span><span id="ProjectParserHandler.startElement-152"><a href="#ProjectParserHandler.startElement-152"><span class="linenos">152</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">one_element_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="ProjectParserHandler.startElement-153"><a href="#ProjectParserHandler.startElement-153"><span class="linenos">153</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">one_element_history</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Signals the start of an element in non-namespace mode.</p>

<p>The name parameter contains the raw XML 1.0 name of the
element type as a string and the attrs parameter holds an
instance of the Attributes class containing the attributes of
the element.</p>
</div>


                            </div>
                            <div id="ProjectParserHandler.characters" class="classattr">
                                        <input id="ProjectParserHandler.characters-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">characters</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">content</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ProjectParserHandler.characters-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProjectParserHandler.characters"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProjectParserHandler.characters-155"><a href="#ProjectParserHandler.characters-155"><span class="linenos">155</span></a>    <span class="k">def</span> <span class="nf">characters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">):</span>
</span><span id="ProjectParserHandler.characters-156"><a href="#ProjectParserHandler.characters-156"><span class="linenos">156</span></a>        <span class="k">if</span> <span class="n">content</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.characters-157"><a href="#ProjectParserHandler.characters-157"><span class="linenos">157</span></a>            <span class="k">return</span>
</span><span id="ProjectParserHandler.characters-158"><a href="#ProjectParserHandler.characters-158"><span class="linenos">158</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;atom&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.characters-159"><a href="#ProjectParserHandler.characters-159"><span class="linenos">159</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">pdb_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</span><span id="ProjectParserHandler.characters-160"><a href="#ProjectParserHandler.characters-160"><span class="linenos">160</span></a>        <span class="c1"># Distance results</span>
</span><span id="ProjectParserHandler.characters-161"><a href="#ProjectParserHandler.characters-161"><span class="linenos">161</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;index&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.characters-162"><a href="#ProjectParserHandler.characters-162"><span class="linenos">162</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="ProjectParserHandler.characters-163"><a href="#ProjectParserHandler.characters-163"><span class="linenos">163</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;index content: </span><span class="si">{</span><span class="n">content</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="ProjectParserHandler.characters-164"><a href="#ProjectParserHandler.characters-164"><span class="linenos">164</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;ref_chain&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.characters-165"><a href="#ProjectParserHandler.characters-165"><span class="linenos">165</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="ProjectParserHandler.characters-166"><a href="#ProjectParserHandler.characters-166"><span class="linenos">166</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;ref_pos&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.characters-167"><a href="#ProjectParserHandler.characters-167"><span class="linenos">167</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="ProjectParserHandler.characters-168"><a href="#ProjectParserHandler.characters-168"><span class="linenos">168</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;ref_resi&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.characters-169"><a href="#ProjectParserHandler.characters-169"><span class="linenos">169</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="ProjectParserHandler.characters-170"><a href="#ProjectParserHandler.characters-170"><span class="linenos">170</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;model_chain&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.characters-171"><a href="#ProjectParserHandler.characters-171"><span class="linenos">171</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="ProjectParserHandler.characters-172"><a href="#ProjectParserHandler.characters-172"><span class="linenos">172</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;model_pos&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.characters-173"><a href="#ProjectParserHandler.characters-173"><span class="linenos">173</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="ProjectParserHandler.characters-174"><a href="#ProjectParserHandler.characters-174"><span class="linenos">174</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;model_resi&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.characters-175"><a href="#ProjectParserHandler.characters-175"><span class="linenos">175</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span><span id="ProjectParserHandler.characters-176"><a href="#ProjectParserHandler.characters-176"><span class="linenos">176</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;distance&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.characters-177"><a href="#ProjectParserHandler.characters-177"><span class="linenos">177</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">+=</span> <span class="n">content</span>
</span></pre></div>


            <div class="docstring"><p>Receive notification of character data.</p>

<p>The Parser will call this method to report each chunk of
character data. SAX parsers may return all contiguous
character data in a single chunk, or they may split it into
several chunks; however, all of the characters in any single
event must come from the same external entity so that the
Locator provides useful information.</p>
</div>


                            </div>
                            <div id="ProjectParserHandler.endElement" class="classattr">
                                        <input id="ProjectParserHandler.endElement-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">endElement</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">name</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ProjectParserHandler.endElement-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProjectParserHandler.endElement"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProjectParserHandler.endElement-179"><a href="#ProjectParserHandler.endElement-179"><span class="linenos">179</span></a>    <span class="k">def</span> <span class="nf">endElement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="ProjectParserHandler.endElement-180"><a href="#ProjectParserHandler.endElement-180"><span class="linenos">180</span></a>        <span class="n">tmp_last_element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">one_element_history</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="ProjectParserHandler.endElement-181"><a href="#ProjectParserHandler.endElement-181"><span class="linenos">181</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;protein&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.endElement-182"><a href="#ProjectParserHandler.endElement-182"><span class="linenos">182</span></a>            <span class="c1"># Creates new protein object</span>
</span><span id="ProjectParserHandler.endElement-183"><a href="#ProjectParserHandler.endElement-183"><span class="linenos">183</span></a>            <span class="n">tmp_protein</span> <span class="o">=</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;pymol_molecule_object&quot;</span><span class="p">],</span> <span class="n">pdb_data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pdb_data</span><span class="p">)</span>
</span><span id="ProjectParserHandler.endElement-184"><a href="#ProjectParserHandler.endElement-184"><span class="linenos">184</span></a>            <span class="n">tmp_protein</span><span class="o">.</span><span class="n">set_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler.endElement-185"><a href="#ProjectParserHandler.endElement-185"><span class="linenos">185</span></a>            <span class="n">tmp_protein</span><span class="o">.</span><span class="n">chains</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chains</span><span class="p">)</span>
</span><span id="ProjectParserHandler.endElement-186"><a href="#ProjectParserHandler.endElement-186"><span class="linenos">186</span></a>            <span class="n">tmp_protein</span><span class="o">.</span><span class="n">pymol_session</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;session&quot;</span><span class="p">]</span>
</span><span id="ProjectParserHandler.endElement-187"><a href="#ProjectParserHandler.endElement-187"><span class="linenos">187</span></a>            <span class="n">tmp_protein</span><span class="o">.</span><span class="n">pymol_selection</span> <span class="o">=</span> <span class="n">selection</span><span class="o">.</span><span class="n">Selection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;pymol_molecule_object&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler.endElement-188"><a href="#ProjectParserHandler.endElement-188"><span class="linenos">188</span></a>            <span class="n">tmp_protein</span><span class="o">.</span><span class="n">pymol_selection</span><span class="o">.</span><span class="n">selection_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span><span class="p">[</span><span class="s2">&quot;pymol_selection&quot;</span><span class="p">]</span>
</span><span id="ProjectParserHandler.endElement-189"><a href="#ProjectParserHandler.endElement-189"><span class="linenos">189</span></a>            <span class="c1"># Clears vars for next protein</span>
</span><span id="ProjectParserHandler.endElement-190"><a href="#ProjectParserHandler.endElement-190"><span class="linenos">190</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">protein_data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="ProjectParserHandler.endElement-191"><a href="#ProjectParserHandler.endElement-191"><span class="linenos">191</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">chains</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ProjectParserHandler.endElement-192"><a href="#ProjectParserHandler.endElement-192"><span class="linenos">192</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_protein_in_pair</span><span class="p">:</span>
</span><span id="ProjectParserHandler.endElement-193"><a href="#ProjectParserHandler.endElement-193"><span class="linenos">193</span></a>                <span class="c1"># Appends protein to project for the protein model</span>
</span><span id="ProjectParserHandler.endElement-194"><a href="#ProjectParserHandler.endElement-194"><span class="linenos">194</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_project</span><span class="o">.</span><span class="n">proteins</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">tmp_protein</span><span class="p">))</span>
</span><span id="ProjectParserHandler.endElement-195"><a href="#ProjectParserHandler.endElement-195"><span class="linenos">195</span></a>            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_protein_in_pair</span><span class="p">:</span>
</span><span id="ProjectParserHandler.endElement-196"><a href="#ProjectParserHandler.endElement-196"><span class="linenos">196</span></a>                <span class="c1"># Appends protein to project for the protein pair model</span>
</span><span id="ProjectParserHandler.endElement-197"><a href="#ProjectParserHandler.endElement-197"><span class="linenos">197</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_proteins_for_pair</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">tmp_protein</span><span class="p">))</span>
</span><span id="ProjectParserHandler.endElement-198"><a href="#ProjectParserHandler.endElement-198"><span class="linenos">198</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;index&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.endElement-199"><a href="#ProjectParserHandler.endElement-199"><span class="linenos">199</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.endElement-200"><a href="#ProjectParserHandler.endElement-200"><span class="linenos">200</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">)</span>
</span><span id="ProjectParserHandler.endElement-201"><a href="#ProjectParserHandler.endElement-201"><span class="linenos">201</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;After np.array conversion: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="ProjectParserHandler.endElement-202"><a href="#ProjectParserHandler.endElement-202"><span class="linenos">202</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler.endElement-203"><a href="#ProjectParserHandler.endElement-203"><span class="linenos">203</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;ref_chain&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.endElement-204"><a href="#ProjectParserHandler.endElement-204"><span class="linenos">204</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;ref_chain&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="ProjectParserHandler.endElement-205"><a href="#ProjectParserHandler.endElement-205"><span class="linenos">205</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler.endElement-206"><a href="#ProjectParserHandler.endElement-206"><span class="linenos">206</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;ref_pos&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.endElement-207"><a href="#ProjectParserHandler.endElement-207"><span class="linenos">207</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;ref_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="ProjectParserHandler.endElement-208"><a href="#ProjectParserHandler.endElement-208"><span class="linenos">208</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler.endElement-209"><a href="#ProjectParserHandler.endElement-209"><span class="linenos">209</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;ref_resi&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.endElement-210"><a href="#ProjectParserHandler.endElement-210"><span class="linenos">210</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;ref_resi&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="ProjectParserHandler.endElement-211"><a href="#ProjectParserHandler.endElement-211"><span class="linenos">211</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler.endElement-212"><a href="#ProjectParserHandler.endElement-212"><span class="linenos">212</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;model_chain&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.endElement-213"><a href="#ProjectParserHandler.endElement-213"><span class="linenos">213</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;model_chain&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="ProjectParserHandler.endElement-214"><a href="#ProjectParserHandler.endElement-214"><span class="linenos">214</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler.endElement-215"><a href="#ProjectParserHandler.endElement-215"><span class="linenos">215</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;model_pos&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.endElement-216"><a href="#ProjectParserHandler.endElement-216"><span class="linenos">216</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;model_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="ProjectParserHandler.endElement-217"><a href="#ProjectParserHandler.endElement-217"><span class="linenos">217</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler.endElement-218"><a href="#ProjectParserHandler.endElement-218"><span class="linenos">218</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;model_resi&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.endElement-219"><a href="#ProjectParserHandler.endElement-219"><span class="linenos">219</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;model_resi&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="ProjectParserHandler.endElement-220"><a href="#ProjectParserHandler.endElement-220"><span class="linenos">220</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler.endElement-221"><a href="#ProjectParserHandler.endElement-221"><span class="linenos">221</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_element</span> <span class="o">==</span> <span class="s2">&quot;distance&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.endElement-222"><a href="#ProjectParserHandler.endElement-222"><span class="linenos">222</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;distance&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_content</span><span class="p">))</span>
</span><span id="ProjectParserHandler.endElement-223"><a href="#ProjectParserHandler.endElement-223"><span class="linenos">223</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ProjectParserHandler.endElement-224"><a href="#ProjectParserHandler.endElement-224"><span class="linenos">224</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;result&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.endElement-225"><a href="#ProjectParserHandler.endElement-225"><span class="linenos">225</span></a>            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">)</span>
</span><span id="ProjectParserHandler.endElement-226"><a href="#ProjectParserHandler.endElement-226"><span class="linenos">226</span></a>            <span class="n">index_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler.endElement-227"><a href="#ProjectParserHandler.endElement-227"><span class="linenos">227</span></a>            <span class="n">ref_chain_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;ref_chain&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler.endElement-228"><a href="#ProjectParserHandler.endElement-228"><span class="linenos">228</span></a>            <span class="n">ref_pos_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;ref_pos&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler.endElement-229"><a href="#ProjectParserHandler.endElement-229"><span class="linenos">229</span></a>            <span class="n">ref_resi_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;ref_resi&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler.endElement-230"><a href="#ProjectParserHandler.endElement-230"><span class="linenos">230</span></a>            <span class="n">model_chain_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;model_chain&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler.endElement-231"><a href="#ProjectParserHandler.endElement-231"><span class="linenos">231</span></a>            <span class="n">model_pos_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;model_pos&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler.endElement-232"><a href="#ProjectParserHandler.endElement-232"><span class="linenos">232</span></a>            <span class="n">model_resi_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;model_resi&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler.endElement-233"><a href="#ProjectParserHandler.endElement-233"><span class="linenos">233</span></a>            <span class="n">distance_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distances_results</span><span class="p">[</span><span class="s2">&quot;distance&quot;</span><span class="p">])</span>
</span><span id="ProjectParserHandler.endElement-234"><a href="#ProjectParserHandler.endElement-234"><span class="linenos">234</span></a>            <span class="n">result_hashtable</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="ProjectParserHandler.endElement-235"><a href="#ProjectParserHandler.endElement-235"><span class="linenos">235</span></a>                <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="n">index_array</span><span class="p">,</span>
</span><span id="ProjectParserHandler.endElement-236"><a href="#ProjectParserHandler.endElement-236"><span class="linenos">236</span></a>                <span class="s2">&quot;ref_chain&quot;</span><span class="p">:</span> <span class="n">ref_chain_array</span><span class="p">,</span>
</span><span id="ProjectParserHandler.endElement-237"><a href="#ProjectParserHandler.endElement-237"><span class="linenos">237</span></a>                <span class="s2">&quot;ref_pos&quot;</span><span class="p">:</span> <span class="n">ref_pos_array</span><span class="p">,</span>
</span><span id="ProjectParserHandler.endElement-238"><a href="#ProjectParserHandler.endElement-238"><span class="linenos">238</span></a>                <span class="s2">&quot;ref_resi&quot;</span><span class="p">:</span> <span class="n">ref_resi_array</span><span class="p">,</span>
</span><span id="ProjectParserHandler.endElement-239"><a href="#ProjectParserHandler.endElement-239"><span class="linenos">239</span></a>                <span class="s2">&quot;model_chain&quot;</span><span class="p">:</span> <span class="n">model_chain_array</span><span class="p">,</span>
</span><span id="ProjectParserHandler.endElement-240"><a href="#ProjectParserHandler.endElement-240"><span class="linenos">240</span></a>                <span class="s2">&quot;model_pos&quot;</span><span class="p">:</span> <span class="n">model_pos_array</span><span class="p">,</span>
</span><span id="ProjectParserHandler.endElement-241"><a href="#ProjectParserHandler.endElement-241"><span class="linenos">241</span></a>                <span class="s2">&quot;model_resi&quot;</span><span class="p">:</span> <span class="n">model_resi_array</span><span class="p">,</span>
</span><span id="ProjectParserHandler.endElement-242"><a href="#ProjectParserHandler.endElement-242"><span class="linenos">242</span></a>                <span class="s2">&quot;distance&quot;</span><span class="p">:</span> <span class="n">distance_array</span><span class="p">,</span>
</span><span id="ProjectParserHandler.endElement-243"><a href="#ProjectParserHandler.endElement-243"><span class="linenos">243</span></a>            <span class="p">}</span>
</span><span id="ProjectParserHandler.endElement-244"><a href="#ProjectParserHandler.endElement-244"><span class="linenos">244</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">result_obj</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">DistanceAnalysisResults</span><span class="p">(</span><span class="n">result_hashtable</span><span class="p">,</span>
</span><span id="ProjectParserHandler.endElement-245"><a href="#ProjectParserHandler.endElement-245"><span class="linenos">245</span></a>                                                              <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
</span><span id="ProjectParserHandler.endElement-246"><a href="#ProjectParserHandler.endElement-246"><span class="linenos">246</span></a>                                                              <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
</span><span id="ProjectParserHandler.endElement-247"><a href="#ProjectParserHandler.endElement-247"><span class="linenos">247</span></a>                                                              <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="ProjectParserHandler.endElement-248"><a href="#ProjectParserHandler.endElement-248"><span class="linenos">248</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;distance_analysis&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.endElement-249"><a href="#ProjectParserHandler.endElement-249"><span class="linenos">249</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span> <span class="o">=</span> <span class="n">structure_analysis</span><span class="o">.</span><span class="n">DistanceAnalysis</span><span class="p">(</span>
</span><span id="ProjectParserHandler.endElement-250"><a href="#ProjectParserHandler.endElement-250"><span class="linenos">250</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_app_settings</span><span class="p">,</span> <span class="n">distance_analysis_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
</span><span id="ProjectParserHandler.endElement-251"><a href="#ProjectParserHandler.endElement-251"><span class="linenos">251</span></a>            <span class="p">)</span>
</span><span id="ProjectParserHandler.endElement-252"><a href="#ProjectParserHandler.endElement-252"><span class="linenos">252</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span><span class="o">.</span><span class="n">analysis_results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_obj</span>
</span><span id="ProjectParserHandler.endElement-253"><a href="#ProjectParserHandler.endElement-253"><span class="linenos">253</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span><span class="o">.</span><span class="n">cutoff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis</span><span class="p">[</span><span class="s2">&quot;cutoff&quot;</span><span class="p">]</span>
</span><span id="ProjectParserHandler.endElement-254"><a href="#ProjectParserHandler.endElement-254"><span class="linenos">254</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span><span class="o">.</span><span class="n">cycles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis</span><span class="p">[</span><span class="s2">&quot;cycles&quot;</span><span class="p">]</span>
</span><span id="ProjectParserHandler.endElement-255"><a href="#ProjectParserHandler.endElement-255"><span class="linenos">255</span></a>        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;protein_pair&quot;</span><span class="p">:</span>
</span><span id="ProjectParserHandler.endElement-256"><a href="#ProjectParserHandler.endElement-256"><span class="linenos">256</span></a>            <span class="n">tmp_protein_pair</span> <span class="o">=</span> <span class="n">protein_pair</span><span class="o">.</span><span class="n">ProteinPair</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_proteins_for_pair</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_proteins_for_pair</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="ProjectParserHandler.endElement-257"><a href="#ProjectParserHandler.endElement-257"><span class="linenos">257</span></a>            <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">protein_pair_data</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
</span><span id="ProjectParserHandler.endElement-258"><a href="#ProjectParserHandler.endElement-258"><span class="linenos">258</span></a>            <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">distance_analysis</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span>
</span><span id="ProjectParserHandler.endElement-259"><a href="#ProjectParserHandler.endElement-259"><span class="linenos">259</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_project</span><span class="o">.</span><span class="n">protein_pairs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp_protein_pair</span><span class="p">)</span>
</span><span id="ProjectParserHandler.endElement-260"><a href="#ProjectParserHandler.endElement-260"><span class="linenos">260</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">protein_pair_data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="ProjectParserHandler.endElement-261"><a href="#ProjectParserHandler.endElement-261"><span class="linenos">261</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_proteins_for_pair</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ProjectParserHandler.endElement-262"><a href="#ProjectParserHandler.endElement-262"><span class="linenos">262</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ProjectParserHandler.endElement-263"><a href="#ProjectParserHandler.endElement-263"><span class="linenos">263</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">result_obj</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ProjectParserHandler.endElement-264"><a href="#ProjectParserHandler.endElement-264"><span class="linenos">264</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="ProjectParserHandler.endElement-265"><a href="#ProjectParserHandler.endElement-265"><span class="linenos">265</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">distance_analysis_obj</span> <span class="o">=</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Signals the end of an element in non-namespace mode.</p>

<p>The name parameter contains the name of the element type, just
as with the startElement event.</p>
</div>


                            </div>
                            <div id="ProjectParserHandler.get_project" class="classattr">
                                        <input id="ProjectParserHandler.get_project-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_project</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ProjectParserHandler.get_project-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProjectParserHandler.get_project"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProjectParserHandler.get_project-267"><a href="#ProjectParserHandler.get_project-267"><span class="linenos">267</span></a>    <span class="k">def</span> <span class="nf">get_project</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ProjectParserHandler.get_project-268"><a href="#ProjectParserHandler.get_project-268"><span class="linenos">268</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_project</span>
</span></pre></div>


    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>xml.sax.handler.ContentHandler</dt>
                                <dd id="ProjectParserHandler.setDocumentLocator" class="function">setDocumentLocator</dd>
                <dd id="ProjectParserHandler.startDocument" class="function">startDocument</dd>
                <dd id="ProjectParserHandler.endDocument" class="function">endDocument</dd>
                <dd id="ProjectParserHandler.startPrefixMapping" class="function">startPrefixMapping</dd>
                <dd id="ProjectParserHandler.endPrefixMapping" class="function">endPrefixMapping</dd>
                <dd id="ProjectParserHandler.startElementNS" class="function">startElementNS</dd>
                <dd id="ProjectParserHandler.endElementNS" class="function">endElementNS</dd>
                <dd id="ProjectParserHandler.ignorableWhitespace" class="function">ignorableWhitespace</dd>
                <dd id="ProjectParserHandler.processingInstruction" class="function">processingInstruction</dd>
                <dd id="ProjectParserHandler.skippedEntity" class="function">skippedEntity</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ProjectParser">
                            <input id="ProjectParser-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ProjectParser</span>:

                <label class="view-source-button" for="ProjectParser-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProjectParser"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProjectParser-297"><a href="#ProjectParser-297"><span class="linenos">297</span></a><span class="k">class</span> <span class="nc">ProjectParser</span><span class="p">:</span>
</span><span id="ProjectParser-298"><a href="#ProjectParser-298"><span class="linenos">298</span></a>    <span class="n">_project</span><span class="p">:</span> <span class="s2">&quot;project.Project&quot;</span>
</span><span id="ProjectParser-299"><a href="#ProjectParser-299"><span class="linenos">299</span></a>
</span><span id="ProjectParser-300"><a href="#ProjectParser-300"><span class="linenos">300</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xml_reader</span><span class="p">:</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QXmlStreamReader</span><span class="p">):</span>
</span><span id="ProjectParser-301"><a href="#ProjectParser-301"><span class="linenos">301</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span> <span class="o">=</span> <span class="n">xml_reader</span>
</span><span id="ProjectParser-302"><a href="#ProjectParser-302"><span class="linenos">302</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_project</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">Project</span><span class="p">()</span>
</span><span id="ProjectParser-303"><a href="#ProjectParser-303"><span class="linenos">303</span></a>
</span><span id="ProjectParser-304"><a href="#ProjectParser-304"><span class="linenos">304</span></a>    <span class="k">def</span> <span class="nf">parse_complete_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ProjectParser-305"><a href="#ProjectParser-305"><span class="linenos">305</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">()</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">hasError</span><span class="p">():</span>
</span><span id="ProjectParser-306"><a href="#ProjectParser-306"><span class="linenos">306</span></a>            <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="ProjectParser-307"><a href="#ProjectParser-307"><span class="linenos">307</span></a>            <span class="n">element_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
</span><span id="ProjectParser-308"><a href="#ProjectParser-308"><span class="linenos">308</span></a>            <span class="k">if</span> <span class="n">element_name</span> <span class="o">==</span> <span class="s2">&quot;project_info&quot;</span><span class="p">:</span>
</span><span id="ProjectParser-309"><a href="#ProjectParser-309"><span class="linenos">309</span></a>                <span class="c1"># Process project_info element</span>
</span><span id="ProjectParser-310"><a href="#ProjectParser-310"><span class="linenos">310</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_project</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">Project</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span>
</span><span id="ProjectParser-311"><a href="#ProjectParser-311"><span class="linenos">311</span></a>                                                <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;workspace_path&quot;</span><span class="p">)))</span>
</span><span id="ProjectParser-312"><a href="#ProjectParser-312"><span class="linenos">312</span></a>            <span class="k">elif</span> <span class="n">element_name</span> <span class="o">==</span> <span class="s2">&quot;protein&quot;</span><span class="p">:</span>
</span><span id="ProjectParser-313"><a href="#ProjectParser-313"><span class="linenos">313</span></a>                <span class="c1"># Process protein element</span>
</span><span id="ProjectParser-314"><a href="#ProjectParser-314"><span class="linenos">314</span></a>                <span class="nb">id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>
</span><span id="ProjectParser-315"><a href="#ProjectParser-315"><span class="linenos">315</span></a>                <span class="n">molecule_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;pymol_molecule_object&quot;</span><span class="p">)</span>
</span><span id="ProjectParser-316"><a href="#ProjectParser-316"><span class="linenos">316</span></a>                <span class="n">selection</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;pymol_selection&quot;</span><span class="p">)</span>
</span><span id="ProjectParser-317"><a href="#ProjectParser-317"><span class="linenos">317</span></a>                <span class="c1"># Continue reading the elements within the protein element</span>
</span><span id="ProjectParser-318"><a href="#ProjectParser-318"><span class="linenos">318</span></a>                <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNextStartElement</span><span class="p">():</span>
</span><span id="ProjectParser-319"><a href="#ProjectParser-319"><span class="linenos">319</span></a>                    <span class="n">sub_element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
</span><span id="ProjectParser-320"><a href="#ProjectParser-320"><span class="linenos">320</span></a>                    <span class="k">if</span> <span class="n">sub_element</span> <span class="o">==</span> <span class="s2">&quot;pdb_data&quot;</span><span class="p">:</span>
</span><span id="ProjectParser-321"><a href="#ProjectParser-321"><span class="linenos">321</span></a>                        <span class="c1"># Process pdb_data element</span>
</span><span id="ProjectParser-322"><a href="#ProjectParser-322"><span class="linenos">322</span></a>                        <span class="c1"># Continue reading the elements within the pdb_data element</span>
</span><span id="ProjectParser-323"><a href="#ProjectParser-323"><span class="linenos">323</span></a>                        <span class="n">tmp_pdb_data</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span><span class="p">()</span>
</span><span id="ProjectParser-324"><a href="#ProjectParser-324"><span class="linenos">324</span></a>                        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNextStartElement</span><span class="p">():</span>
</span><span id="ProjectParser-325"><a href="#ProjectParser-325"><span class="linenos">325</span></a>                            <span class="n">atom_element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
</span><span id="ProjectParser-326"><a href="#ProjectParser-326"><span class="linenos">326</span></a>                            <span class="k">if</span> <span class="n">atom_element</span> <span class="o">==</span> <span class="s2">&quot;atom&quot;</span><span class="p">:</span>
</span><span id="ProjectParser-327"><a href="#ProjectParser-327"><span class="linenos">327</span></a>                                <span class="c1"># Process atom element</span>
</span><span id="ProjectParser-328"><a href="#ProjectParser-328"><span class="linenos">328</span></a>                                <span class="n">tmp_pdb_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readElementText</span><span class="p">())</span>
</span><span id="ProjectParser-329"><a href="#ProjectParser-329"><span class="linenos">329</span></a>                                <span class="c1"># Process atom data as needed</span>
</span><span id="ProjectParser-330"><a href="#ProjectParser-330"><span class="linenos">330</span></a>                            <span class="k">else</span><span class="p">:</span>
</span><span id="ProjectParser-331"><a href="#ProjectParser-331"><span class="linenos">331</span></a>                                <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">skipCurrentElement</span><span class="p">()</span>  <span class="c1"># Skip unknown elements</span>
</span><span id="ProjectParser-332"><a href="#ProjectParser-332"><span class="linenos">332</span></a>                    <span class="k">elif</span> <span class="n">sub_element</span> <span class="o">==</span> <span class="s2">&quot;session_data&quot;</span><span class="p">:</span>
</span><span id="ProjectParser-333"><a href="#ProjectParser-333"><span class="linenos">333</span></a>                        <span class="c1"># Process session_data element</span>
</span><span id="ProjectParser-334"><a href="#ProjectParser-334"><span class="linenos">334</span></a>                        <span class="n">session_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readElementText</span><span class="p">()</span>
</span><span id="ProjectParser-335"><a href="#ProjectParser-335"><span class="linenos">335</span></a>                        <span class="c1"># Process session_data as needed</span>
</span><span id="ProjectParser-336"><a href="#ProjectParser-336"><span class="linenos">336</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="ProjectParser-337"><a href="#ProjectParser-337"><span class="linenos">337</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">skipCurrentElement</span><span class="p">()</span>  <span class="c1"># Skip unknown elements</span>
</span><span id="ProjectParser-338"><a href="#ProjectParser-338"><span class="linenos">338</span></a>                <span class="n">tmp_protein</span> <span class="o">=</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span><span class="p">(</span><span class="n">molecule_object</span><span class="p">,</span> <span class="n">pdb_data</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">tmp_pdb_data</span><span class="p">))</span>
</span><span id="ProjectParser-339"><a href="#ProjectParser-339"><span class="linenos">339</span></a>                <span class="nb">print</span><span class="p">(</span><span class="n">tmp_protein</span><span class="o">.</span><span class="n">get_pdb_data</span><span class="p">())</span>
</span><span id="ProjectParser-340"><a href="#ProjectParser-340"><span class="linenos">340</span></a>            <span class="k">elif</span> <span class="n">element_name</span> <span class="o">==</span> <span class="s2">&quot;protein_pair&quot;</span><span class="p">:</span>
</span><span id="ProjectParser-341"><a href="#ProjectParser-341"><span class="linenos">341</span></a>                <span class="c1"># Process protein_pair element</span>
</span><span id="ProjectParser-342"><a href="#ProjectParser-342"><span class="linenos">342</span></a>                <span class="n">pair_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">toString</span><span class="p">()</span>
</span><span id="ProjectParser-343"><a href="#ProjectParser-343"><span class="linenos">343</span></a>                <span class="c1"># Process other attributes or data as needed</span>
</span><span id="ProjectParser-344"><a href="#ProjectParser-344"><span class="linenos">344</span></a>
</span><span id="ProjectParser-345"><a href="#ProjectParser-345"><span class="linenos">345</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="ProjectParser-346"><a href="#ProjectParser-346"><span class="linenos">346</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">skipCurrentElement</span><span class="p">()</span>  <span class="c1"># Skip unknown elements</span>
</span><span id="ProjectParser-347"><a href="#ProjectParser-347"><span class="linenos">347</span></a>
</span><span id="ProjectParser-348"><a href="#ProjectParser-348"><span class="linenos">348</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">hasError</span><span class="p">():</span>
</span><span id="ProjectParser-349"><a href="#ProjectParser-349"><span class="linenos">349</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error parsing XML:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">errorString</span><span class="p">())</span>
</span><span id="ProjectParser-350"><a href="#ProjectParser-350"><span class="linenos">350</span></a>
</span><span id="ProjectParser-351"><a href="#ProjectParser-351"><span class="linenos">351</span></a>    <span class="k">def</span> <span class="nf">parse_project</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ProjectParser-352"><a href="#ProjectParser-352"><span class="linenos">352</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="ProjectParser-353"><a href="#ProjectParser-353"><span class="linenos">353</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="ProjectParser-354"><a href="#ProjectParser-354"><span class="linenos">354</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;project&quot;</span><span class="p">:</span>
</span><span id="ProjectParser-355"><a href="#ProjectParser-355"><span class="linenos">355</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_project</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_project_info</span><span class="p">()</span>
</span><span id="ProjectParser-356"><a href="#ProjectParser-356"><span class="linenos">356</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">parse_sequences</span><span class="p">()</span>
</span><span id="ProjectParser-357"><a href="#ProjectParser-357"><span class="linenos">357</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">parse_proteins</span><span class="p">()</span>
</span><span id="ProjectParser-358"><a href="#ProjectParser-358"><span class="linenos">358</span></a>                <span class="c1">#self.parse_protein_pairs()</span>
</span><span id="ProjectParser-359"><a href="#ProjectParser-359"><span class="linenos">359</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_project</span>
</span><span id="ProjectParser-360"><a href="#ProjectParser-360"><span class="linenos">360</span></a>
</span><span id="ProjectParser-361"><a href="#ProjectParser-361"><span class="linenos">361</span></a>    <span class="k">def</span> <span class="nf">parse_project_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ProjectParser-362"><a href="#ProjectParser-362"><span class="linenos">362</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="ProjectParser-363"><a href="#ProjectParser-363"><span class="linenos">363</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="ProjectParser-364"><a href="#ProjectParser-364"><span class="linenos">364</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;project_info&quot;</span><span class="p">:</span>
</span><span id="ProjectParser-365"><a href="#ProjectParser-365"><span class="linenos">365</span></a>                <span class="c1"># Process attributes</span>
</span><span id="ProjectParser-366"><a href="#ProjectParser-366"><span class="linenos">366</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span>
</span><span id="ProjectParser-367"><a href="#ProjectParser-367"><span class="linenos">367</span></a>                <span class="n">project_infos</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ProjectParser-368"><a href="#ProjectParser-368"><span class="linenos">368</span></a>                <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">():</span>
</span><span id="ProjectParser-369"><a href="#ProjectParser-369"><span class="linenos">369</span></a>                    <span class="n">attribute_name</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
</span><span id="ProjectParser-370"><a href="#ProjectParser-370"><span class="linenos">370</span></a>                    <span class="n">attribute_value</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
</span><span id="ProjectParser-371"><a href="#ProjectParser-371"><span class="linenos">371</span></a>                    <span class="n">project_infos</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">attribute_name</span><span class="p">,</span> <span class="n">attribute_value</span><span class="p">))</span>
</span><span id="ProjectParser-372"><a href="#ProjectParser-372"><span class="linenos">372</span></a>                <span class="k">return</span> <span class="n">project</span><span class="o">.</span><span class="n">Project</span><span class="p">(</span><span class="n">project_infos</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">project_infos</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]))</span>
</span><span id="ProjectParser-373"><a href="#ProjectParser-373"><span class="linenos">373</span></a>
</span><span id="ProjectParser-374"><a href="#ProjectParser-374"><span class="linenos">374</span></a>    <span class="k">def</span> <span class="nf">parse_sequences</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ProjectParser-375"><a href="#ProjectParser-375"><span class="linenos">375</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="ProjectParser-376"><a href="#ProjectParser-376"><span class="linenos">376</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="ProjectParser-377"><a href="#ProjectParser-377"><span class="linenos">377</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;sequences&quot;</span><span class="p">:</span>
</span><span id="ProjectParser-378"><a href="#ProjectParser-378"><span class="linenos">378</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">parse_sequence</span><span class="p">()</span>
</span><span id="ProjectParser-379"><a href="#ProjectParser-379"><span class="linenos">379</span></a>
</span><span id="ProjectParser-380"><a href="#ProjectParser-380"><span class="linenos">380</span></a>    <span class="k">def</span> <span class="nf">parse_sequence</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ProjectParser-381"><a href="#ProjectParser-381"><span class="linenos">381</span></a>        <span class="n">sequence_data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="ProjectParser-382"><a href="#ProjectParser-382"><span class="linenos">382</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="ProjectParser-383"><a href="#ProjectParser-383"><span class="linenos">383</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="ProjectParser-384"><a href="#ProjectParser-384"><span class="linenos">384</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;sequence&quot;</span><span class="p">:</span>
</span><span id="ProjectParser-385"><a href="#ProjectParser-385"><span class="linenos">385</span></a>                <span class="c1"># Process attributes</span>
</span><span id="ProjectParser-386"><a href="#ProjectParser-386"><span class="linenos">386</span></a>                <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">():</span>
</span><span id="ProjectParser-387"><a href="#ProjectParser-387"><span class="linenos">387</span></a>                    <span class="n">attribute_name</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
</span><span id="ProjectParser-388"><a href="#ProjectParser-388"><span class="linenos">388</span></a>                    <span class="n">attribute_value</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
</span><span id="ProjectParser-389"><a href="#ProjectParser-389"><span class="linenos">389</span></a>                    <span class="n">sequence_data</span><span class="p">[</span><span class="n">attribute_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">attribute_value</span>
</span><span id="ProjectParser-390"><a href="#ProjectParser-390"><span class="linenos">390</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_project</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">SeqRecord</span><span class="o">.</span><span class="n">SeqRecord</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">sequence_data</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span> <span class="n">seq</span><span class="o">=</span><span class="n">sequence_data</span><span class="p">[</span><span class="s2">&quot;seq&quot;</span><span class="p">]))</span>
</span><span id="ProjectParser-391"><a href="#ProjectParser-391"><span class="linenos">391</span></a>
</span><span id="ProjectParser-392"><a href="#ProjectParser-392"><span class="linenos">392</span></a>    <span class="k">def</span> <span class="nf">parse_proteins</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ProjectParser-393"><a href="#ProjectParser-393"><span class="linenos">393</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="ProjectParser-394"><a href="#ProjectParser-394"><span class="linenos">394</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="ProjectParser-395"><a href="#ProjectParser-395"><span class="linenos">395</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;proteins&quot;</span><span class="p">:</span>
</span><span id="ProjectParser-396"><a href="#ProjectParser-396"><span class="linenos">396</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">parse_protein</span><span class="p">()</span>
</span><span id="ProjectParser-397"><a href="#ProjectParser-397"><span class="linenos">397</span></a>
</span><span id="ProjectParser-398"><a href="#ProjectParser-398"><span class="linenos">398</span></a>    <span class="k">def</span> <span class="nf">parse_protein</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ProjectParser-399"><a href="#ProjectParser-399"><span class="linenos">399</span></a>        <span class="n">protein_data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="ProjectParser-400"><a href="#ProjectParser-400"><span class="linenos">400</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="ProjectParser-401"><a href="#ProjectParser-401"><span class="linenos">401</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="ProjectParser-402"><a href="#ProjectParser-402"><span class="linenos">402</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;protein&quot;</span><span class="p">:</span>
</span><span id="ProjectParser-403"><a href="#ProjectParser-403"><span class="linenos">403</span></a>                <span class="c1"># Process attributes</span>
</span><span id="ProjectParser-404"><a href="#ProjectParser-404"><span class="linenos">404</span></a>                <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">():</span>
</span><span id="ProjectParser-405"><a href="#ProjectParser-405"><span class="linenos">405</span></a>                    <span class="n">attribute_name</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
</span><span id="ProjectParser-406"><a href="#ProjectParser-406"><span class="linenos">406</span></a>                    <span class="n">attribute_value</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
</span><span id="ProjectParser-407"><a href="#ProjectParser-407"><span class="linenos">407</span></a>                    <span class="n">protein_data</span><span class="p">[</span><span class="n">attribute_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">attribute_value</span>
</span><span id="ProjectParser-408"><a href="#ProjectParser-408"><span class="linenos">408</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="n">protein_data</span><span class="p">)</span>
</span><span id="ProjectParser-409"><a href="#ProjectParser-409"><span class="linenos">409</span></a>
</span><span id="ProjectParser-410"><a href="#ProjectParser-410"><span class="linenos">410</span></a>    <span class="k">def</span> <span class="nf">parse_protein_pairs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ProjectParser-411"><a href="#ProjectParser-411"><span class="linenos">411</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="ProjectParser-412"><a href="#ProjectParser-412"><span class="linenos">412</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="ProjectParser-413"><a href="#ProjectParser-413"><span class="linenos">413</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;protein_pairs&quot;</span><span class="p">:</span>
</span><span id="ProjectParser-414"><a href="#ProjectParser-414"><span class="linenos">414</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span>
</span><span id="ProjectParser-415"><a href="#ProjectParser-415"><span class="linenos">415</span></a>            <span class="c1"># Process individual protein pairs</span>
</span></pre></div>


    

                            <div id="ProjectParser.__init__" class="classattr">
                                        <input id="ProjectParser.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ProjectParser</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">xml_reader</span><span class="p">:</span> <span class="n">PyQt5</span><span class="o">.</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QXmlStreamReader</span></span>)</span>

                <label class="view-source-button" for="ProjectParser.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProjectParser.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProjectParser.__init__-300"><a href="#ProjectParser.__init__-300"><span class="linenos">300</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xml_reader</span><span class="p">:</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QXmlStreamReader</span><span class="p">):</span>
</span><span id="ProjectParser.__init__-301"><a href="#ProjectParser.__init__-301"><span class="linenos">301</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span> <span class="o">=</span> <span class="n">xml_reader</span>
</span><span id="ProjectParser.__init__-302"><a href="#ProjectParser.__init__-302"><span class="linenos">302</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_project</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">Project</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div id="ProjectParser.xml_reader" class="classattr">
                                <div class="attr variable">
            <span class="name">xml_reader</span>

        
    </div>
    <a class="headerlink" href="#ProjectParser.xml_reader"></a>
    
    

                            </div>
                            <div id="ProjectParser.parse_complete_xml" class="classattr">
                                        <input id="ProjectParser.parse_complete_xml-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parse_complete_xml</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ProjectParser.parse_complete_xml-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProjectParser.parse_complete_xml"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProjectParser.parse_complete_xml-304"><a href="#ProjectParser.parse_complete_xml-304"><span class="linenos">304</span></a>    <span class="k">def</span> <span class="nf">parse_complete_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ProjectParser.parse_complete_xml-305"><a href="#ProjectParser.parse_complete_xml-305"><span class="linenos">305</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">()</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">hasError</span><span class="p">():</span>
</span><span id="ProjectParser.parse_complete_xml-306"><a href="#ProjectParser.parse_complete_xml-306"><span class="linenos">306</span></a>            <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="ProjectParser.parse_complete_xml-307"><a href="#ProjectParser.parse_complete_xml-307"><span class="linenos">307</span></a>            <span class="n">element_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
</span><span id="ProjectParser.parse_complete_xml-308"><a href="#ProjectParser.parse_complete_xml-308"><span class="linenos">308</span></a>            <span class="k">if</span> <span class="n">element_name</span> <span class="o">==</span> <span class="s2">&quot;project_info&quot;</span><span class="p">:</span>
</span><span id="ProjectParser.parse_complete_xml-309"><a href="#ProjectParser.parse_complete_xml-309"><span class="linenos">309</span></a>                <span class="c1"># Process project_info element</span>
</span><span id="ProjectParser.parse_complete_xml-310"><a href="#ProjectParser.parse_complete_xml-310"><span class="linenos">310</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_project</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">Project</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span>
</span><span id="ProjectParser.parse_complete_xml-311"><a href="#ProjectParser.parse_complete_xml-311"><span class="linenos">311</span></a>                                                <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;workspace_path&quot;</span><span class="p">)))</span>
</span><span id="ProjectParser.parse_complete_xml-312"><a href="#ProjectParser.parse_complete_xml-312"><span class="linenos">312</span></a>            <span class="k">elif</span> <span class="n">element_name</span> <span class="o">==</span> <span class="s2">&quot;protein&quot;</span><span class="p">:</span>
</span><span id="ProjectParser.parse_complete_xml-313"><a href="#ProjectParser.parse_complete_xml-313"><span class="linenos">313</span></a>                <span class="c1"># Process protein element</span>
</span><span id="ProjectParser.parse_complete_xml-314"><a href="#ProjectParser.parse_complete_xml-314"><span class="linenos">314</span></a>                <span class="nb">id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>
</span><span id="ProjectParser.parse_complete_xml-315"><a href="#ProjectParser.parse_complete_xml-315"><span class="linenos">315</span></a>                <span class="n">molecule_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;pymol_molecule_object&quot;</span><span class="p">)</span>
</span><span id="ProjectParser.parse_complete_xml-316"><a href="#ProjectParser.parse_complete_xml-316"><span class="linenos">316</span></a>                <span class="n">selection</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;pymol_selection&quot;</span><span class="p">)</span>
</span><span id="ProjectParser.parse_complete_xml-317"><a href="#ProjectParser.parse_complete_xml-317"><span class="linenos">317</span></a>                <span class="c1"># Continue reading the elements within the protein element</span>
</span><span id="ProjectParser.parse_complete_xml-318"><a href="#ProjectParser.parse_complete_xml-318"><span class="linenos">318</span></a>                <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNextStartElement</span><span class="p">():</span>
</span><span id="ProjectParser.parse_complete_xml-319"><a href="#ProjectParser.parse_complete_xml-319"><span class="linenos">319</span></a>                    <span class="n">sub_element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
</span><span id="ProjectParser.parse_complete_xml-320"><a href="#ProjectParser.parse_complete_xml-320"><span class="linenos">320</span></a>                    <span class="k">if</span> <span class="n">sub_element</span> <span class="o">==</span> <span class="s2">&quot;pdb_data&quot;</span><span class="p">:</span>
</span><span id="ProjectParser.parse_complete_xml-321"><a href="#ProjectParser.parse_complete_xml-321"><span class="linenos">321</span></a>                        <span class="c1"># Process pdb_data element</span>
</span><span id="ProjectParser.parse_complete_xml-322"><a href="#ProjectParser.parse_complete_xml-322"><span class="linenos">322</span></a>                        <span class="c1"># Continue reading the elements within the pdb_data element</span>
</span><span id="ProjectParser.parse_complete_xml-323"><a href="#ProjectParser.parse_complete_xml-323"><span class="linenos">323</span></a>                        <span class="n">tmp_pdb_data</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span><span class="p">()</span>
</span><span id="ProjectParser.parse_complete_xml-324"><a href="#ProjectParser.parse_complete_xml-324"><span class="linenos">324</span></a>                        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNextStartElement</span><span class="p">():</span>
</span><span id="ProjectParser.parse_complete_xml-325"><a href="#ProjectParser.parse_complete_xml-325"><span class="linenos">325</span></a>                            <span class="n">atom_element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
</span><span id="ProjectParser.parse_complete_xml-326"><a href="#ProjectParser.parse_complete_xml-326"><span class="linenos">326</span></a>                            <span class="k">if</span> <span class="n">atom_element</span> <span class="o">==</span> <span class="s2">&quot;atom&quot;</span><span class="p">:</span>
</span><span id="ProjectParser.parse_complete_xml-327"><a href="#ProjectParser.parse_complete_xml-327"><span class="linenos">327</span></a>                                <span class="c1"># Process atom element</span>
</span><span id="ProjectParser.parse_complete_xml-328"><a href="#ProjectParser.parse_complete_xml-328"><span class="linenos">328</span></a>                                <span class="n">tmp_pdb_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readElementText</span><span class="p">())</span>
</span><span id="ProjectParser.parse_complete_xml-329"><a href="#ProjectParser.parse_complete_xml-329"><span class="linenos">329</span></a>                                <span class="c1"># Process atom data as needed</span>
</span><span id="ProjectParser.parse_complete_xml-330"><a href="#ProjectParser.parse_complete_xml-330"><span class="linenos">330</span></a>                            <span class="k">else</span><span class="p">:</span>
</span><span id="ProjectParser.parse_complete_xml-331"><a href="#ProjectParser.parse_complete_xml-331"><span class="linenos">331</span></a>                                <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">skipCurrentElement</span><span class="p">()</span>  <span class="c1"># Skip unknown elements</span>
</span><span id="ProjectParser.parse_complete_xml-332"><a href="#ProjectParser.parse_complete_xml-332"><span class="linenos">332</span></a>                    <span class="k">elif</span> <span class="n">sub_element</span> <span class="o">==</span> <span class="s2">&quot;session_data&quot;</span><span class="p">:</span>
</span><span id="ProjectParser.parse_complete_xml-333"><a href="#ProjectParser.parse_complete_xml-333"><span class="linenos">333</span></a>                        <span class="c1"># Process session_data element</span>
</span><span id="ProjectParser.parse_complete_xml-334"><a href="#ProjectParser.parse_complete_xml-334"><span class="linenos">334</span></a>                        <span class="n">session_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readElementText</span><span class="p">()</span>
</span><span id="ProjectParser.parse_complete_xml-335"><a href="#ProjectParser.parse_complete_xml-335"><span class="linenos">335</span></a>                        <span class="c1"># Process session_data as needed</span>
</span><span id="ProjectParser.parse_complete_xml-336"><a href="#ProjectParser.parse_complete_xml-336"><span class="linenos">336</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="ProjectParser.parse_complete_xml-337"><a href="#ProjectParser.parse_complete_xml-337"><span class="linenos">337</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">skipCurrentElement</span><span class="p">()</span>  <span class="c1"># Skip unknown elements</span>
</span><span id="ProjectParser.parse_complete_xml-338"><a href="#ProjectParser.parse_complete_xml-338"><span class="linenos">338</span></a>                <span class="n">tmp_protein</span> <span class="o">=</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span><span class="p">(</span><span class="n">molecule_object</span><span class="p">,</span> <span class="n">pdb_data</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">tmp_pdb_data</span><span class="p">))</span>
</span><span id="ProjectParser.parse_complete_xml-339"><a href="#ProjectParser.parse_complete_xml-339"><span class="linenos">339</span></a>                <span class="nb">print</span><span class="p">(</span><span class="n">tmp_protein</span><span class="o">.</span><span class="n">get_pdb_data</span><span class="p">())</span>
</span><span id="ProjectParser.parse_complete_xml-340"><a href="#ProjectParser.parse_complete_xml-340"><span class="linenos">340</span></a>            <span class="k">elif</span> <span class="n">element_name</span> <span class="o">==</span> <span class="s2">&quot;protein_pair&quot;</span><span class="p">:</span>
</span><span id="ProjectParser.parse_complete_xml-341"><a href="#ProjectParser.parse_complete_xml-341"><span class="linenos">341</span></a>                <span class="c1"># Process protein_pair element</span>
</span><span id="ProjectParser.parse_complete_xml-342"><a href="#ProjectParser.parse_complete_xml-342"><span class="linenos">342</span></a>                <span class="n">pair_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">toString</span><span class="p">()</span>
</span><span id="ProjectParser.parse_complete_xml-343"><a href="#ProjectParser.parse_complete_xml-343"><span class="linenos">343</span></a>                <span class="c1"># Process other attributes or data as needed</span>
</span><span id="ProjectParser.parse_complete_xml-344"><a href="#ProjectParser.parse_complete_xml-344"><span class="linenos">344</span></a>
</span><span id="ProjectParser.parse_complete_xml-345"><a href="#ProjectParser.parse_complete_xml-345"><span class="linenos">345</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="ProjectParser.parse_complete_xml-346"><a href="#ProjectParser.parse_complete_xml-346"><span class="linenos">346</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">skipCurrentElement</span><span class="p">()</span>  <span class="c1"># Skip unknown elements</span>
</span><span id="ProjectParser.parse_complete_xml-347"><a href="#ProjectParser.parse_complete_xml-347"><span class="linenos">347</span></a>
</span><span id="ProjectParser.parse_complete_xml-348"><a href="#ProjectParser.parse_complete_xml-348"><span class="linenos">348</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">hasError</span><span class="p">():</span>
</span><span id="ProjectParser.parse_complete_xml-349"><a href="#ProjectParser.parse_complete_xml-349"><span class="linenos">349</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error parsing XML:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">errorString</span><span class="p">())</span>
</span></pre></div>


    

                            </div>
                            <div id="ProjectParser.parse_project" class="classattr">
                                        <input id="ProjectParser.parse_project-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parse_project</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ProjectParser.parse_project-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProjectParser.parse_project"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProjectParser.parse_project-351"><a href="#ProjectParser.parse_project-351"><span class="linenos">351</span></a>    <span class="k">def</span> <span class="nf">parse_project</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ProjectParser.parse_project-352"><a href="#ProjectParser.parse_project-352"><span class="linenos">352</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="ProjectParser.parse_project-353"><a href="#ProjectParser.parse_project-353"><span class="linenos">353</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="ProjectParser.parse_project-354"><a href="#ProjectParser.parse_project-354"><span class="linenos">354</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;project&quot;</span><span class="p">:</span>
</span><span id="ProjectParser.parse_project-355"><a href="#ProjectParser.parse_project-355"><span class="linenos">355</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_project</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_project_info</span><span class="p">()</span>
</span><span id="ProjectParser.parse_project-356"><a href="#ProjectParser.parse_project-356"><span class="linenos">356</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">parse_sequences</span><span class="p">()</span>
</span><span id="ProjectParser.parse_project-357"><a href="#ProjectParser.parse_project-357"><span class="linenos">357</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">parse_proteins</span><span class="p">()</span>
</span><span id="ProjectParser.parse_project-358"><a href="#ProjectParser.parse_project-358"><span class="linenos">358</span></a>                <span class="c1">#self.parse_protein_pairs()</span>
</span><span id="ProjectParser.parse_project-359"><a href="#ProjectParser.parse_project-359"><span class="linenos">359</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_project</span>
</span></pre></div>


    

                            </div>
                            <div id="ProjectParser.parse_project_info" class="classattr">
                                        <input id="ProjectParser.parse_project_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parse_project_info</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ProjectParser.parse_project_info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProjectParser.parse_project_info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProjectParser.parse_project_info-361"><a href="#ProjectParser.parse_project_info-361"><span class="linenos">361</span></a>    <span class="k">def</span> <span class="nf">parse_project_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ProjectParser.parse_project_info-362"><a href="#ProjectParser.parse_project_info-362"><span class="linenos">362</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="ProjectParser.parse_project_info-363"><a href="#ProjectParser.parse_project_info-363"><span class="linenos">363</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="ProjectParser.parse_project_info-364"><a href="#ProjectParser.parse_project_info-364"><span class="linenos">364</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;project_info&quot;</span><span class="p">:</span>
</span><span id="ProjectParser.parse_project_info-365"><a href="#ProjectParser.parse_project_info-365"><span class="linenos">365</span></a>                <span class="c1"># Process attributes</span>
</span><span id="ProjectParser.parse_project_info-366"><a href="#ProjectParser.parse_project_info-366"><span class="linenos">366</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span>
</span><span id="ProjectParser.parse_project_info-367"><a href="#ProjectParser.parse_project_info-367"><span class="linenos">367</span></a>                <span class="n">project_infos</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ProjectParser.parse_project_info-368"><a href="#ProjectParser.parse_project_info-368"><span class="linenos">368</span></a>                <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">():</span>
</span><span id="ProjectParser.parse_project_info-369"><a href="#ProjectParser.parse_project_info-369"><span class="linenos">369</span></a>                    <span class="n">attribute_name</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
</span><span id="ProjectParser.parse_project_info-370"><a href="#ProjectParser.parse_project_info-370"><span class="linenos">370</span></a>                    <span class="n">attribute_value</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
</span><span id="ProjectParser.parse_project_info-371"><a href="#ProjectParser.parse_project_info-371"><span class="linenos">371</span></a>                    <span class="n">project_infos</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">attribute_name</span><span class="p">,</span> <span class="n">attribute_value</span><span class="p">))</span>
</span><span id="ProjectParser.parse_project_info-372"><a href="#ProjectParser.parse_project_info-372"><span class="linenos">372</span></a>                <span class="k">return</span> <span class="n">project</span><span class="o">.</span><span class="n">Project</span><span class="p">(</span><span class="n">project_infos</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">project_infos</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]))</span>
</span></pre></div>


    

                            </div>
                            <div id="ProjectParser.parse_sequences" class="classattr">
                                        <input id="ProjectParser.parse_sequences-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parse_sequences</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ProjectParser.parse_sequences-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProjectParser.parse_sequences"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProjectParser.parse_sequences-374"><a href="#ProjectParser.parse_sequences-374"><span class="linenos">374</span></a>    <span class="k">def</span> <span class="nf">parse_sequences</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ProjectParser.parse_sequences-375"><a href="#ProjectParser.parse_sequences-375"><span class="linenos">375</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="ProjectParser.parse_sequences-376"><a href="#ProjectParser.parse_sequences-376"><span class="linenos">376</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="ProjectParser.parse_sequences-377"><a href="#ProjectParser.parse_sequences-377"><span class="linenos">377</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;sequences&quot;</span><span class="p">:</span>
</span><span id="ProjectParser.parse_sequences-378"><a href="#ProjectParser.parse_sequences-378"><span class="linenos">378</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">parse_sequence</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div id="ProjectParser.parse_sequence" class="classattr">
                                        <input id="ProjectParser.parse_sequence-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parse_sequence</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ProjectParser.parse_sequence-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProjectParser.parse_sequence"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProjectParser.parse_sequence-380"><a href="#ProjectParser.parse_sequence-380"><span class="linenos">380</span></a>    <span class="k">def</span> <span class="nf">parse_sequence</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ProjectParser.parse_sequence-381"><a href="#ProjectParser.parse_sequence-381"><span class="linenos">381</span></a>        <span class="n">sequence_data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="ProjectParser.parse_sequence-382"><a href="#ProjectParser.parse_sequence-382"><span class="linenos">382</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="ProjectParser.parse_sequence-383"><a href="#ProjectParser.parse_sequence-383"><span class="linenos">383</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="ProjectParser.parse_sequence-384"><a href="#ProjectParser.parse_sequence-384"><span class="linenos">384</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;sequence&quot;</span><span class="p">:</span>
</span><span id="ProjectParser.parse_sequence-385"><a href="#ProjectParser.parse_sequence-385"><span class="linenos">385</span></a>                <span class="c1"># Process attributes</span>
</span><span id="ProjectParser.parse_sequence-386"><a href="#ProjectParser.parse_sequence-386"><span class="linenos">386</span></a>                <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">():</span>
</span><span id="ProjectParser.parse_sequence-387"><a href="#ProjectParser.parse_sequence-387"><span class="linenos">387</span></a>                    <span class="n">attribute_name</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
</span><span id="ProjectParser.parse_sequence-388"><a href="#ProjectParser.parse_sequence-388"><span class="linenos">388</span></a>                    <span class="n">attribute_value</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
</span><span id="ProjectParser.parse_sequence-389"><a href="#ProjectParser.parse_sequence-389"><span class="linenos">389</span></a>                    <span class="n">sequence_data</span><span class="p">[</span><span class="n">attribute_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">attribute_value</span>
</span><span id="ProjectParser.parse_sequence-390"><a href="#ProjectParser.parse_sequence-390"><span class="linenos">390</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_project</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">SeqRecord</span><span class="o">.</span><span class="n">SeqRecord</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">sequence_data</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span> <span class="n">seq</span><span class="o">=</span><span class="n">sequence_data</span><span class="p">[</span><span class="s2">&quot;seq&quot;</span><span class="p">]))</span>
</span></pre></div>


    

                            </div>
                            <div id="ProjectParser.parse_proteins" class="classattr">
                                        <input id="ProjectParser.parse_proteins-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parse_proteins</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ProjectParser.parse_proteins-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProjectParser.parse_proteins"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProjectParser.parse_proteins-392"><a href="#ProjectParser.parse_proteins-392"><span class="linenos">392</span></a>    <span class="k">def</span> <span class="nf">parse_proteins</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ProjectParser.parse_proteins-393"><a href="#ProjectParser.parse_proteins-393"><span class="linenos">393</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="ProjectParser.parse_proteins-394"><a href="#ProjectParser.parse_proteins-394"><span class="linenos">394</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="ProjectParser.parse_proteins-395"><a href="#ProjectParser.parse_proteins-395"><span class="linenos">395</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;proteins&quot;</span><span class="p">:</span>
</span><span id="ProjectParser.parse_proteins-396"><a href="#ProjectParser.parse_proteins-396"><span class="linenos">396</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">parse_protein</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div id="ProjectParser.parse_protein" class="classattr">
                                        <input id="ProjectParser.parse_protein-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parse_protein</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ProjectParser.parse_protein-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProjectParser.parse_protein"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProjectParser.parse_protein-398"><a href="#ProjectParser.parse_protein-398"><span class="linenos">398</span></a>    <span class="k">def</span> <span class="nf">parse_protein</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ProjectParser.parse_protein-399"><a href="#ProjectParser.parse_protein-399"><span class="linenos">399</span></a>        <span class="n">protein_data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="ProjectParser.parse_protein-400"><a href="#ProjectParser.parse_protein-400"><span class="linenos">400</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="ProjectParser.parse_protein-401"><a href="#ProjectParser.parse_protein-401"><span class="linenos">401</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="ProjectParser.parse_protein-402"><a href="#ProjectParser.parse_protein-402"><span class="linenos">402</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;protein&quot;</span><span class="p">:</span>
</span><span id="ProjectParser.parse_protein-403"><a href="#ProjectParser.parse_protein-403"><span class="linenos">403</span></a>                <span class="c1"># Process attributes</span>
</span><span id="ProjectParser.parse_protein-404"><a href="#ProjectParser.parse_protein-404"><span class="linenos">404</span></a>                <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">():</span>
</span><span id="ProjectParser.parse_protein-405"><a href="#ProjectParser.parse_protein-405"><span class="linenos">405</span></a>                    <span class="n">attribute_name</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
</span><span id="ProjectParser.parse_protein-406"><a href="#ProjectParser.parse_protein-406"><span class="linenos">406</span></a>                    <span class="n">attribute_value</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
</span><span id="ProjectParser.parse_protein-407"><a href="#ProjectParser.parse_protein-407"><span class="linenos">407</span></a>                    <span class="n">protein_data</span><span class="p">[</span><span class="n">attribute_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">attribute_value</span>
</span><span id="ProjectParser.parse_protein-408"><a href="#ProjectParser.parse_protein-408"><span class="linenos">408</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="n">protein_data</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="ProjectParser.parse_protein_pairs" class="classattr">
                                        <input id="ProjectParser.parse_protein_pairs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parse_protein_pairs</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ProjectParser.parse_protein_pairs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProjectParser.parse_protein_pairs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProjectParser.parse_protein_pairs-410"><a href="#ProjectParser.parse_protein_pairs-410"><span class="linenos">410</span></a>    <span class="k">def</span> <span class="nf">parse_protein_pairs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ProjectParser.parse_protein_pairs-411"><a href="#ProjectParser.parse_protein_pairs-411"><span class="linenos">411</span></a>        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">atEnd</span><span class="p">():</span>
</span><span id="ProjectParser.parse_protein_pairs-412"><a href="#ProjectParser.parse_protein_pairs-412"><span class="linenos">412</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">readNext</span><span class="p">()</span>
</span><span id="ProjectParser.parse_protein_pairs-413"><a href="#ProjectParser.parse_protein_pairs-413"><span class="linenos">413</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">isStartElement</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;protein_pairs&quot;</span><span class="p">:</span>
</span><span id="ProjectParser.parse_protein_pairs-414"><a href="#ProjectParser.parse_protein_pairs-414"><span class="linenos">414</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">xml_reader</span><span class="o">.</span><span class="n">attributes</span><span class="p">()</span>
</span><span id="ProjectParser.parse_protein_pairs-415"><a href="#ProjectParser.parse_protein_pairs-415"><span class="linenos">415</span></a>            <span class="c1"># Process individual protein pairs</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="XmlDeserializer">
                            <input id="XmlDeserializer-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">XmlDeserializer</span>:

                <label class="view-source-button" for="XmlDeserializer-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#XmlDeserializer"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="XmlDeserializer-418"><a href="#XmlDeserializer-418"><span class="linenos">418</span></a><span class="k">class</span> <span class="nc">XmlDeserializer</span><span class="p">:</span>
</span><span id="XmlDeserializer-419"><a href="#XmlDeserializer-419"><span class="linenos">419</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Class used to deserialize XML documents into the respective objects.&quot;&quot;&quot;</span>
</span><span id="XmlDeserializer-420"><a href="#XmlDeserializer-420"><span class="linenos">420</span></a>
</span><span id="XmlDeserializer-421"><a href="#XmlDeserializer-421"><span class="linenos">421</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="XmlDeserializer-422"><a href="#XmlDeserializer-422"><span class="linenos">422</span></a><span class="sd">    the root element of the xml file</span>
</span><span id="XmlDeserializer-423"><a href="#XmlDeserializer-423"><span class="linenos">423</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="XmlDeserializer-424"><a href="#XmlDeserializer-424"><span class="linenos">424</span></a>    <span class="n">xml_root</span><span class="p">:</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">Element</span>
</span><span id="XmlDeserializer-425"><a href="#XmlDeserializer-425"><span class="linenos">425</span></a>
</span><span id="XmlDeserializer-426"><a href="#XmlDeserializer-426"><span class="linenos">426</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="XmlDeserializer-427"><a href="#XmlDeserializer-427"><span class="linenos">427</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>
</span><span id="XmlDeserializer-428"><a href="#XmlDeserializer-428"><span class="linenos">428</span></a>
</span><span id="XmlDeserializer-429"><a href="#XmlDeserializer-429"><span class="linenos">429</span></a><span class="sd">        Args:</span>
</span><span id="XmlDeserializer-430"><a href="#XmlDeserializer-430"><span class="linenos">430</span></a><span class="sd">            filepath: the filepath to the xml file.</span>
</span><span id="XmlDeserializer-431"><a href="#XmlDeserializer-431"><span class="linenos">431</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="XmlDeserializer-432"><a href="#XmlDeserializer-432"><span class="linenos">432</span></a>        <span class="c1"># Read the XML file</span>
</span><span id="XmlDeserializer-433"><a href="#XmlDeserializer-433"><span class="linenos">433</span></a>        <span class="n">xml_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">filepath</span><span class="p">),</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
</span><span id="XmlDeserializer-434"><a href="#XmlDeserializer-434"><span class="linenos">434</span></a>        <span class="n">xml_contents</span> <span class="o">=</span> <span class="n">xml_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span id="XmlDeserializer-435"><a href="#XmlDeserializer-435"><span class="linenos">435</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">xml_contents</span><span class="p">)</span>
</span><span id="XmlDeserializer-436"><a href="#XmlDeserializer-436"><span class="linenos">436</span></a>
</span><span id="XmlDeserializer-437"><a href="#XmlDeserializer-437"><span class="linenos">437</span></a>    <span class="k">def</span> <span class="nf">create_all_proteins_from_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;protein.Protein&quot;</span><span class="p">]:</span>
</span><span id="XmlDeserializer-438"><a href="#XmlDeserializer-438"><span class="linenos">438</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a list of proteins from the XML.&quot;&quot;&quot;</span>
</span><span id="XmlDeserializer-439"><a href="#XmlDeserializer-439"><span class="linenos">439</span></a>        <span class="n">proteins</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;protein.Protein&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="XmlDeserializer-440"><a href="#XmlDeserializer-440"><span class="linenos">440</span></a>        <span class="k">for</span> <span class="n">tmp_protein</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span><span class="o">.</span><span class="n">iter</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">PROTEIN</span><span class="p">):</span>
</span><span id="XmlDeserializer-441"><a href="#XmlDeserializer-441"><span class="linenos">441</span></a>            <span class="n">basic_information</span> <span class="o">=</span> <span class="n">tmp_protein</span><span class="o">.</span><span class="n">attrib</span>
</span><span id="XmlDeserializer-442"><a href="#XmlDeserializer-442"><span class="linenos">442</span></a>            <span class="n">pdb_lines</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="XmlDeserializer-443"><a href="#XmlDeserializer-443"><span class="linenos">443</span></a>            <span class="n">session_data_base64</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="XmlDeserializer-444"><a href="#XmlDeserializer-444"><span class="linenos">444</span></a>            <span class="k">for</span> <span class="n">tmp_data</span> <span class="ow">in</span> <span class="n">tmp_protein</span><span class="p">:</span>
</span><span id="XmlDeserializer-445"><a href="#XmlDeserializer-445"><span class="linenos">445</span></a>                <span class="k">if</span> <span class="n">tmp_data</span><span class="o">.</span><span class="n">tag</span> <span class="o">==</span> <span class="s2">&quot;pdb_data&quot;</span><span class="p">:</span>
</span><span id="XmlDeserializer-446"><a href="#XmlDeserializer-446"><span class="linenos">446</span></a>                    <span class="k">for</span> <span class="n">tmp_atom</span> <span class="ow">in</span> <span class="n">tmp_data</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;atom&quot;</span><span class="p">):</span>
</span><span id="XmlDeserializer-447"><a href="#XmlDeserializer-447"><span class="linenos">447</span></a>                        <span class="n">pdb_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp_atom</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</span><span id="XmlDeserializer-448"><a href="#XmlDeserializer-448"><span class="linenos">448</span></a>                <span class="k">elif</span> <span class="n">tmp_data</span><span class="o">.</span><span class="n">tag</span> <span class="o">==</span> <span class="s2">&quot;session_data&quot;</span><span class="p">:</span>
</span><span id="XmlDeserializer-449"><a href="#XmlDeserializer-449"><span class="linenos">449</span></a>                    <span class="n">session_data_base64</span> <span class="o">=</span> <span class="n">tmp_data</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">PROTEIN_SESSION</span><span class="p">]</span>
</span><span id="XmlDeserializer-450"><a href="#XmlDeserializer-450"><span class="linenos">450</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="XmlDeserializer-451"><a href="#XmlDeserializer-451"><span class="linenos">451</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="XmlDeserializer-452"><a href="#XmlDeserializer-452"><span class="linenos">452</span></a>            <span class="n">tmp_protein_obj</span> <span class="o">=</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span><span class="p">(</span>
</span><span id="XmlDeserializer-453"><a href="#XmlDeserializer-453"><span class="linenos">453</span></a>                <span class="n">molecule_object</span><span class="o">=</span><span class="n">basic_information</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">PROTEIN_MOLECULE_OBJECT</span><span class="p">],</span>
</span><span id="XmlDeserializer-454"><a href="#XmlDeserializer-454"><span class="linenos">454</span></a>                <span class="n">pdb_xml_string</span><span class="o">=</span><span class="n">tmp_protein</span><span class="p">,</span>
</span><span id="XmlDeserializer-455"><a href="#XmlDeserializer-455"><span class="linenos">455</span></a>            <span class="p">)</span>
</span><span id="XmlDeserializer-456"><a href="#XmlDeserializer-456"><span class="linenos">456</span></a>            <span class="n">tmp_protein_obj</span><span class="o">.</span><span class="n">set_all_attributes</span><span class="p">(</span><span class="n">basic_information</span><span class="p">,</span> <span class="n">pdb_lines</span><span class="p">,</span> <span class="n">session_data_base64</span><span class="p">)</span>
</span><span id="XmlDeserializer-457"><a href="#XmlDeserializer-457"><span class="linenos">457</span></a>
</span><span id="XmlDeserializer-458"><a href="#XmlDeserializer-458"><span class="linenos">458</span></a>            <span class="n">proteins</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp_protein_obj</span><span class="p">)</span>
</span><span id="XmlDeserializer-459"><a href="#XmlDeserializer-459"><span class="linenos">459</span></a>        <span class="k">return</span> <span class="n">proteins</span>
</span><span id="XmlDeserializer-460"><a href="#XmlDeserializer-460"><span class="linenos">460</span></a>
</span><span id="XmlDeserializer-461"><a href="#XmlDeserializer-461"><span class="linenos">461</span></a>    <span class="k">def</span> <span class="nf">create_all_protein_pairs</span><span class="p">(</span>
</span><span id="XmlDeserializer-462"><a href="#XmlDeserializer-462"><span class="linenos">462</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="XmlDeserializer-463"><a href="#XmlDeserializer-463"><span class="linenos">463</span></a>        <span class="n">a_project</span><span class="p">:</span> <span class="s2">&quot;project.Project&quot;</span><span class="p">,</span>
</span><span id="XmlDeserializer-464"><a href="#XmlDeserializer-464"><span class="linenos">464</span></a>        <span class="n">app_settings</span><span class="p">:</span> <span class="s2">&quot;settings.Settings&quot;</span><span class="p">,</span>
</span><span id="XmlDeserializer-465"><a href="#XmlDeserializer-465"><span class="linenos">465</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;protein_pair.ProteinPair&quot;</span><span class="p">]:</span>
</span><span id="XmlDeserializer-466"><a href="#XmlDeserializer-466"><span class="linenos">466</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a list of protein pairs from the XML.</span>
</span><span id="XmlDeserializer-467"><a href="#XmlDeserializer-467"><span class="linenos">467</span></a>
</span><span id="XmlDeserializer-468"><a href="#XmlDeserializer-468"><span class="linenos">468</span></a><span class="sd">        Args:</span>
</span><span id="XmlDeserializer-469"><a href="#XmlDeserializer-469"><span class="linenos">469</span></a><span class="sd">            a_project: a project of which the protein pairs should be used.</span>
</span><span id="XmlDeserializer-470"><a href="#XmlDeserializer-470"><span class="linenos">470</span></a><span class="sd">            app_settings: the settings of the app.</span>
</span><span id="XmlDeserializer-471"><a href="#XmlDeserializer-471"><span class="linenos">471</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="XmlDeserializer-472"><a href="#XmlDeserializer-472"><span class="linenos">472</span></a>        <span class="n">protein_pairs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="XmlDeserializer-473"><a href="#XmlDeserializer-473"><span class="linenos">473</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="XmlDeserializer-474"><a href="#XmlDeserializer-474"><span class="linenos">474</span></a>            <span class="k">return</span>  <span class="c1"># noqa: RET502 #TODO: fix this</span>
</span><span id="XmlDeserializer-475"><a href="#XmlDeserializer-475"><span class="linenos">475</span></a>        <span class="k">for</span> <span class="n">tmp_protein_pair</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
</span><span id="XmlDeserializer-476"><a href="#XmlDeserializer-476"><span class="linenos">476</span></a>            <span class="n">basic_information</span> <span class="o">=</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">attrib</span>
</span><span id="XmlDeserializer-477"><a href="#XmlDeserializer-477"><span class="linenos">477</span></a>            <span class="n">prot_1_molecule_object</span> <span class="o">=</span> <span class="n">basic_information</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR_PROT_1_MOLECULE_OBJECT</span><span class="p">]</span>
</span><span id="XmlDeserializer-478"><a href="#XmlDeserializer-478"><span class="linenos">478</span></a>            <span class="k">if</span> <span class="n">prot_1_molecule_object</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;_1&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="XmlDeserializer-479"><a href="#XmlDeserializer-479"><span class="linenos">479</span></a>                <span class="n">org_prot_1_molecule_object</span> <span class="o">=</span> <span class="n">prot_1_molecule_object</span><span class="p">[:</span> <span class="n">prot_1_molecule_object</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;_1&quot;</span><span class="p">)]</span>
</span><span id="XmlDeserializer-480"><a href="#XmlDeserializer-480"><span class="linenos">480</span></a>                <span class="n">protein_2</span><span class="p">:</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span> <span class="o">=</span> <span class="n">a_project</span><span class="o">.</span><span class="n">search_protein</span><span class="p">(</span><span class="n">org_prot_1_molecule_object</span><span class="p">)</span><span class="o">.</span><span class="n">duplicate_protein</span><span class="p">()</span>
</span><span id="XmlDeserializer-481"><a href="#XmlDeserializer-481"><span class="linenos">481</span></a>                <span class="n">protein_1</span><span class="p">:</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span> <span class="o">=</span> <span class="n">protein_2</span><span class="o">.</span><span class="n">duplicate_protein</span><span class="p">()</span>
</span><span id="XmlDeserializer-482"><a href="#XmlDeserializer-482"><span class="linenos">482</span></a>                <span class="n">protein_1</span><span class="o">.</span><span class="n">set_molecule_object</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">protein_1</span><span class="o">.</span><span class="n">get_molecule_object</span><span class="p">()</span><span class="si">}</span><span class="s2">_1&quot;</span><span class="p">)</span>
</span><span id="XmlDeserializer-483"><a href="#XmlDeserializer-483"><span class="linenos">483</span></a>                <span class="n">protein_2</span><span class="o">.</span><span class="n">set_molecule_object</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">protein_2</span><span class="o">.</span><span class="n">get_molecule_object</span><span class="p">()</span><span class="si">}</span><span class="s2">_2&quot;</span><span class="p">)</span>
</span><span id="XmlDeserializer-484"><a href="#XmlDeserializer-484"><span class="linenos">484</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="XmlDeserializer-485"><a href="#XmlDeserializer-485"><span class="linenos">485</span></a>                <span class="n">protein_1</span> <span class="o">=</span> <span class="n">a_project</span><span class="o">.</span><span class="n">search_protein</span><span class="p">(</span>
</span><span id="XmlDeserializer-486"><a href="#XmlDeserializer-486"><span class="linenos">486</span></a>                    <span class="n">basic_information</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR_PROT_1_MOLECULE_OBJECT</span><span class="p">],</span>
</span><span id="XmlDeserializer-487"><a href="#XmlDeserializer-487"><span class="linenos">487</span></a>                <span class="p">)</span>
</span><span id="XmlDeserializer-488"><a href="#XmlDeserializer-488"><span class="linenos">488</span></a>                <span class="n">protein_2</span> <span class="o">=</span> <span class="n">a_project</span><span class="o">.</span><span class="n">search_protein</span><span class="p">(</span>
</span><span id="XmlDeserializer-489"><a href="#XmlDeserializer-489"><span class="linenos">489</span></a>                    <span class="n">basic_information</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR_PROT_2_MOLECULE_OBJECT</span><span class="p">],</span>
</span><span id="XmlDeserializer-490"><a href="#XmlDeserializer-490"><span class="linenos">490</span></a>                <span class="p">)</span>
</span><span id="XmlDeserializer-491"><a href="#XmlDeserializer-491"><span class="linenos">491</span></a>
</span><span id="XmlDeserializer-492"><a href="#XmlDeserializer-492"><span class="linenos">492</span></a>            <span class="n">tmp_protein_pair_obj</span> <span class="o">=</span> <span class="n">protein_pair</span><span class="o">.</span><span class="n">ProteinPair</span><span class="p">(</span><span class="n">protein_1</span><span class="o">=</span><span class="n">protein_1</span><span class="p">,</span> <span class="n">protein_2</span><span class="o">=</span><span class="n">protein_2</span><span class="p">)</span>
</span><span id="XmlDeserializer-493"><a href="#XmlDeserializer-493"><span class="linenos">493</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
</span><span id="XmlDeserializer-494"><a href="#XmlDeserializer-494"><span class="linenos">494</span></a>            <span class="n">pymol_session</span> <span class="o">=</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR_SESSION</span><span class="p">)</span><span class="o">.</span><span class="n">attrib</span>
</span><span id="XmlDeserializer-495"><a href="#XmlDeserializer-495"><span class="linenos">495</span></a>            <span class="n">tag_distance_analysis</span> <span class="o">=</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS</span><span class="p">)</span>
</span><span id="XmlDeserializer-496"><a href="#XmlDeserializer-496"><span class="linenos">496</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">pymol_session</span> <span class="o">=</span> <span class="n">pymol_session</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_SESSION</span><span class="p">]</span>
</span><span id="XmlDeserializer-497"><a href="#XmlDeserializer-497"><span class="linenos">497</span></a>            <span class="n">distance_analysis_settings</span> <span class="o">=</span> <span class="n">tag_distance_analysis</span><span class="o">.</span><span class="n">attrib</span>
</span><span id="XmlDeserializer-498"><a href="#XmlDeserializer-498"><span class="linenos">498</span></a>            <span class="n">tag_results</span> <span class="o">=</span> <span class="n">tag_distance_analysis</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_RESULTS</span><span class="p">)</span>
</span><span id="XmlDeserializer-499"><a href="#XmlDeserializer-499"><span class="linenos">499</span></a>            <span class="n">rmsd_aligned_aa</span> <span class="o">=</span> <span class="n">tag_results</span><span class="o">.</span><span class="n">attrib</span>
</span><span id="XmlDeserializer-500"><a href="#XmlDeserializer-500"><span class="linenos">500</span></a>            <span class="k">for</span> <span class="n">tmp_tag_results_distance</span> <span class="ow">in</span> <span class="n">tag_results</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span>
</span><span id="XmlDeserializer-501"><a href="#XmlDeserializer-501"><span class="linenos">501</span></a>                <span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_DISTANCE_RESULTS</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="XmlDeserializer-502"><a href="#XmlDeserializer-502"><span class="linenos">502</span></a>            <span class="p">):</span>
</span><span id="XmlDeserializer-503"><a href="#XmlDeserializer-503"><span class="linenos">503</span></a>                <span class="n">indexes</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_INDEX_LIST</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="XmlDeserializer-504"><a href="#XmlDeserializer-504"><span class="linenos">504</span></a>                <span class="n">prot_1_chains</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_PROT_1_CHAIN_LIST</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="XmlDeserializer-505"><a href="#XmlDeserializer-505"><span class="linenos">505</span></a>                <span class="n">prot_1_positions</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
</span><span id="XmlDeserializer-506"><a href="#XmlDeserializer-506"><span class="linenos">506</span></a>                    <span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_PROT_1_POSITION_LIST</span><span class="p">,</span>
</span><span id="XmlDeserializer-507"><a href="#XmlDeserializer-507"><span class="linenos">507</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="XmlDeserializer-508"><a href="#XmlDeserializer-508"><span class="linenos">508</span></a>                <span class="n">prot_1_residues</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
</span><span id="XmlDeserializer-509"><a href="#XmlDeserializer-509"><span class="linenos">509</span></a>                    <span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_PROT_1_RESIDUE_LIST</span><span class="p">,</span>
</span><span id="XmlDeserializer-510"><a href="#XmlDeserializer-510"><span class="linenos">510</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="XmlDeserializer-511"><a href="#XmlDeserializer-511"><span class="linenos">511</span></a>
</span><span id="XmlDeserializer-512"><a href="#XmlDeserializer-512"><span class="linenos">512</span></a>                <span class="n">prot_2_chains</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_PROT_2_CHAIN_LIST</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="XmlDeserializer-513"><a href="#XmlDeserializer-513"><span class="linenos">513</span></a>                <span class="n">prot_2_positions</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
</span><span id="XmlDeserializer-514"><a href="#XmlDeserializer-514"><span class="linenos">514</span></a>                    <span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_PROT_2_POSITION_LIST</span><span class="p">,</span>
</span><span id="XmlDeserializer-515"><a href="#XmlDeserializer-515"><span class="linenos">515</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="XmlDeserializer-516"><a href="#XmlDeserializer-516"><span class="linenos">516</span></a>                <span class="n">prot_2_residues</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
</span><span id="XmlDeserializer-517"><a href="#XmlDeserializer-517"><span class="linenos">517</span></a>                    <span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_PROT_2_RESIDUE_LIST</span><span class="p">,</span>
</span><span id="XmlDeserializer-518"><a href="#XmlDeserializer-518"><span class="linenos">518</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="XmlDeserializer-519"><a href="#XmlDeserializer-519"><span class="linenos">519</span></a>
</span><span id="XmlDeserializer-520"><a href="#XmlDeserializer-520"><span class="linenos">520</span></a>                <span class="n">distances</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_DISTANCES_LIST</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="XmlDeserializer-521"><a href="#XmlDeserializer-521"><span class="linenos">521</span></a>                <span class="n">index_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">indexes</span><span class="p">))</span>
</span><span id="XmlDeserializer-522"><a href="#XmlDeserializer-522"><span class="linenos">522</span></a>                <span class="n">ref_chain_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">prot_1_chains</span><span class="p">))</span>
</span><span id="XmlDeserializer-523"><a href="#XmlDeserializer-523"><span class="linenos">523</span></a>                <span class="n">ref_pos_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">prot_1_positions</span><span class="p">))</span>
</span><span id="XmlDeserializer-524"><a href="#XmlDeserializer-524"><span class="linenos">524</span></a>                <span class="n">ref_resi_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">prot_1_residues</span><span class="p">))</span>
</span><span id="XmlDeserializer-525"><a href="#XmlDeserializer-525"><span class="linenos">525</span></a>                <span class="n">model_chain_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">prot_2_chains</span><span class="p">))</span>
</span><span id="XmlDeserializer-526"><a href="#XmlDeserializer-526"><span class="linenos">526</span></a>                <span class="n">model_pos_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">prot_2_positions</span><span class="p">))</span>
</span><span id="XmlDeserializer-527"><a href="#XmlDeserializer-527"><span class="linenos">527</span></a>                <span class="n">model_resi_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">prot_2_residues</span><span class="p">))</span>
</span><span id="XmlDeserializer-528"><a href="#XmlDeserializer-528"><span class="linenos">528</span></a>                <span class="n">distance_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">distances</span><span class="p">))</span>
</span><span id="XmlDeserializer-529"><a href="#XmlDeserializer-529"><span class="linenos">529</span></a>
</span><span id="XmlDeserializer-530"><a href="#XmlDeserializer-530"><span class="linenos">530</span></a>                <span class="n">result_hashtable</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="XmlDeserializer-531"><a href="#XmlDeserializer-531"><span class="linenos">531</span></a>                    <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="n">index_array</span><span class="p">,</span>
</span><span id="XmlDeserializer-532"><a href="#XmlDeserializer-532"><span class="linenos">532</span></a>                    <span class="s2">&quot;ref_chain&quot;</span><span class="p">:</span> <span class="n">ref_chain_array</span><span class="p">,</span>
</span><span id="XmlDeserializer-533"><a href="#XmlDeserializer-533"><span class="linenos">533</span></a>                    <span class="s2">&quot;ref_pos&quot;</span><span class="p">:</span> <span class="n">ref_pos_array</span><span class="p">,</span>
</span><span id="XmlDeserializer-534"><a href="#XmlDeserializer-534"><span class="linenos">534</span></a>                    <span class="s2">&quot;ref_resi&quot;</span><span class="p">:</span> <span class="n">ref_resi_array</span><span class="p">,</span>
</span><span id="XmlDeserializer-535"><a href="#XmlDeserializer-535"><span class="linenos">535</span></a>                    <span class="s2">&quot;model_chain&quot;</span><span class="p">:</span> <span class="n">model_chain_array</span><span class="p">,</span>
</span><span id="XmlDeserializer-536"><a href="#XmlDeserializer-536"><span class="linenos">536</span></a>                    <span class="s2">&quot;model_pos&quot;</span><span class="p">:</span> <span class="n">model_pos_array</span><span class="p">,</span>
</span><span id="XmlDeserializer-537"><a href="#XmlDeserializer-537"><span class="linenos">537</span></a>                    <span class="s2">&quot;model_resi&quot;</span><span class="p">:</span> <span class="n">model_resi_array</span><span class="p">,</span>
</span><span id="XmlDeserializer-538"><a href="#XmlDeserializer-538"><span class="linenos">538</span></a>                    <span class="s2">&quot;distance&quot;</span><span class="p">:</span> <span class="n">distance_array</span><span class="p">,</span>
</span><span id="XmlDeserializer-539"><a href="#XmlDeserializer-539"><span class="linenos">539</span></a>                <span class="p">}</span>
</span><span id="XmlDeserializer-540"><a href="#XmlDeserializer-540"><span class="linenos">540</span></a>
</span><span id="XmlDeserializer-541"><a href="#XmlDeserializer-541"><span class="linenos">541</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span> <span class="o">=</span> <span class="n">structure_analysis</span><span class="o">.</span><span class="n">DistanceAnalysis</span><span class="p">(</span>
</span><span id="XmlDeserializer-542"><a href="#XmlDeserializer-542"><span class="linenos">542</span></a>                <span class="n">protein_pair_name</span><span class="o">=</span><span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
</span><span id="XmlDeserializer-543"><a href="#XmlDeserializer-543"><span class="linenos">543</span></a>                <span class="n">the_app_settings</span><span class="o">=</span><span class="n">app_settings</span><span class="p">,</span>
</span><span id="XmlDeserializer-544"><a href="#XmlDeserializer-544"><span class="linenos">544</span></a>            <span class="p">)</span>
</span><span id="XmlDeserializer-545"><a href="#XmlDeserializer-545"><span class="linenos">545</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">analysis_results</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">DistanceAnalysisResults</span><span class="p">(</span>
</span><span id="XmlDeserializer-546"><a href="#XmlDeserializer-546"><span class="linenos">546</span></a>                <span class="n">distance_data</span><span class="o">=</span><span class="n">result_hashtable</span><span class="p">,</span>
</span><span id="XmlDeserializer-547"><a href="#XmlDeserializer-547"><span class="linenos">547</span></a>                <span class="n">pymol_session</span><span class="o">=</span><span class="n">pymol_session</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_SESSION</span><span class="p">],</span>
</span><span id="XmlDeserializer-548"><a href="#XmlDeserializer-548"><span class="linenos">548</span></a>                <span class="n">rmsd</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">rmsd_aligned_aa</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_RMSD</span><span class="p">]),</span>
</span><span id="XmlDeserializer-549"><a href="#XmlDeserializer-549"><span class="linenos">549</span></a>                <span class="n">aligned_aa</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">rmsd_aligned_aa</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_ALIGNED_AA</span><span class="p">]),</span>
</span><span id="XmlDeserializer-550"><a href="#XmlDeserializer-550"><span class="linenos">550</span></a>            <span class="p">)</span>
</span><span id="XmlDeserializer-551"><a href="#XmlDeserializer-551"><span class="linenos">551</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">cutoff</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span>
</span><span id="XmlDeserializer-552"><a href="#XmlDeserializer-552"><span class="linenos">552</span></a>                <span class="n">distance_analysis_settings</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_CUTOFF</span><span class="p">],</span>
</span><span id="XmlDeserializer-553"><a href="#XmlDeserializer-553"><span class="linenos">553</span></a>            <span class="p">)</span>
</span><span id="XmlDeserializer-554"><a href="#XmlDeserializer-554"><span class="linenos">554</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">cycles</span> <span class="o">=</span> <span class="n">distance_analysis_settings</span><span class="p">[</span>
</span><span id="XmlDeserializer-555"><a href="#XmlDeserializer-555"><span class="linenos">555</span></a>                <span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_CYCLES</span>
</span><span id="XmlDeserializer-556"><a href="#XmlDeserializer-556"><span class="linenos">556</span></a>            <span class="p">]</span>
</span><span id="XmlDeserializer-557"><a href="#XmlDeserializer-557"><span class="linenos">557</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">distance_analysis_settings</span><span class="p">[</span>
</span><span id="XmlDeserializer-558"><a href="#XmlDeserializer-558"><span class="linenos">558</span></a>                <span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_NAME</span>
</span><span id="XmlDeserializer-559"><a href="#XmlDeserializer-559"><span class="linenos">559</span></a>            <span class="p">]</span>
</span><span id="XmlDeserializer-560"><a href="#XmlDeserializer-560"><span class="linenos">560</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">analysis_results</span><span class="o">.</span><span class="n">rmsd</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span>
</span><span id="XmlDeserializer-561"><a href="#XmlDeserializer-561"><span class="linenos">561</span></a>                <span class="n">rmsd_aligned_aa</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_RMSD</span><span class="p">],</span>
</span><span id="XmlDeserializer-562"><a href="#XmlDeserializer-562"><span class="linenos">562</span></a>            <span class="p">)</span>
</span><span id="XmlDeserializer-563"><a href="#XmlDeserializer-563"><span class="linenos">563</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">analysis_results</span><span class="o">.</span><span class="n">aligned_aa</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span>
</span><span id="XmlDeserializer-564"><a href="#XmlDeserializer-564"><span class="linenos">564</span></a>                <span class="n">rmsd_aligned_aa</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_ALIGNED_AA</span><span class="p">],</span>
</span><span id="XmlDeserializer-565"><a href="#XmlDeserializer-565"><span class="linenos">565</span></a>            <span class="p">)</span>
</span><span id="XmlDeserializer-566"><a href="#XmlDeserializer-566"><span class="linenos">566</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_analysis_images</span><span class="p">(</span>
</span><span id="XmlDeserializer-567"><a href="#XmlDeserializer-567"><span class="linenos">567</span></a>                <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
</span><span id="XmlDeserializer-568"><a href="#XmlDeserializer-568"><span class="linenos">568</span></a>                <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">analysis_results</span><span class="p">,</span>
</span><span id="XmlDeserializer-569"><a href="#XmlDeserializer-569"><span class="linenos">569</span></a>            <span class="p">)</span>
</span><span id="XmlDeserializer-570"><a href="#XmlDeserializer-570"><span class="linenos">570</span></a>            <span class="n">protein_pairs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp_protein_pair_obj</span><span class="p">)</span>
</span><span id="XmlDeserializer-571"><a href="#XmlDeserializer-571"><span class="linenos">571</span></a>
</span><span id="XmlDeserializer-572"><a href="#XmlDeserializer-572"><span class="linenos">572</span></a>        <span class="k">return</span> <span class="n">protein_pairs</span>
</span><span id="XmlDeserializer-573"><a href="#XmlDeserializer-573"><span class="linenos">573</span></a>
</span><span id="XmlDeserializer-574"><a href="#XmlDeserializer-574"><span class="linenos">574</span></a>    <span class="k">def</span> <span class="nf">create_all_sequences_from_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="XmlDeserializer-575"><a href="#XmlDeserializer-575"><span class="linenos">575</span></a>        <span class="n">seq_records</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="XmlDeserializer-576"><a href="#XmlDeserializer-576"><span class="linenos">576</span></a>        <span class="k">for</span> <span class="n">tmp_seq</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span><span class="o">.</span><span class="n">iter</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">SEQUENCE</span><span class="p">):</span>
</span><span id="XmlDeserializer-577"><a href="#XmlDeserializer-577"><span class="linenos">577</span></a>            <span class="n">basic_information</span> <span class="o">=</span> <span class="n">tmp_seq</span><span class="o">.</span><span class="n">attrib</span>
</span><span id="XmlDeserializer-578"><a href="#XmlDeserializer-578"><span class="linenos">578</span></a>            <span class="n">tmp_seq_record_obj</span> <span class="o">=</span> <span class="n">SeqRecord</span><span class="o">.</span><span class="n">SeqRecord</span><span class="p">(</span><span class="n">basic_information</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">SEQUENCE_SEQ</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="n">basic_information</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">SEQUENCE_NAME</span><span class="p">])</span>
</span><span id="XmlDeserializer-579"><a href="#XmlDeserializer-579"><span class="linenos">579</span></a>            <span class="n">seq_records</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp_seq_record_obj</span><span class="p">)</span>
</span><span id="XmlDeserializer-580"><a href="#XmlDeserializer-580"><span class="linenos">580</span></a>        <span class="k">return</span> <span class="n">seq_records</span>
</span><span id="XmlDeserializer-581"><a href="#XmlDeserializer-581"><span class="linenos">581</span></a>
</span><span id="XmlDeserializer-582"><a href="#XmlDeserializer-582"><span class="linenos">582</span></a>    <span class="nd">@staticmethod</span>
</span><span id="XmlDeserializer-583"><a href="#XmlDeserializer-583"><span class="linenos">583</span></a>    <span class="k">def</span> <span class="nf">deserialize_project</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">app_settings</span><span class="p">:</span> <span class="s2">&quot;settings.Settings&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;project.Project&quot;</span><span class="p">:</span>
</span><span id="XmlDeserializer-584"><a href="#XmlDeserializer-584"><span class="linenos">584</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserialize the project from the XML.&quot;&quot;&quot;</span>
</span><span id="XmlDeserializer-585"><a href="#XmlDeserializer-585"><span class="linenos">585</span></a>        <span class="n">file</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QFile</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">file_path</span><span class="p">))</span>
</span><span id="XmlDeserializer-586"><a href="#XmlDeserializer-586"><span class="linenos">586</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="XmlDeserializer-587"><a href="#XmlDeserializer-587"><span class="linenos">587</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">file</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QFile</span><span class="o">.</span><span class="n">ReadOnly</span> <span class="o">|</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QFile</span><span class="o">.</span><span class="n">Text</span><span class="p">):</span>
</span><span id="XmlDeserializer-588"><a href="#XmlDeserializer-588"><span class="linenos">588</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: Cannot open file for reading&quot;</span><span class="p">)</span>
</span><span id="XmlDeserializer-589"><a href="#XmlDeserializer-589"><span class="linenos">589</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="XmlDeserializer-590"><a href="#XmlDeserializer-590"><span class="linenos">590</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Exception occurred: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="XmlDeserializer-591"><a href="#XmlDeserializer-591"><span class="linenos">591</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="XmlDeserializer-592"><a href="#XmlDeserializer-592"><span class="linenos">592</span></a>            <span class="n">tmp_project</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">Project</span><span class="p">()</span>
</span><span id="XmlDeserializer-593"><a href="#XmlDeserializer-593"><span class="linenos">593</span></a>            <span class="n">handler</span> <span class="o">=</span> <span class="n">ProjectParserHandler</span><span class="p">(</span><span class="n">tmp_project</span><span class="p">,</span> <span class="n">app_settings</span><span class="p">)</span>
</span><span id="XmlDeserializer-594"><a href="#XmlDeserializer-594"><span class="linenos">594</span></a>            <span class="n">parser</span> <span class="o">=</span> <span class="n">sax</span><span class="o">.</span><span class="n">make_parser</span><span class="p">()</span>
</span><span id="XmlDeserializer-595"><a href="#XmlDeserializer-595"><span class="linenos">595</span></a>            <span class="n">parser</span><span class="o">.</span><span class="n">setContentHandler</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>
</span><span id="XmlDeserializer-596"><a href="#XmlDeserializer-596"><span class="linenos">596</span></a>            <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</span><span id="XmlDeserializer-597"><a href="#XmlDeserializer-597"><span class="linenos">597</span></a>            <span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="XmlDeserializer-598"><a href="#XmlDeserializer-598"><span class="linenos">598</span></a>            <span class="k">return</span> <span class="n">handler</span><span class="o">.</span><span class="n">get_project</span><span class="p">()</span>
</span><span id="XmlDeserializer-599"><a href="#XmlDeserializer-599"><span class="linenos">599</span></a>
</span><span id="XmlDeserializer-600"><a href="#XmlDeserializer-600"><span class="linenos">600</span></a>        <span class="c1"># project_dict = {}</span>
</span><span id="XmlDeserializer-601"><a href="#XmlDeserializer-601"><span class="linenos">601</span></a>        <span class="c1"># for info in self.xml_root.iter(element_names.PROJECT_INFO):</span>
</span><span id="XmlDeserializer-602"><a href="#XmlDeserializer-602"><span class="linenos">602</span></a>        <span class="c1">#     project_dict = info.attrib</span>
</span><span id="XmlDeserializer-603"><a href="#XmlDeserializer-603"><span class="linenos">603</span></a>        <span class="c1"># tmp_project = project.Project(</span>
</span><span id="XmlDeserializer-604"><a href="#XmlDeserializer-604"><span class="linenos">604</span></a>        <span class="c1">#     project_dict[attribute_names.PROJECT_NAME],</span>
</span><span id="XmlDeserializer-605"><a href="#XmlDeserializer-605"><span class="linenos">605</span></a>        <span class="c1">#     pathlib.Path(project_dict[attribute_names.PROJECT_WORKSPACE_PATH]),</span>
</span><span id="XmlDeserializer-606"><a href="#XmlDeserializer-606"><span class="linenos">606</span></a>        <span class="c1"># )</span>
</span><span id="XmlDeserializer-607"><a href="#XmlDeserializer-607"><span class="linenos">607</span></a>        <span class="c1"># tmp_seq_record_objs = self.create_all_sequences_from_xml()</span>
</span><span id="XmlDeserializer-608"><a href="#XmlDeserializer-608"><span class="linenos">608</span></a>        <span class="c1"># if tmp_seq_record_objs is not None:</span>
</span><span id="XmlDeserializer-609"><a href="#XmlDeserializer-609"><span class="linenos">609</span></a>        <span class="c1">#     for tmp_seq_record_obj in tmp_seq_record_objs:</span>
</span><span id="XmlDeserializer-610"><a href="#XmlDeserializer-610"><span class="linenos">610</span></a>        <span class="c1">#         tmp_project.sequences.append(tmp_seq_record_obj)</span>
</span><span id="XmlDeserializer-611"><a href="#XmlDeserializer-611"><span class="linenos">611</span></a>        <span class="c1"># protein_objs = self.create_all_proteins_from_xml()</span>
</span><span id="XmlDeserializer-612"><a href="#XmlDeserializer-612"><span class="linenos">612</span></a>        <span class="c1"># for tmp_protein_obj in protein_objs:</span>
</span><span id="XmlDeserializer-613"><a href="#XmlDeserializer-613"><span class="linenos">613</span></a>        <span class="c1">#     tmp_project.add_existing_protein(tmp_protein_obj)</span>
</span><span id="XmlDeserializer-614"><a href="#XmlDeserializer-614"><span class="linenos">614</span></a>        <span class="c1"># protein_pair_objs = self.create_all_protein_pairs(tmp_project, app_settings)</span>
</span><span id="XmlDeserializer-615"><a href="#XmlDeserializer-615"><span class="linenos">615</span></a>        <span class="c1"># if protein_pair_objs is not None:</span>
</span><span id="XmlDeserializer-616"><a href="#XmlDeserializer-616"><span class="linenos">616</span></a>        <span class="c1">#     for tmp_protein_pair_obj in protein_pair_objs:</span>
</span><span id="XmlDeserializer-617"><a href="#XmlDeserializer-617"><span class="linenos">617</span></a>        <span class="c1">#         tmp_project.add_protein_pair(tmp_protein_pair_obj)</span>
</span><span id="XmlDeserializer-618"><a href="#XmlDeserializer-618"><span class="linenos">618</span></a>        <span class="c1">#</span>
</span><span id="XmlDeserializer-619"><a href="#XmlDeserializer-619"><span class="linenos">619</span></a>        <span class="c1"># return tmp_project</span>
</span><span id="XmlDeserializer-620"><a href="#XmlDeserializer-620"><span class="linenos">620</span></a>
</span><span id="XmlDeserializer-621"><a href="#XmlDeserializer-621"><span class="linenos">621</span></a>    <span class="k">def</span> <span class="nf">deserialize_analysis_images</span><span class="p">(</span>
</span><span id="XmlDeserializer-622"><a href="#XmlDeserializer-622"><span class="linenos">622</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="XmlDeserializer-623"><a href="#XmlDeserializer-623"><span class="linenos">623</span></a>        <span class="n">protein_pair_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="XmlDeserializer-624"><a href="#XmlDeserializer-624"><span class="linenos">624</span></a>        <span class="n">analysis_results</span><span class="p">:</span> <span class="s2">&quot;results.DistanceAnalysisResults&quot;</span><span class="p">,</span>
</span><span id="XmlDeserializer-625"><a href="#XmlDeserializer-625"><span class="linenos">625</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="XmlDeserializer-626"><a href="#XmlDeserializer-626"><span class="linenos">626</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserialize the analysis images.</span>
</span><span id="XmlDeserializer-627"><a href="#XmlDeserializer-627"><span class="linenos">627</span></a>
</span><span id="XmlDeserializer-628"><a href="#XmlDeserializer-628"><span class="linenos">628</span></a><span class="sd">        Args:</span>
</span><span id="XmlDeserializer-629"><a href="#XmlDeserializer-629"><span class="linenos">629</span></a><span class="sd">            protein_pair_name: the name of the protein pair to use.</span>
</span><span id="XmlDeserializer-630"><a href="#XmlDeserializer-630"><span class="linenos">630</span></a><span class="sd">            analysis_results: the results of the distance analysis.</span>
</span><span id="XmlDeserializer-631"><a href="#XmlDeserializer-631"><span class="linenos">631</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="XmlDeserializer-632"><a href="#XmlDeserializer-632"><span class="linenos">632</span></a>        <span class="k">for</span> <span class="n">tmp_protein_pair</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
</span><span id="XmlDeserializer-633"><a href="#XmlDeserializer-633"><span class="linenos">633</span></a>            <span class="k">if</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">protein_pair_name</span><span class="p">:</span>
</span><span id="XmlDeserializer-634"><a href="#XmlDeserializer-634"><span class="linenos">634</span></a>                <span class="n">structure_aln_images</span> <span class="o">=</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span>
</span><span id="XmlDeserializer-635"><a href="#XmlDeserializer-635"><span class="linenos">635</span></a>                    <span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_IMAGES</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_STRUCTURE_ALN_IMAGE</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="XmlDeserializer-636"><a href="#XmlDeserializer-636"><span class="linenos">636</span></a>                <span class="p">)</span>
</span><span id="XmlDeserializer-637"><a href="#XmlDeserializer-637"><span class="linenos">637</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="XmlDeserializer-638"><a href="#XmlDeserializer-638"><span class="linenos">638</span></a>                    <span class="n">analysis_results</span><span class="o">.</span><span class="n">structure_aln_image</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="XmlDeserializer-639"><a href="#XmlDeserializer-639"><span class="linenos">639</span></a>                        <span class="n">structure_aln_images</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_STRUCTURE_ALN_IMAGE_BASENAME</span><span class="p">],</span>
</span><span id="XmlDeserializer-640"><a href="#XmlDeserializer-640"><span class="linenos">640</span></a>                        <span class="n">structure_aln_images</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
</span><span id="XmlDeserializer-641"><a href="#XmlDeserializer-641"><span class="linenos">641</span></a>                    <span class="p">)</span>
</span><span id="XmlDeserializer-642"><a href="#XmlDeserializer-642"><span class="linenos">642</span></a>                <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
</span><span id="XmlDeserializer-643"><a href="#XmlDeserializer-643"><span class="linenos">643</span></a>                    <span class="n">analysis_results</span><span class="o">.</span><span class="n">structure_aln_image</span> <span class="o">=</span> <span class="p">()</span>
</span><span id="XmlDeserializer-644"><a href="#XmlDeserializer-644"><span class="linenos">644</span></a>                <span class="n">interesting_reg_images</span> <span class="o">=</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span>
</span><span id="XmlDeserializer-645"><a href="#XmlDeserializer-645"><span class="linenos">645</span></a>                    <span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_IMAGES</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_ALN_IMAGES_INTERESTING_REGIONS</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="XmlDeserializer-646"><a href="#XmlDeserializer-646"><span class="linenos">646</span></a>                <span class="p">)</span>
</span><span id="XmlDeserializer-647"><a href="#XmlDeserializer-647"><span class="linenos">647</span></a>                <span class="k">for</span> <span class="n">tmp_image</span> <span class="ow">in</span> <span class="n">interesting_reg_images</span><span class="p">:</span>
</span><span id="XmlDeserializer-648"><a href="#XmlDeserializer-648"><span class="linenos">648</span></a>                    <span class="n">analysis_results</span><span class="o">.</span><span class="n">interesting_regions_images</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="XmlDeserializer-649"><a href="#XmlDeserializer-649"><span class="linenos">649</span></a>                        <span class="p">(</span>
</span><span id="XmlDeserializer-650"><a href="#XmlDeserializer-650"><span class="linenos">650</span></a>                            <span class="n">tmp_image</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_ALN_IMAGES_INTERESTING_REGIONS_BASENAME</span><span class="p">],</span>
</span><span id="XmlDeserializer-651"><a href="#XmlDeserializer-651"><span class="linenos">651</span></a>                            <span class="n">tmp_image</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
</span><span id="XmlDeserializer-652"><a href="#XmlDeserializer-652"><span class="linenos">652</span></a>                        <span class="p">),</span>
</span><span id="XmlDeserializer-653"><a href="#XmlDeserializer-653"><span class="linenos">653</span></a>                    <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Class used to deserialize XML documents into the respective objects.</p>
</div>


                            <div id="XmlDeserializer.__init__" class="classattr">
                                        <input id="XmlDeserializer.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">XmlDeserializer</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">filepath</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span></span>)</span>

                <label class="view-source-button" for="XmlDeserializer.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#XmlDeserializer.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="XmlDeserializer.__init__-426"><a href="#XmlDeserializer.__init__-426"><span class="linenos">426</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="XmlDeserializer.__init__-427"><a href="#XmlDeserializer.__init__-427"><span class="linenos">427</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>
</span><span id="XmlDeserializer.__init__-428"><a href="#XmlDeserializer.__init__-428"><span class="linenos">428</span></a>
</span><span id="XmlDeserializer.__init__-429"><a href="#XmlDeserializer.__init__-429"><span class="linenos">429</span></a><span class="sd">        Args:</span>
</span><span id="XmlDeserializer.__init__-430"><a href="#XmlDeserializer.__init__-430"><span class="linenos">430</span></a><span class="sd">            filepath: the filepath to the xml file.</span>
</span><span id="XmlDeserializer.__init__-431"><a href="#XmlDeserializer.__init__-431"><span class="linenos">431</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="XmlDeserializer.__init__-432"><a href="#XmlDeserializer.__init__-432"><span class="linenos">432</span></a>        <span class="c1"># Read the XML file</span>
</span><span id="XmlDeserializer.__init__-433"><a href="#XmlDeserializer.__init__-433"><span class="linenos">433</span></a>        <span class="n">xml_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">filepath</span><span class="p">),</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
</span><span id="XmlDeserializer.__init__-434"><a href="#XmlDeserializer.__init__-434"><span class="linenos">434</span></a>        <span class="n">xml_contents</span> <span class="o">=</span> <span class="n">xml_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span id="XmlDeserializer.__init__-435"><a href="#XmlDeserializer.__init__-435"><span class="linenos">435</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">xml_contents</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Constructor.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>filepath:</strong>  the filepath to the xml file.</li>
</ul>
</div>


                            </div>
                            <div id="XmlDeserializer.xml_root" class="classattr">
                                <div class="attr variable">
            <span class="name">xml_root</span><span class="annotation">: xml.etree.ElementTree.Element</span>

        
    </div>
    <a class="headerlink" href="#XmlDeserializer.xml_root"></a>
    
    

                            </div>
                            <div id="XmlDeserializer.create_all_proteins_from_xml" class="classattr">
                                        <input id="XmlDeserializer.create_all_proteins_from_xml-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">create_all_proteins_from_xml</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="n">pyssa</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">data_structures</span><span class="o">.</span><span class="n">protein</span><span class="o">.</span><span class="n">Protein</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="XmlDeserializer.create_all_proteins_from_xml-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#XmlDeserializer.create_all_proteins_from_xml"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="XmlDeserializer.create_all_proteins_from_xml-437"><a href="#XmlDeserializer.create_all_proteins_from_xml-437"><span class="linenos">437</span></a>    <span class="k">def</span> <span class="nf">create_all_proteins_from_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;protein.Protein&quot;</span><span class="p">]:</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-438"><a href="#XmlDeserializer.create_all_proteins_from_xml-438"><span class="linenos">438</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a list of proteins from the XML.&quot;&quot;&quot;</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-439"><a href="#XmlDeserializer.create_all_proteins_from_xml-439"><span class="linenos">439</span></a>        <span class="n">proteins</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;protein.Protein&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-440"><a href="#XmlDeserializer.create_all_proteins_from_xml-440"><span class="linenos">440</span></a>        <span class="k">for</span> <span class="n">tmp_protein</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span><span class="o">.</span><span class="n">iter</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">PROTEIN</span><span class="p">):</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-441"><a href="#XmlDeserializer.create_all_proteins_from_xml-441"><span class="linenos">441</span></a>            <span class="n">basic_information</span> <span class="o">=</span> <span class="n">tmp_protein</span><span class="o">.</span><span class="n">attrib</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-442"><a href="#XmlDeserializer.create_all_proteins_from_xml-442"><span class="linenos">442</span></a>            <span class="n">pdb_lines</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-443"><a href="#XmlDeserializer.create_all_proteins_from_xml-443"><span class="linenos">443</span></a>            <span class="n">session_data_base64</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-444"><a href="#XmlDeserializer.create_all_proteins_from_xml-444"><span class="linenos">444</span></a>            <span class="k">for</span> <span class="n">tmp_data</span> <span class="ow">in</span> <span class="n">tmp_protein</span><span class="p">:</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-445"><a href="#XmlDeserializer.create_all_proteins_from_xml-445"><span class="linenos">445</span></a>                <span class="k">if</span> <span class="n">tmp_data</span><span class="o">.</span><span class="n">tag</span> <span class="o">==</span> <span class="s2">&quot;pdb_data&quot;</span><span class="p">:</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-446"><a href="#XmlDeserializer.create_all_proteins_from_xml-446"><span class="linenos">446</span></a>                    <span class="k">for</span> <span class="n">tmp_atom</span> <span class="ow">in</span> <span class="n">tmp_data</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;atom&quot;</span><span class="p">):</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-447"><a href="#XmlDeserializer.create_all_proteins_from_xml-447"><span class="linenos">447</span></a>                        <span class="n">pdb_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp_atom</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-448"><a href="#XmlDeserializer.create_all_proteins_from_xml-448"><span class="linenos">448</span></a>                <span class="k">elif</span> <span class="n">tmp_data</span><span class="o">.</span><span class="n">tag</span> <span class="o">==</span> <span class="s2">&quot;session_data&quot;</span><span class="p">:</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-449"><a href="#XmlDeserializer.create_all_proteins_from_xml-449"><span class="linenos">449</span></a>                    <span class="n">session_data_base64</span> <span class="o">=</span> <span class="n">tmp_data</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">PROTEIN_SESSION</span><span class="p">]</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-450"><a href="#XmlDeserializer.create_all_proteins_from_xml-450"><span class="linenos">450</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-451"><a href="#XmlDeserializer.create_all_proteins_from_xml-451"><span class="linenos">451</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-452"><a href="#XmlDeserializer.create_all_proteins_from_xml-452"><span class="linenos">452</span></a>            <span class="n">tmp_protein_obj</span> <span class="o">=</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span><span class="p">(</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-453"><a href="#XmlDeserializer.create_all_proteins_from_xml-453"><span class="linenos">453</span></a>                <span class="n">molecule_object</span><span class="o">=</span><span class="n">basic_information</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">PROTEIN_MOLECULE_OBJECT</span><span class="p">],</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-454"><a href="#XmlDeserializer.create_all_proteins_from_xml-454"><span class="linenos">454</span></a>                <span class="n">pdb_xml_string</span><span class="o">=</span><span class="n">tmp_protein</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-455"><a href="#XmlDeserializer.create_all_proteins_from_xml-455"><span class="linenos">455</span></a>            <span class="p">)</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-456"><a href="#XmlDeserializer.create_all_proteins_from_xml-456"><span class="linenos">456</span></a>            <span class="n">tmp_protein_obj</span><span class="o">.</span><span class="n">set_all_attributes</span><span class="p">(</span><span class="n">basic_information</span><span class="p">,</span> <span class="n">pdb_lines</span><span class="p">,</span> <span class="n">session_data_base64</span><span class="p">)</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-457"><a href="#XmlDeserializer.create_all_proteins_from_xml-457"><span class="linenos">457</span></a>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-458"><a href="#XmlDeserializer.create_all_proteins_from_xml-458"><span class="linenos">458</span></a>            <span class="n">proteins</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp_protein_obj</span><span class="p">)</span>
</span><span id="XmlDeserializer.create_all_proteins_from_xml-459"><a href="#XmlDeserializer.create_all_proteins_from_xml-459"><span class="linenos">459</span></a>        <span class="k">return</span> <span class="n">proteins</span>
</span></pre></div>


            <div class="docstring"><p>Creates a list of proteins from the XML.</p>
</div>


                            </div>
                            <div id="XmlDeserializer.create_all_protein_pairs" class="classattr">
                                        <input id="XmlDeserializer.create_all_protein_pairs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">create_all_protein_pairs</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">a_project</span><span class="p">:</span> <span class="n">pyssa</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">data_structures</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">Project</span>,</span><span class="param">	<span class="n">app_settings</span><span class="p">:</span> <span class="n">pyssa</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">data_structures</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">Settings</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="n">pyssa</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">data_structures</span><span class="o">.</span><span class="n">protein_pair</span><span class="o">.</span><span class="n">ProteinPair</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="XmlDeserializer.create_all_protein_pairs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#XmlDeserializer.create_all_protein_pairs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="XmlDeserializer.create_all_protein_pairs-461"><a href="#XmlDeserializer.create_all_protein_pairs-461"><span class="linenos">461</span></a>    <span class="k">def</span> <span class="nf">create_all_protein_pairs</span><span class="p">(</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-462"><a href="#XmlDeserializer.create_all_protein_pairs-462"><span class="linenos">462</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-463"><a href="#XmlDeserializer.create_all_protein_pairs-463"><span class="linenos">463</span></a>        <span class="n">a_project</span><span class="p">:</span> <span class="s2">&quot;project.Project&quot;</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-464"><a href="#XmlDeserializer.create_all_protein_pairs-464"><span class="linenos">464</span></a>        <span class="n">app_settings</span><span class="p">:</span> <span class="s2">&quot;settings.Settings&quot;</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-465"><a href="#XmlDeserializer.create_all_protein_pairs-465"><span class="linenos">465</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;protein_pair.ProteinPair&quot;</span><span class="p">]:</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-466"><a href="#XmlDeserializer.create_all_protein_pairs-466"><span class="linenos">466</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a list of protein pairs from the XML.</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-467"><a href="#XmlDeserializer.create_all_protein_pairs-467"><span class="linenos">467</span></a>
</span><span id="XmlDeserializer.create_all_protein_pairs-468"><a href="#XmlDeserializer.create_all_protein_pairs-468"><span class="linenos">468</span></a><span class="sd">        Args:</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-469"><a href="#XmlDeserializer.create_all_protein_pairs-469"><span class="linenos">469</span></a><span class="sd">            a_project: a project of which the protein pairs should be used.</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-470"><a href="#XmlDeserializer.create_all_protein_pairs-470"><span class="linenos">470</span></a><span class="sd">            app_settings: the settings of the app.</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-471"><a href="#XmlDeserializer.create_all_protein_pairs-471"><span class="linenos">471</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-472"><a href="#XmlDeserializer.create_all_protein_pairs-472"><span class="linenos">472</span></a>        <span class="n">protein_pairs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-473"><a href="#XmlDeserializer.create_all_protein_pairs-473"><span class="linenos">473</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-474"><a href="#XmlDeserializer.create_all_protein_pairs-474"><span class="linenos">474</span></a>            <span class="k">return</span>  <span class="c1"># noqa: RET502 #TODO: fix this</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-475"><a href="#XmlDeserializer.create_all_protein_pairs-475"><span class="linenos">475</span></a>        <span class="k">for</span> <span class="n">tmp_protein_pair</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-476"><a href="#XmlDeserializer.create_all_protein_pairs-476"><span class="linenos">476</span></a>            <span class="n">basic_information</span> <span class="o">=</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">attrib</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-477"><a href="#XmlDeserializer.create_all_protein_pairs-477"><span class="linenos">477</span></a>            <span class="n">prot_1_molecule_object</span> <span class="o">=</span> <span class="n">basic_information</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR_PROT_1_MOLECULE_OBJECT</span><span class="p">]</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-478"><a href="#XmlDeserializer.create_all_protein_pairs-478"><span class="linenos">478</span></a>            <span class="k">if</span> <span class="n">prot_1_molecule_object</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;_1&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-479"><a href="#XmlDeserializer.create_all_protein_pairs-479"><span class="linenos">479</span></a>                <span class="n">org_prot_1_molecule_object</span> <span class="o">=</span> <span class="n">prot_1_molecule_object</span><span class="p">[:</span> <span class="n">prot_1_molecule_object</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;_1&quot;</span><span class="p">)]</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-480"><a href="#XmlDeserializer.create_all_protein_pairs-480"><span class="linenos">480</span></a>                <span class="n">protein_2</span><span class="p">:</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span> <span class="o">=</span> <span class="n">a_project</span><span class="o">.</span><span class="n">search_protein</span><span class="p">(</span><span class="n">org_prot_1_molecule_object</span><span class="p">)</span><span class="o">.</span><span class="n">duplicate_protein</span><span class="p">()</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-481"><a href="#XmlDeserializer.create_all_protein_pairs-481"><span class="linenos">481</span></a>                <span class="n">protein_1</span><span class="p">:</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span> <span class="o">=</span> <span class="n">protein_2</span><span class="o">.</span><span class="n">duplicate_protein</span><span class="p">()</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-482"><a href="#XmlDeserializer.create_all_protein_pairs-482"><span class="linenos">482</span></a>                <span class="n">protein_1</span><span class="o">.</span><span class="n">set_molecule_object</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">protein_1</span><span class="o">.</span><span class="n">get_molecule_object</span><span class="p">()</span><span class="si">}</span><span class="s2">_1&quot;</span><span class="p">)</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-483"><a href="#XmlDeserializer.create_all_protein_pairs-483"><span class="linenos">483</span></a>                <span class="n">protein_2</span><span class="o">.</span><span class="n">set_molecule_object</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">protein_2</span><span class="o">.</span><span class="n">get_molecule_object</span><span class="p">()</span><span class="si">}</span><span class="s2">_2&quot;</span><span class="p">)</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-484"><a href="#XmlDeserializer.create_all_protein_pairs-484"><span class="linenos">484</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-485"><a href="#XmlDeserializer.create_all_protein_pairs-485"><span class="linenos">485</span></a>                <span class="n">protein_1</span> <span class="o">=</span> <span class="n">a_project</span><span class="o">.</span><span class="n">search_protein</span><span class="p">(</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-486"><a href="#XmlDeserializer.create_all_protein_pairs-486"><span class="linenos">486</span></a>                    <span class="n">basic_information</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR_PROT_1_MOLECULE_OBJECT</span><span class="p">],</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-487"><a href="#XmlDeserializer.create_all_protein_pairs-487"><span class="linenos">487</span></a>                <span class="p">)</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-488"><a href="#XmlDeserializer.create_all_protein_pairs-488"><span class="linenos">488</span></a>                <span class="n">protein_2</span> <span class="o">=</span> <span class="n">a_project</span><span class="o">.</span><span class="n">search_protein</span><span class="p">(</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-489"><a href="#XmlDeserializer.create_all_protein_pairs-489"><span class="linenos">489</span></a>                    <span class="n">basic_information</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR_PROT_2_MOLECULE_OBJECT</span><span class="p">],</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-490"><a href="#XmlDeserializer.create_all_protein_pairs-490"><span class="linenos">490</span></a>                <span class="p">)</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-491"><a href="#XmlDeserializer.create_all_protein_pairs-491"><span class="linenos">491</span></a>
</span><span id="XmlDeserializer.create_all_protein_pairs-492"><a href="#XmlDeserializer.create_all_protein_pairs-492"><span class="linenos">492</span></a>            <span class="n">tmp_protein_pair_obj</span> <span class="o">=</span> <span class="n">protein_pair</span><span class="o">.</span><span class="n">ProteinPair</span><span class="p">(</span><span class="n">protein_1</span><span class="o">=</span><span class="n">protein_1</span><span class="p">,</span> <span class="n">protein_2</span><span class="o">=</span><span class="n">protein_2</span><span class="p">)</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-493"><a href="#XmlDeserializer.create_all_protein_pairs-493"><span class="linenos">493</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-494"><a href="#XmlDeserializer.create_all_protein_pairs-494"><span class="linenos">494</span></a>            <span class="n">pymol_session</span> <span class="o">=</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR_SESSION</span><span class="p">)</span><span class="o">.</span><span class="n">attrib</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-495"><a href="#XmlDeserializer.create_all_protein_pairs-495"><span class="linenos">495</span></a>            <span class="n">tag_distance_analysis</span> <span class="o">=</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS</span><span class="p">)</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-496"><a href="#XmlDeserializer.create_all_protein_pairs-496"><span class="linenos">496</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">pymol_session</span> <span class="o">=</span> <span class="n">pymol_session</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_SESSION</span><span class="p">]</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-497"><a href="#XmlDeserializer.create_all_protein_pairs-497"><span class="linenos">497</span></a>            <span class="n">distance_analysis_settings</span> <span class="o">=</span> <span class="n">tag_distance_analysis</span><span class="o">.</span><span class="n">attrib</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-498"><a href="#XmlDeserializer.create_all_protein_pairs-498"><span class="linenos">498</span></a>            <span class="n">tag_results</span> <span class="o">=</span> <span class="n">tag_distance_analysis</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_RESULTS</span><span class="p">)</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-499"><a href="#XmlDeserializer.create_all_protein_pairs-499"><span class="linenos">499</span></a>            <span class="n">rmsd_aligned_aa</span> <span class="o">=</span> <span class="n">tag_results</span><span class="o">.</span><span class="n">attrib</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-500"><a href="#XmlDeserializer.create_all_protein_pairs-500"><span class="linenos">500</span></a>            <span class="k">for</span> <span class="n">tmp_tag_results_distance</span> <span class="ow">in</span> <span class="n">tag_results</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-501"><a href="#XmlDeserializer.create_all_protein_pairs-501"><span class="linenos">501</span></a>                <span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_DISTANCE_RESULTS</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-502"><a href="#XmlDeserializer.create_all_protein_pairs-502"><span class="linenos">502</span></a>            <span class="p">):</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-503"><a href="#XmlDeserializer.create_all_protein_pairs-503"><span class="linenos">503</span></a>                <span class="n">indexes</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_INDEX_LIST</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-504"><a href="#XmlDeserializer.create_all_protein_pairs-504"><span class="linenos">504</span></a>                <span class="n">prot_1_chains</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_PROT_1_CHAIN_LIST</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-505"><a href="#XmlDeserializer.create_all_protein_pairs-505"><span class="linenos">505</span></a>                <span class="n">prot_1_positions</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-506"><a href="#XmlDeserializer.create_all_protein_pairs-506"><span class="linenos">506</span></a>                    <span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_PROT_1_POSITION_LIST</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-507"><a href="#XmlDeserializer.create_all_protein_pairs-507"><span class="linenos">507</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-508"><a href="#XmlDeserializer.create_all_protein_pairs-508"><span class="linenos">508</span></a>                <span class="n">prot_1_residues</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-509"><a href="#XmlDeserializer.create_all_protein_pairs-509"><span class="linenos">509</span></a>                    <span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_PROT_1_RESIDUE_LIST</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-510"><a href="#XmlDeserializer.create_all_protein_pairs-510"><span class="linenos">510</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-511"><a href="#XmlDeserializer.create_all_protein_pairs-511"><span class="linenos">511</span></a>
</span><span id="XmlDeserializer.create_all_protein_pairs-512"><a href="#XmlDeserializer.create_all_protein_pairs-512"><span class="linenos">512</span></a>                <span class="n">prot_2_chains</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_PROT_2_CHAIN_LIST</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-513"><a href="#XmlDeserializer.create_all_protein_pairs-513"><span class="linenos">513</span></a>                <span class="n">prot_2_positions</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-514"><a href="#XmlDeserializer.create_all_protein_pairs-514"><span class="linenos">514</span></a>                    <span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_PROT_2_POSITION_LIST</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-515"><a href="#XmlDeserializer.create_all_protein_pairs-515"><span class="linenos">515</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-516"><a href="#XmlDeserializer.create_all_protein_pairs-516"><span class="linenos">516</span></a>                <span class="n">prot_2_residues</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-517"><a href="#XmlDeserializer.create_all_protein_pairs-517"><span class="linenos">517</span></a>                    <span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_PROT_2_RESIDUE_LIST</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-518"><a href="#XmlDeserializer.create_all_protein_pairs-518"><span class="linenos">518</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-519"><a href="#XmlDeserializer.create_all_protein_pairs-519"><span class="linenos">519</span></a>
</span><span id="XmlDeserializer.create_all_protein_pairs-520"><a href="#XmlDeserializer.create_all_protein_pairs-520"><span class="linenos">520</span></a>                <span class="n">distances</span> <span class="o">=</span> <span class="n">tmp_tag_results_distance</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_DISTANCES_LIST</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-521"><a href="#XmlDeserializer.create_all_protein_pairs-521"><span class="linenos">521</span></a>                <span class="n">index_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">indexes</span><span class="p">))</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-522"><a href="#XmlDeserializer.create_all_protein_pairs-522"><span class="linenos">522</span></a>                <span class="n">ref_chain_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">prot_1_chains</span><span class="p">))</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-523"><a href="#XmlDeserializer.create_all_protein_pairs-523"><span class="linenos">523</span></a>                <span class="n">ref_pos_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">prot_1_positions</span><span class="p">))</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-524"><a href="#XmlDeserializer.create_all_protein_pairs-524"><span class="linenos">524</span></a>                <span class="n">ref_resi_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">prot_1_residues</span><span class="p">))</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-525"><a href="#XmlDeserializer.create_all_protein_pairs-525"><span class="linenos">525</span></a>                <span class="n">model_chain_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">prot_2_chains</span><span class="p">))</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-526"><a href="#XmlDeserializer.create_all_protein_pairs-526"><span class="linenos">526</span></a>                <span class="n">model_pos_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">prot_2_positions</span><span class="p">))</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-527"><a href="#XmlDeserializer.create_all_protein_pairs-527"><span class="linenos">527</span></a>                <span class="n">model_resi_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">prot_2_residues</span><span class="p">))</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-528"><a href="#XmlDeserializer.create_all_protein_pairs-528"><span class="linenos">528</span></a>                <span class="n">distance_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">distances</span><span class="p">))</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-529"><a href="#XmlDeserializer.create_all_protein_pairs-529"><span class="linenos">529</span></a>
</span><span id="XmlDeserializer.create_all_protein_pairs-530"><a href="#XmlDeserializer.create_all_protein_pairs-530"><span class="linenos">530</span></a>                <span class="n">result_hashtable</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-531"><a href="#XmlDeserializer.create_all_protein_pairs-531"><span class="linenos">531</span></a>                    <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="n">index_array</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-532"><a href="#XmlDeserializer.create_all_protein_pairs-532"><span class="linenos">532</span></a>                    <span class="s2">&quot;ref_chain&quot;</span><span class="p">:</span> <span class="n">ref_chain_array</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-533"><a href="#XmlDeserializer.create_all_protein_pairs-533"><span class="linenos">533</span></a>                    <span class="s2">&quot;ref_pos&quot;</span><span class="p">:</span> <span class="n">ref_pos_array</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-534"><a href="#XmlDeserializer.create_all_protein_pairs-534"><span class="linenos">534</span></a>                    <span class="s2">&quot;ref_resi&quot;</span><span class="p">:</span> <span class="n">ref_resi_array</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-535"><a href="#XmlDeserializer.create_all_protein_pairs-535"><span class="linenos">535</span></a>                    <span class="s2">&quot;model_chain&quot;</span><span class="p">:</span> <span class="n">model_chain_array</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-536"><a href="#XmlDeserializer.create_all_protein_pairs-536"><span class="linenos">536</span></a>                    <span class="s2">&quot;model_pos&quot;</span><span class="p">:</span> <span class="n">model_pos_array</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-537"><a href="#XmlDeserializer.create_all_protein_pairs-537"><span class="linenos">537</span></a>                    <span class="s2">&quot;model_resi&quot;</span><span class="p">:</span> <span class="n">model_resi_array</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-538"><a href="#XmlDeserializer.create_all_protein_pairs-538"><span class="linenos">538</span></a>                    <span class="s2">&quot;distance&quot;</span><span class="p">:</span> <span class="n">distance_array</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-539"><a href="#XmlDeserializer.create_all_protein_pairs-539"><span class="linenos">539</span></a>                <span class="p">}</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-540"><a href="#XmlDeserializer.create_all_protein_pairs-540"><span class="linenos">540</span></a>
</span><span id="XmlDeserializer.create_all_protein_pairs-541"><a href="#XmlDeserializer.create_all_protein_pairs-541"><span class="linenos">541</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span> <span class="o">=</span> <span class="n">structure_analysis</span><span class="o">.</span><span class="n">DistanceAnalysis</span><span class="p">(</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-542"><a href="#XmlDeserializer.create_all_protein_pairs-542"><span class="linenos">542</span></a>                <span class="n">protein_pair_name</span><span class="o">=</span><span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-543"><a href="#XmlDeserializer.create_all_protein_pairs-543"><span class="linenos">543</span></a>                <span class="n">the_app_settings</span><span class="o">=</span><span class="n">app_settings</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-544"><a href="#XmlDeserializer.create_all_protein_pairs-544"><span class="linenos">544</span></a>            <span class="p">)</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-545"><a href="#XmlDeserializer.create_all_protein_pairs-545"><span class="linenos">545</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">analysis_results</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">DistanceAnalysisResults</span><span class="p">(</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-546"><a href="#XmlDeserializer.create_all_protein_pairs-546"><span class="linenos">546</span></a>                <span class="n">distance_data</span><span class="o">=</span><span class="n">result_hashtable</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-547"><a href="#XmlDeserializer.create_all_protein_pairs-547"><span class="linenos">547</span></a>                <span class="n">pymol_session</span><span class="o">=</span><span class="n">pymol_session</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_SESSION</span><span class="p">],</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-548"><a href="#XmlDeserializer.create_all_protein_pairs-548"><span class="linenos">548</span></a>                <span class="n">rmsd</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">rmsd_aligned_aa</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_RMSD</span><span class="p">]),</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-549"><a href="#XmlDeserializer.create_all_protein_pairs-549"><span class="linenos">549</span></a>                <span class="n">aligned_aa</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">rmsd_aligned_aa</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_ALIGNED_AA</span><span class="p">]),</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-550"><a href="#XmlDeserializer.create_all_protein_pairs-550"><span class="linenos">550</span></a>            <span class="p">)</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-551"><a href="#XmlDeserializer.create_all_protein_pairs-551"><span class="linenos">551</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">cutoff</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-552"><a href="#XmlDeserializer.create_all_protein_pairs-552"><span class="linenos">552</span></a>                <span class="n">distance_analysis_settings</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_CUTOFF</span><span class="p">],</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-553"><a href="#XmlDeserializer.create_all_protein_pairs-553"><span class="linenos">553</span></a>            <span class="p">)</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-554"><a href="#XmlDeserializer.create_all_protein_pairs-554"><span class="linenos">554</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">cycles</span> <span class="o">=</span> <span class="n">distance_analysis_settings</span><span class="p">[</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-555"><a href="#XmlDeserializer.create_all_protein_pairs-555"><span class="linenos">555</span></a>                <span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_CYCLES</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-556"><a href="#XmlDeserializer.create_all_protein_pairs-556"><span class="linenos">556</span></a>            <span class="p">]</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-557"><a href="#XmlDeserializer.create_all_protein_pairs-557"><span class="linenos">557</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">distance_analysis_settings</span><span class="p">[</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-558"><a href="#XmlDeserializer.create_all_protein_pairs-558"><span class="linenos">558</span></a>                <span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_NAME</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-559"><a href="#XmlDeserializer.create_all_protein_pairs-559"><span class="linenos">559</span></a>            <span class="p">]</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-560"><a href="#XmlDeserializer.create_all_protein_pairs-560"><span class="linenos">560</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">analysis_results</span><span class="o">.</span><span class="n">rmsd</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-561"><a href="#XmlDeserializer.create_all_protein_pairs-561"><span class="linenos">561</span></a>                <span class="n">rmsd_aligned_aa</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_RMSD</span><span class="p">],</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-562"><a href="#XmlDeserializer.create_all_protein_pairs-562"><span class="linenos">562</span></a>            <span class="p">)</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-563"><a href="#XmlDeserializer.create_all_protein_pairs-563"><span class="linenos">563</span></a>            <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">analysis_results</span><span class="o">.</span><span class="n">aligned_aa</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-564"><a href="#XmlDeserializer.create_all_protein_pairs-564"><span class="linenos">564</span></a>                <span class="n">rmsd_aligned_aa</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_ALIGNED_AA</span><span class="p">],</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-565"><a href="#XmlDeserializer.create_all_protein_pairs-565"><span class="linenos">565</span></a>            <span class="p">)</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-566"><a href="#XmlDeserializer.create_all_protein_pairs-566"><span class="linenos">566</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_analysis_images</span><span class="p">(</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-567"><a href="#XmlDeserializer.create_all_protein_pairs-567"><span class="linenos">567</span></a>                <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-568"><a href="#XmlDeserializer.create_all_protein_pairs-568"><span class="linenos">568</span></a>                <span class="n">tmp_protein_pair_obj</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">analysis_results</span><span class="p">,</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-569"><a href="#XmlDeserializer.create_all_protein_pairs-569"><span class="linenos">569</span></a>            <span class="p">)</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-570"><a href="#XmlDeserializer.create_all_protein_pairs-570"><span class="linenos">570</span></a>            <span class="n">protein_pairs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp_protein_pair_obj</span><span class="p">)</span>
</span><span id="XmlDeserializer.create_all_protein_pairs-571"><a href="#XmlDeserializer.create_all_protein_pairs-571"><span class="linenos">571</span></a>
</span><span id="XmlDeserializer.create_all_protein_pairs-572"><a href="#XmlDeserializer.create_all_protein_pairs-572"><span class="linenos">572</span></a>        <span class="k">return</span> <span class="n">protein_pairs</span>
</span></pre></div>


            <div class="docstring"><p>Creates a list of protein pairs from the XML.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>a_project:</strong>  a project of which the protein pairs should be used.</li>
<li><strong>app_settings:</strong>  the settings of the app.</li>
</ul>
</div>


                            </div>
                            <div id="XmlDeserializer.create_all_sequences_from_xml" class="classattr">
                                        <input id="XmlDeserializer.create_all_sequences_from_xml-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">create_all_sequences_from_xml</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="XmlDeserializer.create_all_sequences_from_xml-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#XmlDeserializer.create_all_sequences_from_xml"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="XmlDeserializer.create_all_sequences_from_xml-574"><a href="#XmlDeserializer.create_all_sequences_from_xml-574"><span class="linenos">574</span></a>    <span class="k">def</span> <span class="nf">create_all_sequences_from_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="XmlDeserializer.create_all_sequences_from_xml-575"><a href="#XmlDeserializer.create_all_sequences_from_xml-575"><span class="linenos">575</span></a>        <span class="n">seq_records</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="XmlDeserializer.create_all_sequences_from_xml-576"><a href="#XmlDeserializer.create_all_sequences_from_xml-576"><span class="linenos">576</span></a>        <span class="k">for</span> <span class="n">tmp_seq</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span><span class="o">.</span><span class="n">iter</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">SEQUENCE</span><span class="p">):</span>
</span><span id="XmlDeserializer.create_all_sequences_from_xml-577"><a href="#XmlDeserializer.create_all_sequences_from_xml-577"><span class="linenos">577</span></a>            <span class="n">basic_information</span> <span class="o">=</span> <span class="n">tmp_seq</span><span class="o">.</span><span class="n">attrib</span>
</span><span id="XmlDeserializer.create_all_sequences_from_xml-578"><a href="#XmlDeserializer.create_all_sequences_from_xml-578"><span class="linenos">578</span></a>            <span class="n">tmp_seq_record_obj</span> <span class="o">=</span> <span class="n">SeqRecord</span><span class="o">.</span><span class="n">SeqRecord</span><span class="p">(</span><span class="n">basic_information</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">SEQUENCE_SEQ</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="n">basic_information</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">SEQUENCE_NAME</span><span class="p">])</span>
</span><span id="XmlDeserializer.create_all_sequences_from_xml-579"><a href="#XmlDeserializer.create_all_sequences_from_xml-579"><span class="linenos">579</span></a>            <span class="n">seq_records</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp_seq_record_obj</span><span class="p">)</span>
</span><span id="XmlDeserializer.create_all_sequences_from_xml-580"><a href="#XmlDeserializer.create_all_sequences_from_xml-580"><span class="linenos">580</span></a>        <span class="k">return</span> <span class="n">seq_records</span>
</span></pre></div>


    

                            </div>
                            <div id="XmlDeserializer.deserialize_project" class="classattr">
                                        <input id="XmlDeserializer.deserialize_project-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">deserialize_project</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">file_path</span>,</span><span class="param">	<span class="n">app_settings</span><span class="p">:</span> <span class="n">pyssa</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">data_structures</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">Settings</span></span><span class="return-annotation">) -> <span class="n">pyssa</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">data_structures</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">Project</span>:</span></span>

                <label class="view-source-button" for="XmlDeserializer.deserialize_project-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#XmlDeserializer.deserialize_project"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="XmlDeserializer.deserialize_project-582"><a href="#XmlDeserializer.deserialize_project-582"><span class="linenos">582</span></a>    <span class="nd">@staticmethod</span>
</span><span id="XmlDeserializer.deserialize_project-583"><a href="#XmlDeserializer.deserialize_project-583"><span class="linenos">583</span></a>    <span class="k">def</span> <span class="nf">deserialize_project</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">app_settings</span><span class="p">:</span> <span class="s2">&quot;settings.Settings&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;project.Project&quot;</span><span class="p">:</span>
</span><span id="XmlDeserializer.deserialize_project-584"><a href="#XmlDeserializer.deserialize_project-584"><span class="linenos">584</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserialize the project from the XML.&quot;&quot;&quot;</span>
</span><span id="XmlDeserializer.deserialize_project-585"><a href="#XmlDeserializer.deserialize_project-585"><span class="linenos">585</span></a>        <span class="n">file</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QFile</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">file_path</span><span class="p">))</span>
</span><span id="XmlDeserializer.deserialize_project-586"><a href="#XmlDeserializer.deserialize_project-586"><span class="linenos">586</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="XmlDeserializer.deserialize_project-587"><a href="#XmlDeserializer.deserialize_project-587"><span class="linenos">587</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">file</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QFile</span><span class="o">.</span><span class="n">ReadOnly</span> <span class="o">|</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QFile</span><span class="o">.</span><span class="n">Text</span><span class="p">):</span>
</span><span id="XmlDeserializer.deserialize_project-588"><a href="#XmlDeserializer.deserialize_project-588"><span class="linenos">588</span></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: Cannot open file for reading&quot;</span><span class="p">)</span>
</span><span id="XmlDeserializer.deserialize_project-589"><a href="#XmlDeserializer.deserialize_project-589"><span class="linenos">589</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="XmlDeserializer.deserialize_project-590"><a href="#XmlDeserializer.deserialize_project-590"><span class="linenos">590</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Exception occurred: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="XmlDeserializer.deserialize_project-591"><a href="#XmlDeserializer.deserialize_project-591"><span class="linenos">591</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="XmlDeserializer.deserialize_project-592"><a href="#XmlDeserializer.deserialize_project-592"><span class="linenos">592</span></a>            <span class="n">tmp_project</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">Project</span><span class="p">()</span>
</span><span id="XmlDeserializer.deserialize_project-593"><a href="#XmlDeserializer.deserialize_project-593"><span class="linenos">593</span></a>            <span class="n">handler</span> <span class="o">=</span> <span class="n">ProjectParserHandler</span><span class="p">(</span><span class="n">tmp_project</span><span class="p">,</span> <span class="n">app_settings</span><span class="p">)</span>
</span><span id="XmlDeserializer.deserialize_project-594"><a href="#XmlDeserializer.deserialize_project-594"><span class="linenos">594</span></a>            <span class="n">parser</span> <span class="o">=</span> <span class="n">sax</span><span class="o">.</span><span class="n">make_parser</span><span class="p">()</span>
</span><span id="XmlDeserializer.deserialize_project-595"><a href="#XmlDeserializer.deserialize_project-595"><span class="linenos">595</span></a>            <span class="n">parser</span><span class="o">.</span><span class="n">setContentHandler</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>
</span><span id="XmlDeserializer.deserialize_project-596"><a href="#XmlDeserializer.deserialize_project-596"><span class="linenos">596</span></a>            <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</span><span id="XmlDeserializer.deserialize_project-597"><a href="#XmlDeserializer.deserialize_project-597"><span class="linenos">597</span></a>            <span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="XmlDeserializer.deserialize_project-598"><a href="#XmlDeserializer.deserialize_project-598"><span class="linenos">598</span></a>            <span class="k">return</span> <span class="n">handler</span><span class="o">.</span><span class="n">get_project</span><span class="p">()</span>
</span><span id="XmlDeserializer.deserialize_project-599"><a href="#XmlDeserializer.deserialize_project-599"><span class="linenos">599</span></a>
</span><span id="XmlDeserializer.deserialize_project-600"><a href="#XmlDeserializer.deserialize_project-600"><span class="linenos">600</span></a>        <span class="c1"># project_dict = {}</span>
</span><span id="XmlDeserializer.deserialize_project-601"><a href="#XmlDeserializer.deserialize_project-601"><span class="linenos">601</span></a>        <span class="c1"># for info in self.xml_root.iter(element_names.PROJECT_INFO):</span>
</span><span id="XmlDeserializer.deserialize_project-602"><a href="#XmlDeserializer.deserialize_project-602"><span class="linenos">602</span></a>        <span class="c1">#     project_dict = info.attrib</span>
</span><span id="XmlDeserializer.deserialize_project-603"><a href="#XmlDeserializer.deserialize_project-603"><span class="linenos">603</span></a>        <span class="c1"># tmp_project = project.Project(</span>
</span><span id="XmlDeserializer.deserialize_project-604"><a href="#XmlDeserializer.deserialize_project-604"><span class="linenos">604</span></a>        <span class="c1">#     project_dict[attribute_names.PROJECT_NAME],</span>
</span><span id="XmlDeserializer.deserialize_project-605"><a href="#XmlDeserializer.deserialize_project-605"><span class="linenos">605</span></a>        <span class="c1">#     pathlib.Path(project_dict[attribute_names.PROJECT_WORKSPACE_PATH]),</span>
</span><span id="XmlDeserializer.deserialize_project-606"><a href="#XmlDeserializer.deserialize_project-606"><span class="linenos">606</span></a>        <span class="c1"># )</span>
</span><span id="XmlDeserializer.deserialize_project-607"><a href="#XmlDeserializer.deserialize_project-607"><span class="linenos">607</span></a>        <span class="c1"># tmp_seq_record_objs = self.create_all_sequences_from_xml()</span>
</span><span id="XmlDeserializer.deserialize_project-608"><a href="#XmlDeserializer.deserialize_project-608"><span class="linenos">608</span></a>        <span class="c1"># if tmp_seq_record_objs is not None:</span>
</span><span id="XmlDeserializer.deserialize_project-609"><a href="#XmlDeserializer.deserialize_project-609"><span class="linenos">609</span></a>        <span class="c1">#     for tmp_seq_record_obj in tmp_seq_record_objs:</span>
</span><span id="XmlDeserializer.deserialize_project-610"><a href="#XmlDeserializer.deserialize_project-610"><span class="linenos">610</span></a>        <span class="c1">#         tmp_project.sequences.append(tmp_seq_record_obj)</span>
</span><span id="XmlDeserializer.deserialize_project-611"><a href="#XmlDeserializer.deserialize_project-611"><span class="linenos">611</span></a>        <span class="c1"># protein_objs = self.create_all_proteins_from_xml()</span>
</span><span id="XmlDeserializer.deserialize_project-612"><a href="#XmlDeserializer.deserialize_project-612"><span class="linenos">612</span></a>        <span class="c1"># for tmp_protein_obj in protein_objs:</span>
</span><span id="XmlDeserializer.deserialize_project-613"><a href="#XmlDeserializer.deserialize_project-613"><span class="linenos">613</span></a>        <span class="c1">#     tmp_project.add_existing_protein(tmp_protein_obj)</span>
</span><span id="XmlDeserializer.deserialize_project-614"><a href="#XmlDeserializer.deserialize_project-614"><span class="linenos">614</span></a>        <span class="c1"># protein_pair_objs = self.create_all_protein_pairs(tmp_project, app_settings)</span>
</span><span id="XmlDeserializer.deserialize_project-615"><a href="#XmlDeserializer.deserialize_project-615"><span class="linenos">615</span></a>        <span class="c1"># if protein_pair_objs is not None:</span>
</span><span id="XmlDeserializer.deserialize_project-616"><a href="#XmlDeserializer.deserialize_project-616"><span class="linenos">616</span></a>        <span class="c1">#     for tmp_protein_pair_obj in protein_pair_objs:</span>
</span><span id="XmlDeserializer.deserialize_project-617"><a href="#XmlDeserializer.deserialize_project-617"><span class="linenos">617</span></a>        <span class="c1">#         tmp_project.add_protein_pair(tmp_protein_pair_obj)</span>
</span><span id="XmlDeserializer.deserialize_project-618"><a href="#XmlDeserializer.deserialize_project-618"><span class="linenos">618</span></a>        <span class="c1">#</span>
</span><span id="XmlDeserializer.deserialize_project-619"><a href="#XmlDeserializer.deserialize_project-619"><span class="linenos">619</span></a>        <span class="c1"># return tmp_project</span>
</span></pre></div>


            <div class="docstring"><p>Deserialize the project from the XML.</p>
</div>


                            </div>
                            <div id="XmlDeserializer.deserialize_analysis_images" class="classattr">
                                        <input id="XmlDeserializer.deserialize_analysis_images-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">deserialize_analysis_images</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">protein_pair_name</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">analysis_results</span><span class="p">:</span> <span class="n">pyssa</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">data_structures</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">DistanceAnalysisResults</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="XmlDeserializer.deserialize_analysis_images-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#XmlDeserializer.deserialize_analysis_images"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="XmlDeserializer.deserialize_analysis_images-621"><a href="#XmlDeserializer.deserialize_analysis_images-621"><span class="linenos">621</span></a>    <span class="k">def</span> <span class="nf">deserialize_analysis_images</span><span class="p">(</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-622"><a href="#XmlDeserializer.deserialize_analysis_images-622"><span class="linenos">622</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-623"><a href="#XmlDeserializer.deserialize_analysis_images-623"><span class="linenos">623</span></a>        <span class="n">protein_pair_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-624"><a href="#XmlDeserializer.deserialize_analysis_images-624"><span class="linenos">624</span></a>        <span class="n">analysis_results</span><span class="p">:</span> <span class="s2">&quot;results.DistanceAnalysisResults&quot;</span><span class="p">,</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-625"><a href="#XmlDeserializer.deserialize_analysis_images-625"><span class="linenos">625</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-626"><a href="#XmlDeserializer.deserialize_analysis_images-626"><span class="linenos">626</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserialize the analysis images.</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-627"><a href="#XmlDeserializer.deserialize_analysis_images-627"><span class="linenos">627</span></a>
</span><span id="XmlDeserializer.deserialize_analysis_images-628"><a href="#XmlDeserializer.deserialize_analysis_images-628"><span class="linenos">628</span></a><span class="sd">        Args:</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-629"><a href="#XmlDeserializer.deserialize_analysis_images-629"><span class="linenos">629</span></a><span class="sd">            protein_pair_name: the name of the protein pair to use.</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-630"><a href="#XmlDeserializer.deserialize_analysis_images-630"><span class="linenos">630</span></a><span class="sd">            analysis_results: the results of the distance analysis.</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-631"><a href="#XmlDeserializer.deserialize_analysis_images-631"><span class="linenos">631</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-632"><a href="#XmlDeserializer.deserialize_analysis_images-632"><span class="linenos">632</span></a>        <span class="k">for</span> <span class="n">tmp_protein_pair</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">PROTEIN_PAIR</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-633"><a href="#XmlDeserializer.deserialize_analysis_images-633"><span class="linenos">633</span></a>            <span class="k">if</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">protein_pair_name</span><span class="p">:</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-634"><a href="#XmlDeserializer.deserialize_analysis_images-634"><span class="linenos">634</span></a>                <span class="n">structure_aln_images</span> <span class="o">=</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-635"><a href="#XmlDeserializer.deserialize_analysis_images-635"><span class="linenos">635</span></a>                    <span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_IMAGES</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_STRUCTURE_ALN_IMAGE</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-636"><a href="#XmlDeserializer.deserialize_analysis_images-636"><span class="linenos">636</span></a>                <span class="p">)</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-637"><a href="#XmlDeserializer.deserialize_analysis_images-637"><span class="linenos">637</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-638"><a href="#XmlDeserializer.deserialize_analysis_images-638"><span class="linenos">638</span></a>                    <span class="n">analysis_results</span><span class="o">.</span><span class="n">structure_aln_image</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-639"><a href="#XmlDeserializer.deserialize_analysis_images-639"><span class="linenos">639</span></a>                        <span class="n">structure_aln_images</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_STRUCTURE_ALN_IMAGE_BASENAME</span><span class="p">],</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-640"><a href="#XmlDeserializer.deserialize_analysis_images-640"><span class="linenos">640</span></a>                        <span class="n">structure_aln_images</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-641"><a href="#XmlDeserializer.deserialize_analysis_images-641"><span class="linenos">641</span></a>                    <span class="p">)</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-642"><a href="#XmlDeserializer.deserialize_analysis_images-642"><span class="linenos">642</span></a>                <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-643"><a href="#XmlDeserializer.deserialize_analysis_images-643"><span class="linenos">643</span></a>                    <span class="n">analysis_results</span><span class="o">.</span><span class="n">structure_aln_image</span> <span class="o">=</span> <span class="p">()</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-644"><a href="#XmlDeserializer.deserialize_analysis_images-644"><span class="linenos">644</span></a>                <span class="n">interesting_reg_images</span> <span class="o">=</span> <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-645"><a href="#XmlDeserializer.deserialize_analysis_images-645"><span class="linenos">645</span></a>                    <span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_IMAGES</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">element_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_ALN_IMAGES_INTERESTING_REGIONS</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-646"><a href="#XmlDeserializer.deserialize_analysis_images-646"><span class="linenos">646</span></a>                <span class="p">)</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-647"><a href="#XmlDeserializer.deserialize_analysis_images-647"><span class="linenos">647</span></a>                <span class="k">for</span> <span class="n">tmp_image</span> <span class="ow">in</span> <span class="n">interesting_reg_images</span><span class="p">:</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-648"><a href="#XmlDeserializer.deserialize_analysis_images-648"><span class="linenos">648</span></a>                    <span class="n">analysis_results</span><span class="o">.</span><span class="n">interesting_regions_images</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-649"><a href="#XmlDeserializer.deserialize_analysis_images-649"><span class="linenos">649</span></a>                        <span class="p">(</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-650"><a href="#XmlDeserializer.deserialize_analysis_images-650"><span class="linenos">650</span></a>                            <span class="n">tmp_image</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">DISTANCE_ANALYSIS_ALN_IMAGES_INTERESTING_REGIONS_BASENAME</span><span class="p">],</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-651"><a href="#XmlDeserializer.deserialize_analysis_images-651"><span class="linenos">651</span></a>                            <span class="n">tmp_image</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-652"><a href="#XmlDeserializer.deserialize_analysis_images-652"><span class="linenos">652</span></a>                        <span class="p">),</span>
</span><span id="XmlDeserializer.deserialize_analysis_images-653"><a href="#XmlDeserializer.deserialize_analysis_images-653"><span class="linenos">653</span></a>                    <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Deserialize the analysis images.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>protein_pair_name:</strong>  the name of the protein pair to use.</li>
<li><strong>analysis_results:</strong>  the results of the distance analysis.</li>
</ul>
</div>


                            </div>
                </section>
                <section id="ObjectSerializer">
                            <input id="ObjectSerializer-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ObjectSerializer</span>:

                <label class="view-source-button" for="ObjectSerializer-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObjectSerializer"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObjectSerializer-656"><a href="#ObjectSerializer-656"><span class="linenos">656</span></a><span class="k">class</span> <span class="nc">ObjectSerializer</span><span class="p">:</span>
</span><span id="ObjectSerializer-657"><a href="#ObjectSerializer-657"><span class="linenos">657</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Class which handles serialization of objects.&quot;&quot;&quot;</span>
</span><span id="ObjectSerializer-658"><a href="#ObjectSerializer-658"><span class="linenos">658</span></a>
</span><span id="ObjectSerializer-659"><a href="#ObjectSerializer-659"><span class="linenos">659</span></a>    <span class="n">object_dict</span><span class="p">:</span> <span class="nb">dict</span>
</span><span id="ObjectSerializer-660"><a href="#ObjectSerializer-660"><span class="linenos">660</span></a>
</span><span id="ObjectSerializer-661"><a href="#ObjectSerializer-661"><span class="linenos">661</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_to_serialize</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># noqa: ANN001</span>
</span><span id="ObjectSerializer-662"><a href="#ObjectSerializer-662"><span class="linenos">662</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>
</span><span id="ObjectSerializer-663"><a href="#ObjectSerializer-663"><span class="linenos">663</span></a>
</span><span id="ObjectSerializer-664"><a href="#ObjectSerializer-664"><span class="linenos">664</span></a><span class="sd">        Args:</span>
</span><span id="ObjectSerializer-665"><a href="#ObjectSerializer-665"><span class="linenos">665</span></a><span class="sd">            object_to_serialize:</span>
</span><span id="ObjectSerializer-666"><a href="#ObjectSerializer-666"><span class="linenos">666</span></a><span class="sd">                objects which gets serialized</span>
</span><span id="ObjectSerializer-667"><a href="#ObjectSerializer-667"><span class="linenos">667</span></a><span class="sd">            filepath:</span>
</span><span id="ObjectSerializer-668"><a href="#ObjectSerializer-668"><span class="linenos">668</span></a><span class="sd">                filepath of the json file, without the file name</span>
</span><span id="ObjectSerializer-669"><a href="#ObjectSerializer-669"><span class="linenos">669</span></a><span class="sd">            filename:</span>
</span><span id="ObjectSerializer-670"><a href="#ObjectSerializer-670"><span class="linenos">670</span></a><span class="sd">                name of the json file WITHOUT .json extension!</span>
</span><span id="ObjectSerializer-671"><a href="#ObjectSerializer-671"><span class="linenos">671</span></a>
</span><span id="ObjectSerializer-672"><a href="#ObjectSerializer-672"><span class="linenos">672</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ObjectSerializer-673"><a href="#ObjectSerializer-673"><span class="linenos">673</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">object</span> <span class="o">=</span> <span class="n">object_to_serialize</span>
</span><span id="ObjectSerializer-674"><a href="#ObjectSerializer-674"><span class="linenos">674</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="o">=</span> <span class="n">filepath</span>
</span><span id="ObjectSerializer-675"><a href="#ObjectSerializer-675"><span class="linenos">675</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">filename</span>
</span><span id="ObjectSerializer-676"><a href="#ObjectSerializer-676"><span class="linenos">676</span></a>
</span><span id="ObjectSerializer-677"><a href="#ObjectSerializer-677"><span class="linenos">677</span></a>    <span class="k">def</span> <span class="nf">create_standard_object_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ObjectSerializer-678"><a href="#ObjectSerializer-678"><span class="linenos">678</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates standard object dictionary for serialization.&quot;&quot;&quot;</span>
</span><span id="ObjectSerializer-679"><a href="#ObjectSerializer-679"><span class="linenos">679</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="vm">__dict__</span>
</span><span id="ObjectSerializer-680"><a href="#ObjectSerializer-680"><span class="linenos">680</span></a>
</span><span id="ObjectSerializer-681"><a href="#ObjectSerializer-681"><span class="linenos">681</span></a>    <span class="k">def</span> <span class="nf">set_custom_object_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">custom_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ObjectSerializer-682"><a href="#ObjectSerializer-682"><span class="linenos">682</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets a custom dictionary for serialization.&quot;&quot;&quot;</span>
</span><span id="ObjectSerializer-683"><a href="#ObjectSerializer-683"><span class="linenos">683</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span> <span class="o">=</span> <span class="n">custom_dict</span>
</span><span id="ObjectSerializer-684"><a href="#ObjectSerializer-684"><span class="linenos">684</span></a>
</span><span id="ObjectSerializer-685"><a href="#ObjectSerializer-685"><span class="linenos">685</span></a>    <span class="k">def</span> <span class="nf">update_object_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dict_with_updates</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ObjectSerializer-686"><a href="#ObjectSerializer-686"><span class="linenos">686</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a dictionary for serialization.&quot;&quot;&quot;</span>
</span><span id="ObjectSerializer-687"><a href="#ObjectSerializer-687"><span class="linenos">687</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">dict_with_updates</span><span class="p">)</span>
</span><span id="ObjectSerializer-688"><a href="#ObjectSerializer-688"><span class="linenos">688</span></a>
</span><span id="ObjectSerializer-689"><a href="#ObjectSerializer-689"><span class="linenos">689</span></a>    <span class="k">def</span> <span class="nf">serialize_object</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ObjectSerializer-690"><a href="#ObjectSerializer-690"><span class="linenos">690</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Serializes the object to a JSON file.&quot;&quot;&quot;</span>
</span><span id="ObjectSerializer-691"><a href="#ObjectSerializer-691"><span class="linenos">691</span></a>        <span class="n">tmp_object_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="si">}</span><span class="s2">.json&quot;</span><span class="p">),</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</span><span id="ObjectSerializer-692"><a href="#ObjectSerializer-692"><span class="linenos">692</span></a>        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="p">,</span> <span class="n">tmp_object_file</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</span><span id="ObjectSerializer-693"><a href="#ObjectSerializer-693"><span class="linenos">693</span></a>        <span class="n">tmp_object_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Class which handles serialization of objects.</p>
</div>


                            <div id="ObjectSerializer.__init__" class="classattr">
                                        <input id="ObjectSerializer.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ObjectSerializer</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">object_to_serialize</span>, </span><span class="param"><span class="n">filepath</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span>, </span><span class="param"><span class="n">filename</span><span class="p">:</span> <span class="nb">str</span></span>)</span>

                <label class="view-source-button" for="ObjectSerializer.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObjectSerializer.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObjectSerializer.__init__-661"><a href="#ObjectSerializer.__init__-661"><span class="linenos">661</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_to_serialize</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># noqa: ANN001</span>
</span><span id="ObjectSerializer.__init__-662"><a href="#ObjectSerializer.__init__-662"><span class="linenos">662</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>
</span><span id="ObjectSerializer.__init__-663"><a href="#ObjectSerializer.__init__-663"><span class="linenos">663</span></a>
</span><span id="ObjectSerializer.__init__-664"><a href="#ObjectSerializer.__init__-664"><span class="linenos">664</span></a><span class="sd">        Args:</span>
</span><span id="ObjectSerializer.__init__-665"><a href="#ObjectSerializer.__init__-665"><span class="linenos">665</span></a><span class="sd">            object_to_serialize:</span>
</span><span id="ObjectSerializer.__init__-666"><a href="#ObjectSerializer.__init__-666"><span class="linenos">666</span></a><span class="sd">                objects which gets serialized</span>
</span><span id="ObjectSerializer.__init__-667"><a href="#ObjectSerializer.__init__-667"><span class="linenos">667</span></a><span class="sd">            filepath:</span>
</span><span id="ObjectSerializer.__init__-668"><a href="#ObjectSerializer.__init__-668"><span class="linenos">668</span></a><span class="sd">                filepath of the json file, without the file name</span>
</span><span id="ObjectSerializer.__init__-669"><a href="#ObjectSerializer.__init__-669"><span class="linenos">669</span></a><span class="sd">            filename:</span>
</span><span id="ObjectSerializer.__init__-670"><a href="#ObjectSerializer.__init__-670"><span class="linenos">670</span></a><span class="sd">                name of the json file WITHOUT .json extension!</span>
</span><span id="ObjectSerializer.__init__-671"><a href="#ObjectSerializer.__init__-671"><span class="linenos">671</span></a>
</span><span id="ObjectSerializer.__init__-672"><a href="#ObjectSerializer.__init__-672"><span class="linenos">672</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ObjectSerializer.__init__-673"><a href="#ObjectSerializer.__init__-673"><span class="linenos">673</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">object</span> <span class="o">=</span> <span class="n">object_to_serialize</span>
</span><span id="ObjectSerializer.__init__-674"><a href="#ObjectSerializer.__init__-674"><span class="linenos">674</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="o">=</span> <span class="n">filepath</span>
</span><span id="ObjectSerializer.__init__-675"><a href="#ObjectSerializer.__init__-675"><span class="linenos">675</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">filename</span>
</span></pre></div>


            <div class="docstring"><p>Constructor.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>object_to_serialize:</strong>  objects which gets serialized</li>
<li><strong>filepath:</strong>  filepath of the json file, without the file name</li>
<li><strong>filename:</strong>  name of the json file WITHOUT .json extension!</li>
</ul>
</div>


                            </div>
                            <div id="ObjectSerializer.object_dict" class="classattr">
                                <div class="attr variable">
            <span class="name">object_dict</span><span class="annotation">: dict</span>

        
    </div>
    <a class="headerlink" href="#ObjectSerializer.object_dict"></a>
    
    

                            </div>
                            <div id="ObjectSerializer.object" class="classattr">
                                <div class="attr variable">
            <span class="name">object</span>

        
    </div>
    <a class="headerlink" href="#ObjectSerializer.object"></a>
    
    

                            </div>
                            <div id="ObjectSerializer.filepath" class="classattr">
                                <div class="attr variable">
            <span class="name">filepath</span>

        
    </div>
    <a class="headerlink" href="#ObjectSerializer.filepath"></a>
    
    

                            </div>
                            <div id="ObjectSerializer.filename" class="classattr">
                                <div class="attr variable">
            <span class="name">filename</span>

        
    </div>
    <a class="headerlink" href="#ObjectSerializer.filename"></a>
    
    

                            </div>
                            <div id="ObjectSerializer.create_standard_object_dict" class="classattr">
                                        <input id="ObjectSerializer.create_standard_object_dict-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">create_standard_object_dict</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="ObjectSerializer.create_standard_object_dict-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObjectSerializer.create_standard_object_dict"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObjectSerializer.create_standard_object_dict-677"><a href="#ObjectSerializer.create_standard_object_dict-677"><span class="linenos">677</span></a>    <span class="k">def</span> <span class="nf">create_standard_object_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ObjectSerializer.create_standard_object_dict-678"><a href="#ObjectSerializer.create_standard_object_dict-678"><span class="linenos">678</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates standard object dictionary for serialization.&quot;&quot;&quot;</span>
</span><span id="ObjectSerializer.create_standard_object_dict-679"><a href="#ObjectSerializer.create_standard_object_dict-679"><span class="linenos">679</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="vm">__dict__</span>
</span></pre></div>


            <div class="docstring"><p>Creates standard object dictionary for serialization.</p>
</div>


                            </div>
                            <div id="ObjectSerializer.set_custom_object_dict" class="classattr">
                                        <input id="ObjectSerializer.set_custom_object_dict-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_custom_object_dict</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">custom_dict</span><span class="p">:</span> <span class="nb">dict</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="ObjectSerializer.set_custom_object_dict-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObjectSerializer.set_custom_object_dict"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObjectSerializer.set_custom_object_dict-681"><a href="#ObjectSerializer.set_custom_object_dict-681"><span class="linenos">681</span></a>    <span class="k">def</span> <span class="nf">set_custom_object_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">custom_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ObjectSerializer.set_custom_object_dict-682"><a href="#ObjectSerializer.set_custom_object_dict-682"><span class="linenos">682</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets a custom dictionary for serialization.&quot;&quot;&quot;</span>
</span><span id="ObjectSerializer.set_custom_object_dict-683"><a href="#ObjectSerializer.set_custom_object_dict-683"><span class="linenos">683</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span> <span class="o">=</span> <span class="n">custom_dict</span>
</span></pre></div>


            <div class="docstring"><p>Sets a custom dictionary for serialization.</p>
</div>


                            </div>
                            <div id="ObjectSerializer.update_object_dict" class="classattr">
                                        <input id="ObjectSerializer.update_object_dict-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_object_dict</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">dict_with_updates</span><span class="p">:</span> <span class="nb">dict</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="ObjectSerializer.update_object_dict-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObjectSerializer.update_object_dict"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObjectSerializer.update_object_dict-685"><a href="#ObjectSerializer.update_object_dict-685"><span class="linenos">685</span></a>    <span class="k">def</span> <span class="nf">update_object_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dict_with_updates</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ObjectSerializer.update_object_dict-686"><a href="#ObjectSerializer.update_object_dict-686"><span class="linenos">686</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a dictionary for serialization.&quot;&quot;&quot;</span>
</span><span id="ObjectSerializer.update_object_dict-687"><a href="#ObjectSerializer.update_object_dict-687"><span class="linenos">687</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">dict_with_updates</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Updates a dictionary for serialization.</p>
</div>


                            </div>
                            <div id="ObjectSerializer.serialize_object" class="classattr">
                                        <input id="ObjectSerializer.serialize_object-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">serialize_object</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="ObjectSerializer.serialize_object-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObjectSerializer.serialize_object"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObjectSerializer.serialize_object-689"><a href="#ObjectSerializer.serialize_object-689"><span class="linenos">689</span></a>    <span class="k">def</span> <span class="nf">serialize_object</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ObjectSerializer.serialize_object-690"><a href="#ObjectSerializer.serialize_object-690"><span class="linenos">690</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Serializes the object to a JSON file.&quot;&quot;&quot;</span>
</span><span id="ObjectSerializer.serialize_object-691"><a href="#ObjectSerializer.serialize_object-691"><span class="linenos">691</span></a>        <span class="n">tmp_object_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="si">}</span><span class="s2">.json&quot;</span><span class="p">),</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</span><span id="ObjectSerializer.serialize_object-692"><a href="#ObjectSerializer.serialize_object-692"><span class="linenos">692</span></a>        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="p">,</span> <span class="n">tmp_object_file</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</span><span id="ObjectSerializer.serialize_object-693"><a href="#ObjectSerializer.serialize_object-693"><span class="linenos">693</span></a>        <span class="n">tmp_object_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Serializes the object to a JSON file.</p>
</div>


                            </div>
                </section>
                <section id="ObjectDeserializer">
                            <input id="ObjectDeserializer-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ObjectDeserializer</span>:

                <label class="view-source-button" for="ObjectDeserializer-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObjectDeserializer"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObjectDeserializer-696"><a href="#ObjectDeserializer-696"><span class="linenos">696</span></a><span class="k">class</span> <span class="nc">ObjectDeserializer</span><span class="p">:</span>
</span><span id="ObjectDeserializer-697"><a href="#ObjectDeserializer-697"><span class="linenos">697</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Class which deserializes objects.&quot;&quot;&quot;</span>
</span><span id="ObjectDeserializer-698"><a href="#ObjectDeserializer-698"><span class="linenos">698</span></a>
</span><span id="ObjectDeserializer-699"><a href="#ObjectDeserializer-699"><span class="linenos">699</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ObjectDeserializer-700"><a href="#ObjectDeserializer-700"><span class="linenos">700</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>
</span><span id="ObjectDeserializer-701"><a href="#ObjectDeserializer-701"><span class="linenos">701</span></a>
</span><span id="ObjectDeserializer-702"><a href="#ObjectDeserializer-702"><span class="linenos">702</span></a><span class="sd">        Args:</span>
</span><span id="ObjectDeserializer-703"><a href="#ObjectDeserializer-703"><span class="linenos">703</span></a><span class="sd">            filepath: filepath of the json file, without the file name</span>
</span><span id="ObjectDeserializer-704"><a href="#ObjectDeserializer-704"><span class="linenos">704</span></a><span class="sd">            filename: name of the json file WITHOUT .json extension!</span>
</span><span id="ObjectDeserializer-705"><a href="#ObjectDeserializer-705"><span class="linenos">705</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ObjectDeserializer-706"><a href="#ObjectDeserializer-706"><span class="linenos">706</span></a>        <span class="n">tmp_object_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">.json&quot;</span><span class="p">),</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-707"><a href="#ObjectDeserializer-707"><span class="linenos">707</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">tmp_object_file</span><span class="p">)</span>
</span><span id="ObjectDeserializer-708"><a href="#ObjectDeserializer-708"><span class="linenos">708</span></a>
</span><span id="ObjectDeserializer-709"><a href="#ObjectDeserializer-709"><span class="linenos">709</span></a>    <span class="k">def</span> <span class="nf">deserialize_protein</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;protein.Protein&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer-710"><a href="#ObjectDeserializer-710"><span class="linenos">710</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserializes the protein object from a JSON file.&quot;&quot;&quot;</span>
</span><span id="ObjectDeserializer-711"><a href="#ObjectDeserializer-711"><span class="linenos">711</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;export_data_dir&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;None&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer-712"><a href="#ObjectDeserializer-712"><span class="linenos">712</span></a>            <span class="n">update</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;export_data_dir&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>
</span><span id="ObjectDeserializer-713"><a href="#ObjectDeserializer-713"><span class="linenos">713</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">update</span><span class="p">)</span>
</span><span id="ObjectDeserializer-714"><a href="#ObjectDeserializer-714"><span class="linenos">714</span></a>        <span class="n">tmp_protein</span> <span class="o">=</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span><span class="p">(</span>
</span><span id="ObjectDeserializer-715"><a href="#ObjectDeserializer-715"><span class="linenos">715</span></a>            <span class="n">molecule_object</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;filename&quot;</span><span class="p">),</span>  <span class="c1"># important for duplicated proteins</span>
</span><span id="ObjectDeserializer-716"><a href="#ObjectDeserializer-716"><span class="linenos">716</span></a>            <span class="n">proteins_dirname</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proteins_dirname&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer-717"><a href="#ObjectDeserializer-717"><span class="linenos">717</span></a>            <span class="n">pdb_filepath</span><span class="o">=</span><span class="n">path_util</span><span class="o">.</span><span class="n">FilePath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;import_data_dir&quot;</span><span class="p">)),</span>
</span><span id="ObjectDeserializer-718"><a href="#ObjectDeserializer-718"><span class="linenos">718</span></a>        <span class="p">)</span>
</span><span id="ObjectDeserializer-719"><a href="#ObjectDeserializer-719"><span class="linenos">719</span></a>        <span class="n">tmp_protein</span><span class="o">.</span><span class="n">molecule_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;molecule_object&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-720"><a href="#ObjectDeserializer-720"><span class="linenos">720</span></a>        <span class="n">tmp_protein</span><span class="o">.</span><span class="n">pymol_selection</span><span class="o">.</span><span class="n">selection_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;selection&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-721"><a href="#ObjectDeserializer-721"><span class="linenos">721</span></a>        <span class="n">tmp_protein</span><span class="o">.</span><span class="n">chains</span> <span class="o">=</span> <span class="n">protein_util</span><span class="o">.</span><span class="n">create_chains_from_list_of_tuples</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;chains&quot;</span><span class="p">))</span>
</span><span id="ObjectDeserializer-722"><a href="#ObjectDeserializer-722"><span class="linenos">722</span></a>        <span class="n">tmp_protein</span><span class="o">.</span><span class="n">pymol_session_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pymol_session_file&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-723"><a href="#ObjectDeserializer-723"><span class="linenos">723</span></a>        <span class="k">return</span> <span class="n">tmp_protein</span>
</span><span id="ObjectDeserializer-724"><a href="#ObjectDeserializer-724"><span class="linenos">724</span></a>
</span><span id="ObjectDeserializer-725"><a href="#ObjectDeserializer-725"><span class="linenos">725</span></a>    <span class="k">def</span> <span class="nf">deserialize_protein_pair</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;protein_pair.ProteinPair&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer-726"><a href="#ObjectDeserializer-726"><span class="linenos">726</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserialize a protein pair object from a JSON file.&quot;&quot;&quot;</span>
</span><span id="ObjectDeserializer-727"><a href="#ObjectDeserializer-727"><span class="linenos">727</span></a>        <span class="n">tmp_protein_pair</span> <span class="o">=</span> <span class="n">protein_pair</span><span class="o">.</span><span class="n">ProteinPair</span><span class="p">(</span>
</span><span id="ObjectDeserializer-728"><a href="#ObjectDeserializer-728"><span class="linenos">728</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_molecule_object&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer-729"><a href="#ObjectDeserializer-729"><span class="linenos">729</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_molecule_object&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer-730"><a href="#ObjectDeserializer-730"><span class="linenos">730</span></a>            <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;export_dirname&quot;</span><span class="p">)),</span>
</span><span id="ObjectDeserializer-731"><a href="#ObjectDeserializer-731"><span class="linenos">731</span></a>        <span class="p">)</span>
</span><span id="ObjectDeserializer-732"><a href="#ObjectDeserializer-732"><span class="linenos">732</span></a>        <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">pymol_session_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pymol_session_file&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-733"><a href="#ObjectDeserializer-733"><span class="linenos">733</span></a>        <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-734"><a href="#ObjectDeserializer-734"><span class="linenos">734</span></a>
</span><span id="ObjectDeserializer-735"><a href="#ObjectDeserializer-735"><span class="linenos">735</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_export_data_dir&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;None&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer-736"><a href="#ObjectDeserializer-736"><span class="linenos">736</span></a>            <span class="n">export_data_dir</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ObjectDeserializer-737"><a href="#ObjectDeserializer-737"><span class="linenos">737</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ObjectDeserializer-738"><a href="#ObjectDeserializer-738"><span class="linenos">738</span></a>            <span class="n">export_data_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_export_data_dir&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-739"><a href="#ObjectDeserializer-739"><span class="linenos">739</span></a>
</span><span id="ObjectDeserializer-740"><a href="#ObjectDeserializer-740"><span class="linenos">740</span></a>        <span class="n">tmp_protein_1</span> <span class="o">=</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span><span class="p">(</span>
</span><span id="ObjectDeserializer-741"><a href="#ObjectDeserializer-741"><span class="linenos">741</span></a>            <span class="n">molecule_object</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_filename&quot;</span><span class="p">),</span>  <span class="c1"># important for duplicated proteins</span>
</span><span id="ObjectDeserializer-742"><a href="#ObjectDeserializer-742"><span class="linenos">742</span></a>            <span class="n">proteins_dirname</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proteins_dirname&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer-743"><a href="#ObjectDeserializer-743"><span class="linenos">743</span></a>            <span class="n">pdb_filepath</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_import_data_dir&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer-744"><a href="#ObjectDeserializer-744"><span class="linenos">744</span></a>        <span class="p">)</span>
</span><span id="ObjectDeserializer-745"><a href="#ObjectDeserializer-745"><span class="linenos">745</span></a>        <span class="n">tmp_protein_1</span><span class="o">.</span><span class="n">molecule_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_molecule_object&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-746"><a href="#ObjectDeserializer-746"><span class="linenos">746</span></a>        <span class="n">tmp_protein_1</span><span class="o">.</span><span class="n">pymol_selection</span><span class="o">.</span><span class="n">selection_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_selection&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-747"><a href="#ObjectDeserializer-747"><span class="linenos">747</span></a>        <span class="n">tmp_protein_1</span><span class="o">.</span><span class="n">chains</span> <span class="o">=</span> <span class="n">protein_util</span><span class="o">.</span><span class="n">create_chains_from_list_of_tuples</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_chains&quot;</span><span class="p">))</span>
</span><span id="ObjectDeserializer-748"><a href="#ObjectDeserializer-748"><span class="linenos">748</span></a>        <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">ref_obj</span> <span class="o">=</span> <span class="n">tmp_protein_1</span>
</span><span id="ObjectDeserializer-749"><a href="#ObjectDeserializer-749"><span class="linenos">749</span></a>
</span><span id="ObjectDeserializer-750"><a href="#ObjectDeserializer-750"><span class="linenos">750</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_export_data_dir&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;None&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer-751"><a href="#ObjectDeserializer-751"><span class="linenos">751</span></a>            <span class="n">export_data_dir</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ObjectDeserializer-752"><a href="#ObjectDeserializer-752"><span class="linenos">752</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ObjectDeserializer-753"><a href="#ObjectDeserializer-753"><span class="linenos">753</span></a>            <span class="n">export_data_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_export_data_dir&quot;</span><span class="p">)</span>  <span class="c1"># noqa: F841</span>
</span><span id="ObjectDeserializer-754"><a href="#ObjectDeserializer-754"><span class="linenos">754</span></a>        <span class="n">tmp_protein_2</span> <span class="o">=</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span><span class="p">(</span>
</span><span id="ObjectDeserializer-755"><a href="#ObjectDeserializer-755"><span class="linenos">755</span></a>            <span class="n">molecule_object</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_filename&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer-756"><a href="#ObjectDeserializer-756"><span class="linenos">756</span></a>            <span class="c1"># important for duplicated proteins</span>
</span><span id="ObjectDeserializer-757"><a href="#ObjectDeserializer-757"><span class="linenos">757</span></a>            <span class="n">proteins_dirname</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proteins_dirname&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer-758"><a href="#ObjectDeserializer-758"><span class="linenos">758</span></a>            <span class="n">pdb_filepath</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_import_data_dir&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer-759"><a href="#ObjectDeserializer-759"><span class="linenos">759</span></a>        <span class="p">)</span>
</span><span id="ObjectDeserializer-760"><a href="#ObjectDeserializer-760"><span class="linenos">760</span></a>        <span class="n">tmp_protein_2</span><span class="o">.</span><span class="n">molecule_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_molecule_object&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-761"><a href="#ObjectDeserializer-761"><span class="linenos">761</span></a>        <span class="n">tmp_protein_2</span><span class="o">.</span><span class="n">pymol_selection</span><span class="o">.</span><span class="n">selection_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_selection&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-762"><a href="#ObjectDeserializer-762"><span class="linenos">762</span></a>        <span class="n">tmp_protein_2</span><span class="o">.</span><span class="n">chains</span> <span class="o">=</span> <span class="n">protein_util</span><span class="o">.</span><span class="n">create_chains_from_list_of_tuples</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_chains&quot;</span><span class="p">))</span>
</span><span id="ObjectDeserializer-763"><a href="#ObjectDeserializer-763"><span class="linenos">763</span></a>        <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">model_obj</span> <span class="o">=</span> <span class="n">tmp_protein_2</span>
</span><span id="ObjectDeserializer-764"><a href="#ObjectDeserializer-764"><span class="linenos">764</span></a>
</span><span id="ObjectDeserializer-765"><a href="#ObjectDeserializer-765"><span class="linenos">765</span></a>        <span class="k">return</span> <span class="n">tmp_protein_pair</span>
</span><span id="ObjectDeserializer-766"><a href="#ObjectDeserializer-766"><span class="linenos">766</span></a>
</span><span id="ObjectDeserializer-767"><a href="#ObjectDeserializer-767"><span class="linenos">767</span></a>    <span class="k">def</span> <span class="nf">deserialize_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app_settings</span><span class="p">:</span> <span class="s2">&quot;settings.Settings&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;project.Project&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer-768"><a href="#ObjectDeserializer-768"><span class="linenos">768</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserializes the project object from the JSON file.&quot;&quot;&quot;</span>
</span><span id="ObjectDeserializer-769"><a href="#ObjectDeserializer-769"><span class="linenos">769</span></a>        <span class="n">tmp_project</span><span class="p">:</span> <span class="s2">&quot;project.Project&quot;</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">Project</span><span class="p">(</span>
</span><span id="ObjectDeserializer-770"><a href="#ObjectDeserializer-770"><span class="linenos">770</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_project_name&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer-771"><a href="#ObjectDeserializer-771"><span class="linenos">771</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_workspace&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer-772"><a href="#ObjectDeserializer-772"><span class="linenos">772</span></a>        <span class="p">)</span>
</span><span id="ObjectDeserializer-773"><a href="#ObjectDeserializer-773"><span class="linenos">773</span></a>        <span class="n">tmp_project</span><span class="o">.</span><span class="n">set_folder_paths</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_folder_paths&quot;</span><span class="p">))</span>
</span><span id="ObjectDeserializer-774"><a href="#ObjectDeserializer-774"><span class="linenos">774</span></a>        <span class="n">tmp_project</span><span class="o">.</span><span class="n">project_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;project_path&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-775"><a href="#ObjectDeserializer-775"><span class="linenos">775</span></a>        <span class="k">for</span> <span class="n">tmp_protein_json_filepath</span> <span class="ow">in</span> <span class="n">project_util</span><span class="o">.</span><span class="n">get_all_protein_json_filepaths_from_project</span><span class="p">(</span><span class="n">tmp_project</span><span class="p">):</span>
</span><span id="ObjectDeserializer-776"><a href="#ObjectDeserializer-776"><span class="linenos">776</span></a>            <span class="n">tmp_project</span><span class="o">.</span><span class="n">add_existing_protein</span><span class="p">(</span>
</span><span id="ObjectDeserializer-777"><a href="#ObjectDeserializer-777"><span class="linenos">777</span></a>                <span class="n">ObjectDeserializer</span><span class="p">(</span>
</span><span id="ObjectDeserializer-778"><a href="#ObjectDeserializer-778"><span class="linenos">778</span></a>                    <span class="n">tmp_protein_json_filepath</span><span class="o">.</span><span class="n">get_dirname</span><span class="p">(),</span>
</span><span id="ObjectDeserializer-779"><a href="#ObjectDeserializer-779"><span class="linenos">779</span></a>                    <span class="n">tmp_protein_json_filepath</span><span class="o">.</span><span class="n">get_filename</span><span class="p">(),</span>
</span><span id="ObjectDeserializer-780"><a href="#ObjectDeserializer-780"><span class="linenos">780</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">deserialize_protein</span><span class="p">(),</span>
</span><span id="ObjectDeserializer-781"><a href="#ObjectDeserializer-781"><span class="linenos">781</span></a>            <span class="p">)</span>
</span><span id="ObjectDeserializer-782"><a href="#ObjectDeserializer-782"><span class="linenos">782</span></a>        <span class="k">for</span> <span class="n">tmp_protein_pair_json_filepath</span> <span class="ow">in</span> <span class="n">project_util</span><span class="o">.</span><span class="n">get_all_protein_pair_json_filepaths_from_project</span><span class="p">(</span>
</span><span id="ObjectDeserializer-783"><a href="#ObjectDeserializer-783"><span class="linenos">783</span></a>            <span class="n">tmp_project</span><span class="p">,</span>
</span><span id="ObjectDeserializer-784"><a href="#ObjectDeserializer-784"><span class="linenos">784</span></a>        <span class="p">):</span>
</span><span id="ObjectDeserializer-785"><a href="#ObjectDeserializer-785"><span class="linenos">785</span></a>            <span class="n">tmp_project</span><span class="o">.</span><span class="n">add_protein_pair</span><span class="p">(</span>
</span><span id="ObjectDeserializer-786"><a href="#ObjectDeserializer-786"><span class="linenos">786</span></a>                <span class="n">ObjectDeserializer</span><span class="p">(</span>
</span><span id="ObjectDeserializer-787"><a href="#ObjectDeserializer-787"><span class="linenos">787</span></a>                    <span class="n">tmp_protein_pair_json_filepath</span><span class="o">.</span><span class="n">get_dirname</span><span class="p">(),</span>
</span><span id="ObjectDeserializer-788"><a href="#ObjectDeserializer-788"><span class="linenos">788</span></a>                    <span class="n">tmp_protein_pair_json_filepath</span><span class="o">.</span><span class="n">get_filename</span><span class="p">(),</span>
</span><span id="ObjectDeserializer-789"><a href="#ObjectDeserializer-789"><span class="linenos">789</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">deserialize_protein_pair</span><span class="p">(),</span>
</span><span id="ObjectDeserializer-790"><a href="#ObjectDeserializer-790"><span class="linenos">790</span></a>            <span class="p">)</span>
</span><span id="ObjectDeserializer-791"><a href="#ObjectDeserializer-791"><span class="linenos">791</span></a>        <span class="k">for</span> <span class="n">tmp_distance_analysis_json_filepath</span> <span class="ow">in</span> <span class="n">project_util</span><span class="o">.</span><span class="n">get_all_distance_analysis_json_filepaths_from_project</span><span class="p">(</span>
</span><span id="ObjectDeserializer-792"><a href="#ObjectDeserializer-792"><span class="linenos">792</span></a>            <span class="n">tmp_project</span><span class="p">,</span>
</span><span id="ObjectDeserializer-793"><a href="#ObjectDeserializer-793"><span class="linenos">793</span></a>        <span class="p">):</span>
</span><span id="ObjectDeserializer-794"><a href="#ObjectDeserializer-794"><span class="linenos">794</span></a>            <span class="n">tmp_project</span><span class="o">.</span><span class="n">add_distance_analysis</span><span class="p">(</span>
</span><span id="ObjectDeserializer-795"><a href="#ObjectDeserializer-795"><span class="linenos">795</span></a>                <span class="n">ObjectDeserializer</span><span class="p">(</span>
</span><span id="ObjectDeserializer-796"><a href="#ObjectDeserializer-796"><span class="linenos">796</span></a>                    <span class="n">tmp_distance_analysis_json_filepath</span><span class="o">.</span><span class="n">get_dirname</span><span class="p">(),</span>
</span><span id="ObjectDeserializer-797"><a href="#ObjectDeserializer-797"><span class="linenos">797</span></a>                    <span class="n">tmp_distance_analysis_json_filepath</span><span class="o">.</span><span class="n">get_filename</span><span class="p">(),</span>
</span><span id="ObjectDeserializer-798"><a href="#ObjectDeserializer-798"><span class="linenos">798</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">deserialize_distance_analysis</span><span class="p">(</span><span class="n">app_settings</span><span class="o">=</span><span class="n">app_settings</span><span class="p">,</span> <span class="n">app_project</span><span class="o">=</span><span class="n">tmp_project</span><span class="p">),</span>
</span><span id="ObjectDeserializer-799"><a href="#ObjectDeserializer-799"><span class="linenos">799</span></a>            <span class="p">)</span>
</span><span id="ObjectDeserializer-800"><a href="#ObjectDeserializer-800"><span class="linenos">800</span></a>        <span class="k">return</span> <span class="n">tmp_project</span>
</span><span id="ObjectDeserializer-801"><a href="#ObjectDeserializer-801"><span class="linenos">801</span></a>
</span><span id="ObjectDeserializer-802"><a href="#ObjectDeserializer-802"><span class="linenos">802</span></a>    <span class="k">def</span> <span class="nf">deserialize_distance_analysis</span><span class="p">(</span>
</span><span id="ObjectDeserializer-803"><a href="#ObjectDeserializer-803"><span class="linenos">803</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="ObjectDeserializer-804"><a href="#ObjectDeserializer-804"><span class="linenos">804</span></a>        <span class="n">app_settings</span><span class="p">:</span> <span class="s2">&quot;settings.Settings&quot;</span><span class="p">,</span>
</span><span id="ObjectDeserializer-805"><a href="#ObjectDeserializer-805"><span class="linenos">805</span></a>        <span class="n">app_project</span><span class="p">:</span> <span class="s2">&quot;project.Project&quot;</span><span class="p">,</span>
</span><span id="ObjectDeserializer-806"><a href="#ObjectDeserializer-806"><span class="linenos">806</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;distance_analysis.DistanceAnalysis&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer-807"><a href="#ObjectDeserializer-807"><span class="linenos">807</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserializes distance analysis object from a JSON file.&quot;&quot;&quot;</span>
</span><span id="ObjectDeserializer-808"><a href="#ObjectDeserializer-808"><span class="linenos">808</span></a>        <span class="n">tmp_protein_pair</span> <span class="o">=</span> <span class="n">app_project</span><span class="o">.</span><span class="n">search_protein_pair</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;protein_pair_for_analysis_name&quot;</span><span class="p">))</span>
</span><span id="ObjectDeserializer-809"><a href="#ObjectDeserializer-809"><span class="linenos">809</span></a>        <span class="n">tmp_distance_analysis</span> <span class="o">=</span> <span class="n">distance_analysis</span><span class="o">.</span><span class="n">DistanceAnalysis</span><span class="p">(</span><span class="n">tmp_protein_pair</span><span class="p">,</span> <span class="n">app_settings</span><span class="p">)</span>
</span><span id="ObjectDeserializer-810"><a href="#ObjectDeserializer-810"><span class="linenos">810</span></a>        <span class="n">tmp_distance_analysis</span><span class="o">.</span><span class="n">cutoff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cutoff&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-811"><a href="#ObjectDeserializer-811"><span class="linenos">811</span></a>        <span class="n">tmp_distance_analysis</span><span class="o">.</span><span class="n">cycles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cycles&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-812"><a href="#ObjectDeserializer-812"><span class="linenos">812</span></a>        <span class="n">tmp_distance_analysis</span><span class="o">.</span><span class="n">export_dirname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;export_dirname&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-813"><a href="#ObjectDeserializer-813"><span class="linenos">813</span></a>        <span class="n">tmp_distance_analysis</span><span class="o">.</span><span class="n">pymol_session_filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pymol_session_filepath&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-814"><a href="#ObjectDeserializer-814"><span class="linenos">814</span></a>        <span class="k">return</span> <span class="n">tmp_distance_analysis</span>
</span><span id="ObjectDeserializer-815"><a href="#ObjectDeserializer-815"><span class="linenos">815</span></a>
</span><span id="ObjectDeserializer-816"><a href="#ObjectDeserializer-816"><span class="linenos">816</span></a>    <span class="k">def</span> <span class="nf">deserialize_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;settings.Settings&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer-817"><a href="#ObjectDeserializer-817"><span class="linenos">817</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserializes settings object from a JSON file.&quot;&quot;&quot;</span>
</span><span id="ObjectDeserializer-818"><a href="#ObjectDeserializer-818"><span class="linenos">818</span></a>        <span class="n">tmp_settings</span><span class="p">:</span> <span class="n">settings</span><span class="o">.</span><span class="n">Settings</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">Settings</span><span class="p">(</span>
</span><span id="ObjectDeserializer-819"><a href="#ObjectDeserializer-819"><span class="linenos">819</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dir_settings&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer-820"><a href="#ObjectDeserializer-820"><span class="linenos">820</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;filename&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer-821"><a href="#ObjectDeserializer-821"><span class="linenos">821</span></a>        <span class="p">)</span>
</span><span id="ObjectDeserializer-822"><a href="#ObjectDeserializer-822"><span class="linenos">822</span></a>        <span class="k">if</span> <span class="n">safeguard</span><span class="o">.</span><span class="n">Safeguard</span><span class="o">.</span><span class="n">check_filepath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;workspace_path&quot;</span><span class="p">)):</span>
</span><span id="ObjectDeserializer-823"><a href="#ObjectDeserializer-823"><span class="linenos">823</span></a>            <span class="n">tmp_settings</span><span class="o">.</span><span class="n">workspace_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;workspace_path&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-824"><a href="#ObjectDeserializer-824"><span class="linenos">824</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ObjectDeserializer-825"><a href="#ObjectDeserializer-825"><span class="linenos">825</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="ObjectDeserializer-826"><a href="#ObjectDeserializer-826"><span class="linenos">826</span></a>        <span class="k">if</span> <span class="n">safeguard</span><span class="o">.</span><span class="n">Safeguard</span><span class="o">.</span><span class="n">check_if_number_is_positive</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cycles&quot;</span><span class="p">))):</span>
</span><span id="ObjectDeserializer-827"><a href="#ObjectDeserializer-827"><span class="linenos">827</span></a>            <span class="n">tmp_settings</span><span class="o">.</span><span class="n">cycles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cycles&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-828"><a href="#ObjectDeserializer-828"><span class="linenos">828</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ObjectDeserializer-829"><a href="#ObjectDeserializer-829"><span class="linenos">829</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="ObjectDeserializer-830"><a href="#ObjectDeserializer-830"><span class="linenos">830</span></a>        <span class="k">if</span> <span class="n">safeguard</span><span class="o">.</span><span class="n">Safeguard</span><span class="o">.</span><span class="n">check_if_number_is_positive</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cutoff&quot;</span><span class="p">))):</span>
</span><span id="ObjectDeserializer-831"><a href="#ObjectDeserializer-831"><span class="linenos">831</span></a>            <span class="n">tmp_settings</span><span class="o">.</span><span class="n">cutoff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cutoff&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-832"><a href="#ObjectDeserializer-832"><span class="linenos">832</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ObjectDeserializer-833"><a href="#ObjectDeserializer-833"><span class="linenos">833</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="ObjectDeserializer-834"><a href="#ObjectDeserializer-834"><span class="linenos">834</span></a>        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;app_launch&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;app_launch&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="ObjectDeserializer-835"><a href="#ObjectDeserializer-835"><span class="linenos">835</span></a>            <span class="n">tmp_settings</span><span class="o">.</span><span class="n">app_launch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;app_launch&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer-836"><a href="#ObjectDeserializer-836"><span class="linenos">836</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ObjectDeserializer-837"><a href="#ObjectDeserializer-837"><span class="linenos">837</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="ObjectDeserializer-838"><a href="#ObjectDeserializer-838"><span class="linenos">838</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">safeguard</span><span class="o">.</span><span class="n">Safeguard</span><span class="o">.</span><span class="n">check_filepath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dir_settings&quot;</span><span class="p">)):</span>
</span><span id="ObjectDeserializer-839"><a href="#ObjectDeserializer-839"><span class="linenos">839</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="ObjectDeserializer-840"><a href="#ObjectDeserializer-840"><span class="linenos">840</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;filename&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="s2">&quot;settings.json&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer-841"><a href="#ObjectDeserializer-841"><span class="linenos">841</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="ObjectDeserializer-842"><a href="#ObjectDeserializer-842"><span class="linenos">842</span></a>        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;wsl_install&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;wsl_install&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="ObjectDeserializer-843"><a href="#ObjectDeserializer-843"><span class="linenos">843</span></a>            <span class="n">tmp_settings</span><span class="o">.</span><span class="n">wsl_install</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;wsl_install&quot;</span><span class="p">))</span>
</span><span id="ObjectDeserializer-844"><a href="#ObjectDeserializer-844"><span class="linenos">844</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ObjectDeserializer-845"><a href="#ObjectDeserializer-845"><span class="linenos">845</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="ObjectDeserializer-846"><a href="#ObjectDeserializer-846"><span class="linenos">846</span></a>        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;local_colabfold&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;local_colabfold&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="ObjectDeserializer-847"><a href="#ObjectDeserializer-847"><span class="linenos">847</span></a>            <span class="n">tmp_settings</span><span class="o">.</span><span class="n">local_colabfold</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;local_colabfold&quot;</span><span class="p">))</span>
</span><span id="ObjectDeserializer-848"><a href="#ObjectDeserializer-848"><span class="linenos">848</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ObjectDeserializer-849"><a href="#ObjectDeserializer-849"><span class="linenos">849</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="ObjectDeserializer-850"><a href="#ObjectDeserializer-850"><span class="linenos">850</span></a>        <span class="k">return</span> <span class="n">tmp_settings</span>
</span><span id="ObjectDeserializer-851"><a href="#ObjectDeserializer-851"><span class="linenos">851</span></a>
</span><span id="ObjectDeserializer-852"><a href="#ObjectDeserializer-852"><span class="linenos">852</span></a>    <span class="k">def</span> <span class="nf">deserialize_sequence</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;sequence.Sequence&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer-853"><a href="#ObjectDeserializer-853"><span class="linenos">853</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserializes sequence object from a JSON file.&quot;&quot;&quot;</span>
</span><span id="ObjectDeserializer-854"><a href="#ObjectDeserializer-854"><span class="linenos">854</span></a>        <span class="k">return</span> <span class="n">sequence</span><span class="o">.</span><span class="n">Sequence</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sequence&quot;</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Class which deserializes objects.</p>
</div>


                            <div id="ObjectDeserializer.__init__" class="classattr">
                                        <input id="ObjectDeserializer.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ObjectDeserializer</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">filepath</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span>, </span><span class="param"><span class="n">filename</span><span class="p">:</span> <span class="nb">str</span></span>)</span>

                <label class="view-source-button" for="ObjectDeserializer.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObjectDeserializer.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObjectDeserializer.__init__-699"><a href="#ObjectDeserializer.__init__-699"><span class="linenos">699</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ObjectDeserializer.__init__-700"><a href="#ObjectDeserializer.__init__-700"><span class="linenos">700</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>
</span><span id="ObjectDeserializer.__init__-701"><a href="#ObjectDeserializer.__init__-701"><span class="linenos">701</span></a>
</span><span id="ObjectDeserializer.__init__-702"><a href="#ObjectDeserializer.__init__-702"><span class="linenos">702</span></a><span class="sd">        Args:</span>
</span><span id="ObjectDeserializer.__init__-703"><a href="#ObjectDeserializer.__init__-703"><span class="linenos">703</span></a><span class="sd">            filepath: filepath of the json file, without the file name</span>
</span><span id="ObjectDeserializer.__init__-704"><a href="#ObjectDeserializer.__init__-704"><span class="linenos">704</span></a><span class="sd">            filename: name of the json file WITHOUT .json extension!</span>
</span><span id="ObjectDeserializer.__init__-705"><a href="#ObjectDeserializer.__init__-705"><span class="linenos">705</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ObjectDeserializer.__init__-706"><a href="#ObjectDeserializer.__init__-706"><span class="linenos">706</span></a>        <span class="n">tmp_object_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">.json&quot;</span><span class="p">),</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.__init__-707"><a href="#ObjectDeserializer.__init__-707"><span class="linenos">707</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">tmp_object_file</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Constructor.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>filepath:</strong>  filepath of the json file, without the file name</li>
<li><strong>filename:</strong>  name of the json file WITHOUT .json extension!</li>
</ul>
</div>


                            </div>
                            <div id="ObjectDeserializer.object_dict" class="classattr">
                                <div class="attr variable">
            <span class="name">object_dict</span>

        
    </div>
    <a class="headerlink" href="#ObjectDeserializer.object_dict"></a>
    
    

                            </div>
                            <div id="ObjectDeserializer.deserialize_protein" class="classattr">
                                        <input id="ObjectDeserializer.deserialize_protein-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">deserialize_protein</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">pyssa</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">data_structures</span><span class="o">.</span><span class="n">protein</span><span class="o">.</span><span class="n">Protein</span>:</span></span>

                <label class="view-source-button" for="ObjectDeserializer.deserialize_protein-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObjectDeserializer.deserialize_protein"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObjectDeserializer.deserialize_protein-709"><a href="#ObjectDeserializer.deserialize_protein-709"><span class="linenos">709</span></a>    <span class="k">def</span> <span class="nf">deserialize_protein</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;protein.Protein&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_protein-710"><a href="#ObjectDeserializer.deserialize_protein-710"><span class="linenos">710</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserializes the protein object from a JSON file.&quot;&quot;&quot;</span>
</span><span id="ObjectDeserializer.deserialize_protein-711"><a href="#ObjectDeserializer.deserialize_protein-711"><span class="linenos">711</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;export_data_dir&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;None&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_protein-712"><a href="#ObjectDeserializer.deserialize_protein-712"><span class="linenos">712</span></a>            <span class="n">update</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;export_data_dir&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>
</span><span id="ObjectDeserializer.deserialize_protein-713"><a href="#ObjectDeserializer.deserialize_protein-713"><span class="linenos">713</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">update</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_protein-714"><a href="#ObjectDeserializer.deserialize_protein-714"><span class="linenos">714</span></a>        <span class="n">tmp_protein</span> <span class="o">=</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span><span class="p">(</span>
</span><span id="ObjectDeserializer.deserialize_protein-715"><a href="#ObjectDeserializer.deserialize_protein-715"><span class="linenos">715</span></a>            <span class="n">molecule_object</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;filename&quot;</span><span class="p">),</span>  <span class="c1"># important for duplicated proteins</span>
</span><span id="ObjectDeserializer.deserialize_protein-716"><a href="#ObjectDeserializer.deserialize_protein-716"><span class="linenos">716</span></a>            <span class="n">proteins_dirname</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proteins_dirname&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer.deserialize_protein-717"><a href="#ObjectDeserializer.deserialize_protein-717"><span class="linenos">717</span></a>            <span class="n">pdb_filepath</span><span class="o">=</span><span class="n">path_util</span><span class="o">.</span><span class="n">FilePath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;import_data_dir&quot;</span><span class="p">)),</span>
</span><span id="ObjectDeserializer.deserialize_protein-718"><a href="#ObjectDeserializer.deserialize_protein-718"><span class="linenos">718</span></a>        <span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_protein-719"><a href="#ObjectDeserializer.deserialize_protein-719"><span class="linenos">719</span></a>        <span class="n">tmp_protein</span><span class="o">.</span><span class="n">molecule_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;molecule_object&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_protein-720"><a href="#ObjectDeserializer.deserialize_protein-720"><span class="linenos">720</span></a>        <span class="n">tmp_protein</span><span class="o">.</span><span class="n">pymol_selection</span><span class="o">.</span><span class="n">selection_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;selection&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_protein-721"><a href="#ObjectDeserializer.deserialize_protein-721"><span class="linenos">721</span></a>        <span class="n">tmp_protein</span><span class="o">.</span><span class="n">chains</span> <span class="o">=</span> <span class="n">protein_util</span><span class="o">.</span><span class="n">create_chains_from_list_of_tuples</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;chains&quot;</span><span class="p">))</span>
</span><span id="ObjectDeserializer.deserialize_protein-722"><a href="#ObjectDeserializer.deserialize_protein-722"><span class="linenos">722</span></a>        <span class="n">tmp_protein</span><span class="o">.</span><span class="n">pymol_session_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pymol_session_file&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_protein-723"><a href="#ObjectDeserializer.deserialize_protein-723"><span class="linenos">723</span></a>        <span class="k">return</span> <span class="n">tmp_protein</span>
</span></pre></div>


            <div class="docstring"><p>Deserializes the protein object from a JSON file.</p>
</div>


                            </div>
                            <div id="ObjectDeserializer.deserialize_protein_pair" class="classattr">
                                        <input id="ObjectDeserializer.deserialize_protein_pair-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">deserialize_protein_pair</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">pyssa</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">data_structures</span><span class="o">.</span><span class="n">protein_pair</span><span class="o">.</span><span class="n">ProteinPair</span>:</span></span>

                <label class="view-source-button" for="ObjectDeserializer.deserialize_protein_pair-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObjectDeserializer.deserialize_protein_pair"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObjectDeserializer.deserialize_protein_pair-725"><a href="#ObjectDeserializer.deserialize_protein_pair-725"><span class="linenos">725</span></a>    <span class="k">def</span> <span class="nf">deserialize_protein_pair</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;protein_pair.ProteinPair&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-726"><a href="#ObjectDeserializer.deserialize_protein_pair-726"><span class="linenos">726</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserialize a protein pair object from a JSON file.&quot;&quot;&quot;</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-727"><a href="#ObjectDeserializer.deserialize_protein_pair-727"><span class="linenos">727</span></a>        <span class="n">tmp_protein_pair</span> <span class="o">=</span> <span class="n">protein_pair</span><span class="o">.</span><span class="n">ProteinPair</span><span class="p">(</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-728"><a href="#ObjectDeserializer.deserialize_protein_pair-728"><span class="linenos">728</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_molecule_object&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-729"><a href="#ObjectDeserializer.deserialize_protein_pair-729"><span class="linenos">729</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_molecule_object&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-730"><a href="#ObjectDeserializer.deserialize_protein_pair-730"><span class="linenos">730</span></a>            <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;export_dirname&quot;</span><span class="p">)),</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-731"><a href="#ObjectDeserializer.deserialize_protein_pair-731"><span class="linenos">731</span></a>        <span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-732"><a href="#ObjectDeserializer.deserialize_protein_pair-732"><span class="linenos">732</span></a>        <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">pymol_session_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pymol_session_file&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-733"><a href="#ObjectDeserializer.deserialize_protein_pair-733"><span class="linenos">733</span></a>        <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-734"><a href="#ObjectDeserializer.deserialize_protein_pair-734"><span class="linenos">734</span></a>
</span><span id="ObjectDeserializer.deserialize_protein_pair-735"><a href="#ObjectDeserializer.deserialize_protein_pair-735"><span class="linenos">735</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_export_data_dir&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;None&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-736"><a href="#ObjectDeserializer.deserialize_protein_pair-736"><span class="linenos">736</span></a>            <span class="n">export_data_dir</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-737"><a href="#ObjectDeserializer.deserialize_protein_pair-737"><span class="linenos">737</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-738"><a href="#ObjectDeserializer.deserialize_protein_pair-738"><span class="linenos">738</span></a>            <span class="n">export_data_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_export_data_dir&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-739"><a href="#ObjectDeserializer.deserialize_protein_pair-739"><span class="linenos">739</span></a>
</span><span id="ObjectDeserializer.deserialize_protein_pair-740"><a href="#ObjectDeserializer.deserialize_protein_pair-740"><span class="linenos">740</span></a>        <span class="n">tmp_protein_1</span> <span class="o">=</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span><span class="p">(</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-741"><a href="#ObjectDeserializer.deserialize_protein_pair-741"><span class="linenos">741</span></a>            <span class="n">molecule_object</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_filename&quot;</span><span class="p">),</span>  <span class="c1"># important for duplicated proteins</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-742"><a href="#ObjectDeserializer.deserialize_protein_pair-742"><span class="linenos">742</span></a>            <span class="n">proteins_dirname</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proteins_dirname&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-743"><a href="#ObjectDeserializer.deserialize_protein_pair-743"><span class="linenos">743</span></a>            <span class="n">pdb_filepath</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_import_data_dir&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-744"><a href="#ObjectDeserializer.deserialize_protein_pair-744"><span class="linenos">744</span></a>        <span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-745"><a href="#ObjectDeserializer.deserialize_protein_pair-745"><span class="linenos">745</span></a>        <span class="n">tmp_protein_1</span><span class="o">.</span><span class="n">molecule_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_molecule_object&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-746"><a href="#ObjectDeserializer.deserialize_protein_pair-746"><span class="linenos">746</span></a>        <span class="n">tmp_protein_1</span><span class="o">.</span><span class="n">pymol_selection</span><span class="o">.</span><span class="n">selection_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_selection&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-747"><a href="#ObjectDeserializer.deserialize_protein_pair-747"><span class="linenos">747</span></a>        <span class="n">tmp_protein_1</span><span class="o">.</span><span class="n">chains</span> <span class="o">=</span> <span class="n">protein_util</span><span class="o">.</span><span class="n">create_chains_from_list_of_tuples</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_1_chains&quot;</span><span class="p">))</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-748"><a href="#ObjectDeserializer.deserialize_protein_pair-748"><span class="linenos">748</span></a>        <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">ref_obj</span> <span class="o">=</span> <span class="n">tmp_protein_1</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-749"><a href="#ObjectDeserializer.deserialize_protein_pair-749"><span class="linenos">749</span></a>
</span><span id="ObjectDeserializer.deserialize_protein_pair-750"><a href="#ObjectDeserializer.deserialize_protein_pair-750"><span class="linenos">750</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_export_data_dir&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;None&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-751"><a href="#ObjectDeserializer.deserialize_protein_pair-751"><span class="linenos">751</span></a>            <span class="n">export_data_dir</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-752"><a href="#ObjectDeserializer.deserialize_protein_pair-752"><span class="linenos">752</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-753"><a href="#ObjectDeserializer.deserialize_protein_pair-753"><span class="linenos">753</span></a>            <span class="n">export_data_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_export_data_dir&quot;</span><span class="p">)</span>  <span class="c1"># noqa: F841</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-754"><a href="#ObjectDeserializer.deserialize_protein_pair-754"><span class="linenos">754</span></a>        <span class="n">tmp_protein_2</span> <span class="o">=</span> <span class="n">protein</span><span class="o">.</span><span class="n">Protein</span><span class="p">(</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-755"><a href="#ObjectDeserializer.deserialize_protein_pair-755"><span class="linenos">755</span></a>            <span class="n">molecule_object</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_filename&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-756"><a href="#ObjectDeserializer.deserialize_protein_pair-756"><span class="linenos">756</span></a>            <span class="c1"># important for duplicated proteins</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-757"><a href="#ObjectDeserializer.deserialize_protein_pair-757"><span class="linenos">757</span></a>            <span class="n">proteins_dirname</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proteins_dirname&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-758"><a href="#ObjectDeserializer.deserialize_protein_pair-758"><span class="linenos">758</span></a>            <span class="n">pdb_filepath</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_import_data_dir&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-759"><a href="#ObjectDeserializer.deserialize_protein_pair-759"><span class="linenos">759</span></a>        <span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-760"><a href="#ObjectDeserializer.deserialize_protein_pair-760"><span class="linenos">760</span></a>        <span class="n">tmp_protein_2</span><span class="o">.</span><span class="n">molecule_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_molecule_object&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-761"><a href="#ObjectDeserializer.deserialize_protein_pair-761"><span class="linenos">761</span></a>        <span class="n">tmp_protein_2</span><span class="o">.</span><span class="n">pymol_selection</span><span class="o">.</span><span class="n">selection_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_selection&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-762"><a href="#ObjectDeserializer.deserialize_protein_pair-762"><span class="linenos">762</span></a>        <span class="n">tmp_protein_2</span><span class="o">.</span><span class="n">chains</span> <span class="o">=</span> <span class="n">protein_util</span><span class="o">.</span><span class="n">create_chains_from_list_of_tuples</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prot_2_chains&quot;</span><span class="p">))</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-763"><a href="#ObjectDeserializer.deserialize_protein_pair-763"><span class="linenos">763</span></a>        <span class="n">tmp_protein_pair</span><span class="o">.</span><span class="n">model_obj</span> <span class="o">=</span> <span class="n">tmp_protein_2</span>
</span><span id="ObjectDeserializer.deserialize_protein_pair-764"><a href="#ObjectDeserializer.deserialize_protein_pair-764"><span class="linenos">764</span></a>
</span><span id="ObjectDeserializer.deserialize_protein_pair-765"><a href="#ObjectDeserializer.deserialize_protein_pair-765"><span class="linenos">765</span></a>        <span class="k">return</span> <span class="n">tmp_protein_pair</span>
</span></pre></div>


            <div class="docstring"><p>Deserialize a protein pair object from a JSON file.</p>
</div>


                            </div>
                            <div id="ObjectDeserializer.deserialize_project" class="classattr">
                                        <input id="ObjectDeserializer.deserialize_project-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">deserialize_project</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">app_settings</span><span class="p">:</span> <span class="n">pyssa</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">data_structures</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">Settings</span></span><span class="return-annotation">) -> <span class="n">pyssa</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">data_structures</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">Project</span>:</span></span>

                <label class="view-source-button" for="ObjectDeserializer.deserialize_project-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObjectDeserializer.deserialize_project"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObjectDeserializer.deserialize_project-767"><a href="#ObjectDeserializer.deserialize_project-767"><span class="linenos">767</span></a>    <span class="k">def</span> <span class="nf">deserialize_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app_settings</span><span class="p">:</span> <span class="s2">&quot;settings.Settings&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;project.Project&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_project-768"><a href="#ObjectDeserializer.deserialize_project-768"><span class="linenos">768</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserializes the project object from the JSON file.&quot;&quot;&quot;</span>
</span><span id="ObjectDeserializer.deserialize_project-769"><a href="#ObjectDeserializer.deserialize_project-769"><span class="linenos">769</span></a>        <span class="n">tmp_project</span><span class="p">:</span> <span class="s2">&quot;project.Project&quot;</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">Project</span><span class="p">(</span>
</span><span id="ObjectDeserializer.deserialize_project-770"><a href="#ObjectDeserializer.deserialize_project-770"><span class="linenos">770</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_project_name&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer.deserialize_project-771"><a href="#ObjectDeserializer.deserialize_project-771"><span class="linenos">771</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_workspace&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer.deserialize_project-772"><a href="#ObjectDeserializer.deserialize_project-772"><span class="linenos">772</span></a>        <span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_project-773"><a href="#ObjectDeserializer.deserialize_project-773"><span class="linenos">773</span></a>        <span class="n">tmp_project</span><span class="o">.</span><span class="n">set_folder_paths</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_folder_paths&quot;</span><span class="p">))</span>
</span><span id="ObjectDeserializer.deserialize_project-774"><a href="#ObjectDeserializer.deserialize_project-774"><span class="linenos">774</span></a>        <span class="n">tmp_project</span><span class="o">.</span><span class="n">project_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;project_path&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_project-775"><a href="#ObjectDeserializer.deserialize_project-775"><span class="linenos">775</span></a>        <span class="k">for</span> <span class="n">tmp_protein_json_filepath</span> <span class="ow">in</span> <span class="n">project_util</span><span class="o">.</span><span class="n">get_all_protein_json_filepaths_from_project</span><span class="p">(</span><span class="n">tmp_project</span><span class="p">):</span>
</span><span id="ObjectDeserializer.deserialize_project-776"><a href="#ObjectDeserializer.deserialize_project-776"><span class="linenos">776</span></a>            <span class="n">tmp_project</span><span class="o">.</span><span class="n">add_existing_protein</span><span class="p">(</span>
</span><span id="ObjectDeserializer.deserialize_project-777"><a href="#ObjectDeserializer.deserialize_project-777"><span class="linenos">777</span></a>                <span class="n">ObjectDeserializer</span><span class="p">(</span>
</span><span id="ObjectDeserializer.deserialize_project-778"><a href="#ObjectDeserializer.deserialize_project-778"><span class="linenos">778</span></a>                    <span class="n">tmp_protein_json_filepath</span><span class="o">.</span><span class="n">get_dirname</span><span class="p">(),</span>
</span><span id="ObjectDeserializer.deserialize_project-779"><a href="#ObjectDeserializer.deserialize_project-779"><span class="linenos">779</span></a>                    <span class="n">tmp_protein_json_filepath</span><span class="o">.</span><span class="n">get_filename</span><span class="p">(),</span>
</span><span id="ObjectDeserializer.deserialize_project-780"><a href="#ObjectDeserializer.deserialize_project-780"><span class="linenos">780</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">deserialize_protein</span><span class="p">(),</span>
</span><span id="ObjectDeserializer.deserialize_project-781"><a href="#ObjectDeserializer.deserialize_project-781"><span class="linenos">781</span></a>            <span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_project-782"><a href="#ObjectDeserializer.deserialize_project-782"><span class="linenos">782</span></a>        <span class="k">for</span> <span class="n">tmp_protein_pair_json_filepath</span> <span class="ow">in</span> <span class="n">project_util</span><span class="o">.</span><span class="n">get_all_protein_pair_json_filepaths_from_project</span><span class="p">(</span>
</span><span id="ObjectDeserializer.deserialize_project-783"><a href="#ObjectDeserializer.deserialize_project-783"><span class="linenos">783</span></a>            <span class="n">tmp_project</span><span class="p">,</span>
</span><span id="ObjectDeserializer.deserialize_project-784"><a href="#ObjectDeserializer.deserialize_project-784"><span class="linenos">784</span></a>        <span class="p">):</span>
</span><span id="ObjectDeserializer.deserialize_project-785"><a href="#ObjectDeserializer.deserialize_project-785"><span class="linenos">785</span></a>            <span class="n">tmp_project</span><span class="o">.</span><span class="n">add_protein_pair</span><span class="p">(</span>
</span><span id="ObjectDeserializer.deserialize_project-786"><a href="#ObjectDeserializer.deserialize_project-786"><span class="linenos">786</span></a>                <span class="n">ObjectDeserializer</span><span class="p">(</span>
</span><span id="ObjectDeserializer.deserialize_project-787"><a href="#ObjectDeserializer.deserialize_project-787"><span class="linenos">787</span></a>                    <span class="n">tmp_protein_pair_json_filepath</span><span class="o">.</span><span class="n">get_dirname</span><span class="p">(),</span>
</span><span id="ObjectDeserializer.deserialize_project-788"><a href="#ObjectDeserializer.deserialize_project-788"><span class="linenos">788</span></a>                    <span class="n">tmp_protein_pair_json_filepath</span><span class="o">.</span><span class="n">get_filename</span><span class="p">(),</span>
</span><span id="ObjectDeserializer.deserialize_project-789"><a href="#ObjectDeserializer.deserialize_project-789"><span class="linenos">789</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">deserialize_protein_pair</span><span class="p">(),</span>
</span><span id="ObjectDeserializer.deserialize_project-790"><a href="#ObjectDeserializer.deserialize_project-790"><span class="linenos">790</span></a>            <span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_project-791"><a href="#ObjectDeserializer.deserialize_project-791"><span class="linenos">791</span></a>        <span class="k">for</span> <span class="n">tmp_distance_analysis_json_filepath</span> <span class="ow">in</span> <span class="n">project_util</span><span class="o">.</span><span class="n">get_all_distance_analysis_json_filepaths_from_project</span><span class="p">(</span>
</span><span id="ObjectDeserializer.deserialize_project-792"><a href="#ObjectDeserializer.deserialize_project-792"><span class="linenos">792</span></a>            <span class="n">tmp_project</span><span class="p">,</span>
</span><span id="ObjectDeserializer.deserialize_project-793"><a href="#ObjectDeserializer.deserialize_project-793"><span class="linenos">793</span></a>        <span class="p">):</span>
</span><span id="ObjectDeserializer.deserialize_project-794"><a href="#ObjectDeserializer.deserialize_project-794"><span class="linenos">794</span></a>            <span class="n">tmp_project</span><span class="o">.</span><span class="n">add_distance_analysis</span><span class="p">(</span>
</span><span id="ObjectDeserializer.deserialize_project-795"><a href="#ObjectDeserializer.deserialize_project-795"><span class="linenos">795</span></a>                <span class="n">ObjectDeserializer</span><span class="p">(</span>
</span><span id="ObjectDeserializer.deserialize_project-796"><a href="#ObjectDeserializer.deserialize_project-796"><span class="linenos">796</span></a>                    <span class="n">tmp_distance_analysis_json_filepath</span><span class="o">.</span><span class="n">get_dirname</span><span class="p">(),</span>
</span><span id="ObjectDeserializer.deserialize_project-797"><a href="#ObjectDeserializer.deserialize_project-797"><span class="linenos">797</span></a>                    <span class="n">tmp_distance_analysis_json_filepath</span><span class="o">.</span><span class="n">get_filename</span><span class="p">(),</span>
</span><span id="ObjectDeserializer.deserialize_project-798"><a href="#ObjectDeserializer.deserialize_project-798"><span class="linenos">798</span></a>                <span class="p">)</span><span class="o">.</span><span class="n">deserialize_distance_analysis</span><span class="p">(</span><span class="n">app_settings</span><span class="o">=</span><span class="n">app_settings</span><span class="p">,</span> <span class="n">app_project</span><span class="o">=</span><span class="n">tmp_project</span><span class="p">),</span>
</span><span id="ObjectDeserializer.deserialize_project-799"><a href="#ObjectDeserializer.deserialize_project-799"><span class="linenos">799</span></a>            <span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_project-800"><a href="#ObjectDeserializer.deserialize_project-800"><span class="linenos">800</span></a>        <span class="k">return</span> <span class="n">tmp_project</span>
</span></pre></div>


            <div class="docstring"><p>Deserializes the project object from the JSON file.</p>
</div>


                            </div>
                            <div id="ObjectDeserializer.deserialize_distance_analysis" class="classattr">
                                        <input id="ObjectDeserializer.deserialize_distance_analysis-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">deserialize_distance_analysis</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">app_settings</span><span class="p">:</span> <span class="n">pyssa</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">data_structures</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">Settings</span>,</span><span class="param">	<span class="n">app_project</span><span class="p">:</span> <span class="n">pyssa</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">data_structures</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">Project</span></span><span class="return-annotation">) -> <span class="n">pyssa</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">analysis_types</span><span class="o">.</span><span class="n">distance_analysis</span><span class="o">.</span><span class="n">DistanceAnalysis</span>:</span></span>

                <label class="view-source-button" for="ObjectDeserializer.deserialize_distance_analysis-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObjectDeserializer.deserialize_distance_analysis"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObjectDeserializer.deserialize_distance_analysis-802"><a href="#ObjectDeserializer.deserialize_distance_analysis-802"><span class="linenos">802</span></a>    <span class="k">def</span> <span class="nf">deserialize_distance_analysis</span><span class="p">(</span>
</span><span id="ObjectDeserializer.deserialize_distance_analysis-803"><a href="#ObjectDeserializer.deserialize_distance_analysis-803"><span class="linenos">803</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="ObjectDeserializer.deserialize_distance_analysis-804"><a href="#ObjectDeserializer.deserialize_distance_analysis-804"><span class="linenos">804</span></a>        <span class="n">app_settings</span><span class="p">:</span> <span class="s2">&quot;settings.Settings&quot;</span><span class="p">,</span>
</span><span id="ObjectDeserializer.deserialize_distance_analysis-805"><a href="#ObjectDeserializer.deserialize_distance_analysis-805"><span class="linenos">805</span></a>        <span class="n">app_project</span><span class="p">:</span> <span class="s2">&quot;project.Project&quot;</span><span class="p">,</span>
</span><span id="ObjectDeserializer.deserialize_distance_analysis-806"><a href="#ObjectDeserializer.deserialize_distance_analysis-806"><span class="linenos">806</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;distance_analysis.DistanceAnalysis&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_distance_analysis-807"><a href="#ObjectDeserializer.deserialize_distance_analysis-807"><span class="linenos">807</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserializes distance analysis object from a JSON file.&quot;&quot;&quot;</span>
</span><span id="ObjectDeserializer.deserialize_distance_analysis-808"><a href="#ObjectDeserializer.deserialize_distance_analysis-808"><span class="linenos">808</span></a>        <span class="n">tmp_protein_pair</span> <span class="o">=</span> <span class="n">app_project</span><span class="o">.</span><span class="n">search_protein_pair</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;protein_pair_for_analysis_name&quot;</span><span class="p">))</span>
</span><span id="ObjectDeserializer.deserialize_distance_analysis-809"><a href="#ObjectDeserializer.deserialize_distance_analysis-809"><span class="linenos">809</span></a>        <span class="n">tmp_distance_analysis</span> <span class="o">=</span> <span class="n">distance_analysis</span><span class="o">.</span><span class="n">DistanceAnalysis</span><span class="p">(</span><span class="n">tmp_protein_pair</span><span class="p">,</span> <span class="n">app_settings</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_distance_analysis-810"><a href="#ObjectDeserializer.deserialize_distance_analysis-810"><span class="linenos">810</span></a>        <span class="n">tmp_distance_analysis</span><span class="o">.</span><span class="n">cutoff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cutoff&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_distance_analysis-811"><a href="#ObjectDeserializer.deserialize_distance_analysis-811"><span class="linenos">811</span></a>        <span class="n">tmp_distance_analysis</span><span class="o">.</span><span class="n">cycles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cycles&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_distance_analysis-812"><a href="#ObjectDeserializer.deserialize_distance_analysis-812"><span class="linenos">812</span></a>        <span class="n">tmp_distance_analysis</span><span class="o">.</span><span class="n">export_dirname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;export_dirname&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_distance_analysis-813"><a href="#ObjectDeserializer.deserialize_distance_analysis-813"><span class="linenos">813</span></a>        <span class="n">tmp_distance_analysis</span><span class="o">.</span><span class="n">pymol_session_filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pymol_session_filepath&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_distance_analysis-814"><a href="#ObjectDeserializer.deserialize_distance_analysis-814"><span class="linenos">814</span></a>        <span class="k">return</span> <span class="n">tmp_distance_analysis</span>
</span></pre></div>


            <div class="docstring"><p>Deserializes distance analysis object from a JSON file.</p>
</div>


                            </div>
                            <div id="ObjectDeserializer.deserialize_settings" class="classattr">
                                        <input id="ObjectDeserializer.deserialize_settings-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">deserialize_settings</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">pyssa</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">data_structures</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">Settings</span>:</span></span>

                <label class="view-source-button" for="ObjectDeserializer.deserialize_settings-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObjectDeserializer.deserialize_settings"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObjectDeserializer.deserialize_settings-816"><a href="#ObjectDeserializer.deserialize_settings-816"><span class="linenos">816</span></a>    <span class="k">def</span> <span class="nf">deserialize_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;settings.Settings&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_settings-817"><a href="#ObjectDeserializer.deserialize_settings-817"><span class="linenos">817</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserializes settings object from a JSON file.&quot;&quot;&quot;</span>
</span><span id="ObjectDeserializer.deserialize_settings-818"><a href="#ObjectDeserializer.deserialize_settings-818"><span class="linenos">818</span></a>        <span class="n">tmp_settings</span><span class="p">:</span> <span class="n">settings</span><span class="o">.</span><span class="n">Settings</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">Settings</span><span class="p">(</span>
</span><span id="ObjectDeserializer.deserialize_settings-819"><a href="#ObjectDeserializer.deserialize_settings-819"><span class="linenos">819</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dir_settings&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer.deserialize_settings-820"><a href="#ObjectDeserializer.deserialize_settings-820"><span class="linenos">820</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;filename&quot;</span><span class="p">),</span>
</span><span id="ObjectDeserializer.deserialize_settings-821"><a href="#ObjectDeserializer.deserialize_settings-821"><span class="linenos">821</span></a>        <span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_settings-822"><a href="#ObjectDeserializer.deserialize_settings-822"><span class="linenos">822</span></a>        <span class="k">if</span> <span class="n">safeguard</span><span class="o">.</span><span class="n">Safeguard</span><span class="o">.</span><span class="n">check_filepath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;workspace_path&quot;</span><span class="p">)):</span>
</span><span id="ObjectDeserializer.deserialize_settings-823"><a href="#ObjectDeserializer.deserialize_settings-823"><span class="linenos">823</span></a>            <span class="n">tmp_settings</span><span class="o">.</span><span class="n">workspace_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;workspace_path&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_settings-824"><a href="#ObjectDeserializer.deserialize_settings-824"><span class="linenos">824</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_settings-825"><a href="#ObjectDeserializer.deserialize_settings-825"><span class="linenos">825</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="ObjectDeserializer.deserialize_settings-826"><a href="#ObjectDeserializer.deserialize_settings-826"><span class="linenos">826</span></a>        <span class="k">if</span> <span class="n">safeguard</span><span class="o">.</span><span class="n">Safeguard</span><span class="o">.</span><span class="n">check_if_number_is_positive</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cycles&quot;</span><span class="p">))):</span>
</span><span id="ObjectDeserializer.deserialize_settings-827"><a href="#ObjectDeserializer.deserialize_settings-827"><span class="linenos">827</span></a>            <span class="n">tmp_settings</span><span class="o">.</span><span class="n">cycles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cycles&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_settings-828"><a href="#ObjectDeserializer.deserialize_settings-828"><span class="linenos">828</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_settings-829"><a href="#ObjectDeserializer.deserialize_settings-829"><span class="linenos">829</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="ObjectDeserializer.deserialize_settings-830"><a href="#ObjectDeserializer.deserialize_settings-830"><span class="linenos">830</span></a>        <span class="k">if</span> <span class="n">safeguard</span><span class="o">.</span><span class="n">Safeguard</span><span class="o">.</span><span class="n">check_if_number_is_positive</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cutoff&quot;</span><span class="p">))):</span>
</span><span id="ObjectDeserializer.deserialize_settings-831"><a href="#ObjectDeserializer.deserialize_settings-831"><span class="linenos">831</span></a>            <span class="n">tmp_settings</span><span class="o">.</span><span class="n">cutoff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cutoff&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_settings-832"><a href="#ObjectDeserializer.deserialize_settings-832"><span class="linenos">832</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_settings-833"><a href="#ObjectDeserializer.deserialize_settings-833"><span class="linenos">833</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="ObjectDeserializer.deserialize_settings-834"><a href="#ObjectDeserializer.deserialize_settings-834"><span class="linenos">834</span></a>        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;app_launch&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;app_launch&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_settings-835"><a href="#ObjectDeserializer.deserialize_settings-835"><span class="linenos">835</span></a>            <span class="n">tmp_settings</span><span class="o">.</span><span class="n">app_launch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;app_launch&quot;</span><span class="p">)</span>
</span><span id="ObjectDeserializer.deserialize_settings-836"><a href="#ObjectDeserializer.deserialize_settings-836"><span class="linenos">836</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_settings-837"><a href="#ObjectDeserializer.deserialize_settings-837"><span class="linenos">837</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="ObjectDeserializer.deserialize_settings-838"><a href="#ObjectDeserializer.deserialize_settings-838"><span class="linenos">838</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">safeguard</span><span class="o">.</span><span class="n">Safeguard</span><span class="o">.</span><span class="n">check_filepath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dir_settings&quot;</span><span class="p">)):</span>
</span><span id="ObjectDeserializer.deserialize_settings-839"><a href="#ObjectDeserializer.deserialize_settings-839"><span class="linenos">839</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="ObjectDeserializer.deserialize_settings-840"><a href="#ObjectDeserializer.deserialize_settings-840"><span class="linenos">840</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;filename&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="s2">&quot;settings.json&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_settings-841"><a href="#ObjectDeserializer.deserialize_settings-841"><span class="linenos">841</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="ObjectDeserializer.deserialize_settings-842"><a href="#ObjectDeserializer.deserialize_settings-842"><span class="linenos">842</span></a>        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;wsl_install&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;wsl_install&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_settings-843"><a href="#ObjectDeserializer.deserialize_settings-843"><span class="linenos">843</span></a>            <span class="n">tmp_settings</span><span class="o">.</span><span class="n">wsl_install</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;wsl_install&quot;</span><span class="p">))</span>
</span><span id="ObjectDeserializer.deserialize_settings-844"><a href="#ObjectDeserializer.deserialize_settings-844"><span class="linenos">844</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_settings-845"><a href="#ObjectDeserializer.deserialize_settings-845"><span class="linenos">845</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="ObjectDeserializer.deserialize_settings-846"><a href="#ObjectDeserializer.deserialize_settings-846"><span class="linenos">846</span></a>        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;local_colabfold&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;local_colabfold&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_settings-847"><a href="#ObjectDeserializer.deserialize_settings-847"><span class="linenos">847</span></a>            <span class="n">tmp_settings</span><span class="o">.</span><span class="n">local_colabfold</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;local_colabfold&quot;</span><span class="p">))</span>
</span><span id="ObjectDeserializer.deserialize_settings-848"><a href="#ObjectDeserializer.deserialize_settings-848"><span class="linenos">848</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_settings-849"><a href="#ObjectDeserializer.deserialize_settings-849"><span class="linenos">849</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span>
</span><span id="ObjectDeserializer.deserialize_settings-850"><a href="#ObjectDeserializer.deserialize_settings-850"><span class="linenos">850</span></a>        <span class="k">return</span> <span class="n">tmp_settings</span>
</span></pre></div>


            <div class="docstring"><p>Deserializes settings object from a JSON file.</p>
</div>


                            </div>
                            <div id="ObjectDeserializer.deserialize_sequence" class="classattr">
                                        <input id="ObjectDeserializer.deserialize_sequence-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">deserialize_sequence</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">pyssa</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">data_structures</span><span class="o">.</span><span class="n">sequence</span><span class="o">.</span><span class="n">Sequence</span>:</span></span>

                <label class="view-source-button" for="ObjectDeserializer.deserialize_sequence-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObjectDeserializer.deserialize_sequence"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObjectDeserializer.deserialize_sequence-852"><a href="#ObjectDeserializer.deserialize_sequence-852"><span class="linenos">852</span></a>    <span class="k">def</span> <span class="nf">deserialize_sequence</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;sequence.Sequence&quot;</span><span class="p">:</span>
</span><span id="ObjectDeserializer.deserialize_sequence-853"><a href="#ObjectDeserializer.deserialize_sequence-853"><span class="linenos">853</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserializes sequence object from a JSON file.&quot;&quot;&quot;</span>
</span><span id="ObjectDeserializer.deserialize_sequence-854"><a href="#ObjectDeserializer.deserialize_sequence-854"><span class="linenos">854</span></a>        <span class="k">return</span> <span class="n">sequence</span><span class="o">.</span><span class="n">Sequence</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sequence&quot;</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Deserializes sequence object from a JSON file.</p>
</div>


                            </div>
                </section>
                <section id="WorkspaceScanner">
                            <input id="WorkspaceScanner-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">WorkspaceScanner</span>:

                <label class="view-source-button" for="WorkspaceScanner-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#WorkspaceScanner"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="WorkspaceScanner-857"><a href="#WorkspaceScanner-857"><span class="linenos">857</span></a><span class="k">class</span> <span class="nc">WorkspaceScanner</span><span class="p">:</span>
</span><span id="WorkspaceScanner-858"><a href="#WorkspaceScanner-858"><span class="linenos">858</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Class to scan the workspace.&quot;&quot;&quot;</span>
</span><span id="WorkspaceScanner-859"><a href="#WorkspaceScanner-859"><span class="linenos">859</span></a>
</span><span id="WorkspaceScanner-860"><a href="#WorkspaceScanner-860"><span class="linenos">860</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="WorkspaceScanner-861"><a href="#WorkspaceScanner-861"><span class="linenos">861</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>
</span><span id="WorkspaceScanner-862"><a href="#WorkspaceScanner-862"><span class="linenos">862</span></a>
</span><span id="WorkspaceScanner-863"><a href="#WorkspaceScanner-863"><span class="linenos">863</span></a><span class="sd">        Args:</span>
</span><span id="WorkspaceScanner-864"><a href="#WorkspaceScanner-864"><span class="linenos">864</span></a><span class="sd">            workspace_path: the path to the workspace.</span>
</span><span id="WorkspaceScanner-865"><a href="#WorkspaceScanner-865"><span class="linenos">865</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="WorkspaceScanner-866"><a href="#WorkspaceScanner-866"><span class="linenos">866</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">workspace_path</span> <span class="o">=</span> <span class="n">workspace_path</span>
</span><span id="WorkspaceScanner-867"><a href="#WorkspaceScanner-867"><span class="linenos">867</span></a>
</span><span id="WorkspaceScanner-868"><a href="#WorkspaceScanner-868"><span class="linenos">868</span></a>    <span class="k">def</span> <span class="nf">scan_workspace_for_valid_projects</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="WorkspaceScanner-869"><a href="#WorkspaceScanner-869"><span class="linenos">869</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scans the workspace for valid projects.&quot;&quot;&quot;</span>
</span><span id="WorkspaceScanner-870"><a href="#WorkspaceScanner-870"><span class="linenos">870</span></a>        <span class="n">directory_content</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace_path</span><span class="p">))</span>
</span><span id="WorkspaceScanner-871"><a href="#WorkspaceScanner-871"><span class="linenos">871</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">file</span> <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">directory_content</span> <span class="k">if</span> <span class="n">file</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.xml&quot;</span><span class="p">)]</span>
</span><span id="WorkspaceScanner-872"><a href="#WorkspaceScanner-872"><span class="linenos">872</span></a>
</span><span id="WorkspaceScanner-873"><a href="#WorkspaceScanner-873"><span class="linenos">873</span></a>    <span class="k">def</span> <span class="nf">scan_workspace_for_non_duplicate_proteins</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
</span><span id="WorkspaceScanner-874"><a href="#WorkspaceScanner-874"><span class="linenos">874</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scans the workspace for non-duplicate proteins.&quot;&quot;&quot;</span>
</span><span id="WorkspaceScanner-875"><a href="#WorkspaceScanner-875"><span class="linenos">875</span></a>        <span class="n">tmp_workspace_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace_path</span><span class="p">)</span>
</span><span id="WorkspaceScanner-876"><a href="#WorkspaceScanner-876"><span class="linenos">876</span></a>        <span class="c1"># List of XML file paths</span>
</span><span id="WorkspaceScanner-877"><a href="#WorkspaceScanner-877"><span class="linenos">877</span></a>        <span class="n">xml_files</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="WorkspaceScanner-878"><a href="#WorkspaceScanner-878"><span class="linenos">878</span></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tmp_workspace_path</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">tmp_project_file</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="WorkspaceScanner-879"><a href="#WorkspaceScanner-879"><span class="linenos">879</span></a>            <span class="k">for</span> <span class="n">tmp_project_file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">tmp_workspace_path</span><span class="p">)</span>
</span><span id="WorkspaceScanner-880"><a href="#WorkspaceScanner-880"><span class="linenos">880</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tmp_workspace_path</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">tmp_project_file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
</span><span id="WorkspaceScanner-881"><a href="#WorkspaceScanner-881"><span class="linenos">881</span></a>        <span class="p">]</span>
</span><span id="WorkspaceScanner-882"><a href="#WorkspaceScanner-882"><span class="linenos">882</span></a>        <span class="c1"># Using ThreadPoolExecutor to read XML files in parallel</span>
</span><span id="WorkspaceScanner-883"><a href="#WorkspaceScanner-883"><span class="linenos">883</span></a>        <span class="k">with</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">ThreadPoolExecutor</span><span class="p">()</span> <span class="k">as</span> <span class="n">executor</span><span class="p">:</span>
</span><span id="WorkspaceScanner-884"><a href="#WorkspaceScanner-884"><span class="linenos">884</span></a>            <span class="c1"># Create a queue and a lock for thread safety</span>
</span><span id="WorkspaceScanner-885"><a href="#WorkspaceScanner-885"><span class="linenos">885</span></a>            <span class="n">result_queue</span> <span class="o">=</span> <span class="n">Queue</span><span class="p">()</span>
</span><span id="WorkspaceScanner-886"><a href="#WorkspaceScanner-886"><span class="linenos">886</span></a>            <span class="n">lock</span> <span class="o">=</span> <span class="n">Lock</span><span class="p">()</span>
</span><span id="WorkspaceScanner-887"><a href="#WorkspaceScanner-887"><span class="linenos">887</span></a>
</span><span id="WorkspaceScanner-888"><a href="#WorkspaceScanner-888"><span class="linenos">888</span></a>            <span class="c1"># Map each XML file to the read_xml_file function in parallel</span>
</span><span id="WorkspaceScanner-889"><a href="#WorkspaceScanner-889"><span class="linenos">889</span></a>            <span class="n">futures</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="WorkspaceScanner-890"><a href="#WorkspaceScanner-890"><span class="linenos">890</span></a>                <span class="n">executor</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_proteins_of_project_xml</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">),</span> <span class="n">result_queue</span><span class="p">,</span> <span class="n">lock</span><span class="p">)</span>
</span><span id="WorkspaceScanner-891"><a href="#WorkspaceScanner-891"><span class="linenos">891</span></a>                <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">xml_files</span>
</span><span id="WorkspaceScanner-892"><a href="#WorkspaceScanner-892"><span class="linenos">892</span></a>            <span class="p">]</span>
</span><span id="WorkspaceScanner-893"><a href="#WorkspaceScanner-893"><span class="linenos">893</span></a>
</span><span id="WorkspaceScanner-894"><a href="#WorkspaceScanner-894"><span class="linenos">894</span></a>            <span class="c1"># Wait for all tasks to complete</span>
</span><span id="WorkspaceScanner-895"><a href="#WorkspaceScanner-895"><span class="linenos">895</span></a>            <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="n">futures</span><span class="p">)</span>
</span><span id="WorkspaceScanner-896"><a href="#WorkspaceScanner-896"><span class="linenos">896</span></a>
</span><span id="WorkspaceScanner-897"><a href="#WorkspaceScanner-897"><span class="linenos">897</span></a>            <span class="c1"># Retrieve results from the queue in the main thread</span>
</span><span id="WorkspaceScanner-898"><a href="#WorkspaceScanner-898"><span class="linenos">898</span></a>            <span class="n">all_proteins_of_workspace</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span><span class="p">()</span>
</span><span id="WorkspaceScanner-899"><a href="#WorkspaceScanner-899"><span class="linenos">899</span></a>            <span class="k">while</span> <span class="ow">not</span> <span class="n">result_queue</span><span class="o">.</span><span class="n">empty</span><span class="p">():</span>
</span><span id="WorkspaceScanner-900"><a href="#WorkspaceScanner-900"><span class="linenos">900</span></a>                <span class="n">result</span> <span class="o">=</span> <span class="n">result_queue</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="WorkspaceScanner-901"><a href="#WorkspaceScanner-901"><span class="linenos">901</span></a>                <span class="n">protein_name</span><span class="p">,</span> <span class="n">protein_info</span> <span class="o">=</span> <span class="n">result</span>
</span><span id="WorkspaceScanner-902"><a href="#WorkspaceScanner-902"><span class="linenos">902</span></a>                <span class="n">all_proteins_of_workspace</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="WorkspaceScanner-903"><a href="#WorkspaceScanner-903"><span class="linenos">903</span></a>                <span class="c1"># print(f&quot;Name: {protein_name}, Info: {protein_info}&quot;)</span>
</span><span id="WorkspaceScanner-904"><a href="#WorkspaceScanner-904"><span class="linenos">904</span></a>            <span class="n">flatten_proteins</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="o">*</span><span class="n">all_proteins_of_workspace</span><span class="p">))</span>
</span><span id="WorkspaceScanner-905"><a href="#WorkspaceScanner-905"><span class="linenos">905</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">flatten_proteins</span><span class="p">)</span>
</span><span id="WorkspaceScanner-906"><a href="#WorkspaceScanner-906"><span class="linenos">906</span></a>            <span class="c1"># Use a set to store unique elements</span>
</span><span id="WorkspaceScanner-907"><a href="#WorkspaceScanner-907"><span class="linenos">907</span></a>            <span class="n">unique_proteins_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="WorkspaceScanner-908"><a href="#WorkspaceScanner-908"><span class="linenos">908</span></a>            <span class="c1"># Iterate through the list and add unique elements to the set</span>
</span><span id="WorkspaceScanner-909"><a href="#WorkspaceScanner-909"><span class="linenos">909</span></a>            <span class="k">for</span> <span class="n">tmp_protein</span> <span class="ow">in</span> <span class="n">flatten_proteins</span><span class="p">:</span>
</span><span id="WorkspaceScanner-910"><a href="#WorkspaceScanner-910"><span class="linenos">910</span></a>                <span class="n">unique_proteins_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tmp_protein</span><span class="p">)</span>
</span><span id="WorkspaceScanner-911"><a href="#WorkspaceScanner-911"><span class="linenos">911</span></a>
</span><span id="WorkspaceScanner-912"><a href="#WorkspaceScanner-912"><span class="linenos">912</span></a>            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">unique_proteins_set</span><span class="p">))</span>
</span><span id="WorkspaceScanner-913"><a href="#WorkspaceScanner-913"><span class="linenos">913</span></a>
</span><span id="WorkspaceScanner-914"><a href="#WorkspaceScanner-914"><span class="linenos">914</span></a>    <span class="k">def</span> <span class="nf">_get_proteins_of_project_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xml_filepath</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">result_queue</span><span class="p">,</span> <span class="n">lock</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># noqa: ANN001</span>
</span><span id="WorkspaceScanner-915"><a href="#WorkspaceScanner-915"><span class="linenos">915</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the protein information from the project xml file.</span>
</span><span id="WorkspaceScanner-916"><a href="#WorkspaceScanner-916"><span class="linenos">916</span></a>
</span><span id="WorkspaceScanner-917"><a href="#WorkspaceScanner-917"><span class="linenos">917</span></a><span class="sd">        Args:</span>
</span><span id="WorkspaceScanner-918"><a href="#WorkspaceScanner-918"><span class="linenos">918</span></a><span class="sd">            xml_filepath: a path to the project xml file.</span>
</span><span id="WorkspaceScanner-919"><a href="#WorkspaceScanner-919"><span class="linenos">919</span></a><span class="sd">            result_queue: a queue to put the protein information into.</span>
</span><span id="WorkspaceScanner-920"><a href="#WorkspaceScanner-920"><span class="linenos">920</span></a><span class="sd">            lock: a lock to prevent the unauthorized access to the memory.</span>
</span><span id="WorkspaceScanner-921"><a href="#WorkspaceScanner-921"><span class="linenos">921</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="WorkspaceScanner-922"><a href="#WorkspaceScanner-922"><span class="linenos">922</span></a>        <span class="n">tmp_protein_names</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span><span class="p">()</span>
</span><span id="WorkspaceScanner-923"><a href="#WorkspaceScanner-923"><span class="linenos">923</span></a>        <span class="n">tmp_protein_infos</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span><span class="p">()</span>
</span><span id="WorkspaceScanner-924"><a href="#WorkspaceScanner-924"><span class="linenos">924</span></a>        <span class="n">xml_deserializer</span> <span class="o">=</span> <span class="n">XmlDeserializer</span><span class="p">(</span><span class="n">xml_filepath</span><span class="p">)</span>
</span><span id="WorkspaceScanner-925"><a href="#WorkspaceScanner-925"><span class="linenos">925</span></a>        <span class="n">project_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">xml_filepath</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.xml&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="WorkspaceScanner-926"><a href="#WorkspaceScanner-926"><span class="linenos">926</span></a>        <span class="k">for</span> <span class="n">tmp_protein</span> <span class="ow">in</span> <span class="n">xml_deserializer</span><span class="o">.</span><span class="n">xml_root</span><span class="o">.</span><span class="n">iter</span><span class="p">(</span><span class="n">element_names</span><span class="o">.</span><span class="n">PROTEIN</span><span class="p">):</span>
</span><span id="WorkspaceScanner-927"><a href="#WorkspaceScanner-927"><span class="linenos">927</span></a>            <span class="n">molecule_object</span> <span class="o">=</span> <span class="n">tmp_protein</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">PROTEIN_MOLECULE_OBJECT</span><span class="p">]</span>
</span><span id="WorkspaceScanner-928"><a href="#WorkspaceScanner-928"><span class="linenos">928</span></a>            <span class="k">if</span> <span class="n">molecule_object</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tmp_protein_names</span><span class="p">:</span>
</span><span id="WorkspaceScanner-929"><a href="#WorkspaceScanner-929"><span class="linenos">929</span></a>                <span class="n">tmp_protein_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">molecule_object</span><span class="p">)</span>
</span><span id="WorkspaceScanner-930"><a href="#WorkspaceScanner-930"><span class="linenos">930</span></a>                <span class="n">tmp_protein_infos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="WorkspaceScanner-931"><a href="#WorkspaceScanner-931"><span class="linenos">931</span></a>                    <span class="n">basic_protein_info</span><span class="o">.</span><span class="n">BasicProteinInfo</span><span class="p">(</span>
</span><span id="WorkspaceScanner-932"><a href="#WorkspaceScanner-932"><span class="linenos">932</span></a>                        <span class="n">molecule_object</span><span class="p">,</span>
</span><span id="WorkspaceScanner-933"><a href="#WorkspaceScanner-933"><span class="linenos">933</span></a>                        <span class="n">tmp_protein</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="n">attribute_names</span><span class="o">.</span><span class="n">ID</span><span class="p">],</span>
</span><span id="WorkspaceScanner-934"><a href="#WorkspaceScanner-934"><span class="linenos">934</span></a>                        <span class="n">project_name</span><span class="p">,</span>
</span><span id="WorkspaceScanner-935"><a href="#WorkspaceScanner-935"><span class="linenos">935</span></a>                    <span class="p">),</span>
</span><span id="WorkspaceScanner-936"><a href="#WorkspaceScanner-936"><span class="linenos">936</span></a>                <span class="p">)</span>
</span><span id="WorkspaceScanner-937"><a href="#WorkspaceScanner-937"><span class="linenos">937</span></a>        <span class="k">with</span> <span class="n">lock</span><span class="p">:</span>
</span><span id="WorkspaceScanner-938"><a href="#WorkspaceScanner-938"><span class="linenos">938</span></a>            <span class="n">result_queue</span><span class="o">.</span><span class="n">put</span><span class="p">((</span><span class="nb">list</span><span class="p">(</span><span class="n">tmp_protein_names</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="n">tmp_protein_infos</span><span class="p">)))</span>
</span></pre></div>


            <div class="docstring"><p>Class to scan the workspace.</p>
</div>


                            <div id="WorkspaceScanner.__init__" class="classattr">
                                        <input id="WorkspaceScanner.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">WorkspaceScanner</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">workspace_path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span></span>)</span>

                <label class="view-source-button" for="WorkspaceScanner.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#WorkspaceScanner.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="WorkspaceScanner.__init__-860"><a href="#WorkspaceScanner.__init__-860"><span class="linenos">860</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="WorkspaceScanner.__init__-861"><a href="#WorkspaceScanner.__init__-861"><span class="linenos">861</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>
</span><span id="WorkspaceScanner.__init__-862"><a href="#WorkspaceScanner.__init__-862"><span class="linenos">862</span></a>
</span><span id="WorkspaceScanner.__init__-863"><a href="#WorkspaceScanner.__init__-863"><span class="linenos">863</span></a><span class="sd">        Args:</span>
</span><span id="WorkspaceScanner.__init__-864"><a href="#WorkspaceScanner.__init__-864"><span class="linenos">864</span></a><span class="sd">            workspace_path: the path to the workspace.</span>
</span><span id="WorkspaceScanner.__init__-865"><a href="#WorkspaceScanner.__init__-865"><span class="linenos">865</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="WorkspaceScanner.__init__-866"><a href="#WorkspaceScanner.__init__-866"><span class="linenos">866</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">workspace_path</span> <span class="o">=</span> <span class="n">workspace_path</span>
</span></pre></div>


            <div class="docstring"><p>Constructor.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>workspace_path:</strong>  the path to the workspace.</li>
</ul>
</div>


                            </div>
                            <div id="WorkspaceScanner.workspace_path" class="classattr">
                                <div class="attr variable">
            <span class="name">workspace_path</span>

        
    </div>
    <a class="headerlink" href="#WorkspaceScanner.workspace_path"></a>
    
    

                            </div>
                            <div id="WorkspaceScanner.scan_workspace_for_valid_projects" class="classattr">
                                        <input id="WorkspaceScanner.scan_workspace_for_valid_projects-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">scan_workspace_for_valid_projects</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="WorkspaceScanner.scan_workspace_for_valid_projects-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#WorkspaceScanner.scan_workspace_for_valid_projects"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="WorkspaceScanner.scan_workspace_for_valid_projects-868"><a href="#WorkspaceScanner.scan_workspace_for_valid_projects-868"><span class="linenos">868</span></a>    <span class="k">def</span> <span class="nf">scan_workspace_for_valid_projects</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="WorkspaceScanner.scan_workspace_for_valid_projects-869"><a href="#WorkspaceScanner.scan_workspace_for_valid_projects-869"><span class="linenos">869</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scans the workspace for valid projects.&quot;&quot;&quot;</span>
</span><span id="WorkspaceScanner.scan_workspace_for_valid_projects-870"><a href="#WorkspaceScanner.scan_workspace_for_valid_projects-870"><span class="linenos">870</span></a>        <span class="n">directory_content</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace_path</span><span class="p">))</span>
</span><span id="WorkspaceScanner.scan_workspace_for_valid_projects-871"><a href="#WorkspaceScanner.scan_workspace_for_valid_projects-871"><span class="linenos">871</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">file</span> <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">directory_content</span> <span class="k">if</span> <span class="n">file</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.xml&quot;</span><span class="p">)]</span>
</span></pre></div>


            <div class="docstring"><p>Scans the workspace for valid projects.</p>
</div>


                            </div>
                            <div id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins" class="classattr">
                                        <input id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">scan_workspace_for_non_duplicate_proteins</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span>:</span></span>

                <label class="view-source-button" for="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-873"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-873"><span class="linenos">873</span></a>    <span class="k">def</span> <span class="nf">scan_workspace_for_non_duplicate_proteins</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-874"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-874"><span class="linenos">874</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scans the workspace for non-duplicate proteins.&quot;&quot;&quot;</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-875"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-875"><span class="linenos">875</span></a>        <span class="n">tmp_workspace_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace_path</span><span class="p">)</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-876"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-876"><span class="linenos">876</span></a>        <span class="c1"># List of XML file paths</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-877"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-877"><span class="linenos">877</span></a>        <span class="n">xml_files</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-878"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-878"><span class="linenos">878</span></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tmp_workspace_path</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">tmp_project_file</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-879"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-879"><span class="linenos">879</span></a>            <span class="k">for</span> <span class="n">tmp_project_file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">tmp_workspace_path</span><span class="p">)</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-880"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-880"><span class="linenos">880</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tmp_workspace_path</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">tmp_project_file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-881"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-881"><span class="linenos">881</span></a>        <span class="p">]</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-882"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-882"><span class="linenos">882</span></a>        <span class="c1"># Using ThreadPoolExecutor to read XML files in parallel</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-883"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-883"><span class="linenos">883</span></a>        <span class="k">with</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">ThreadPoolExecutor</span><span class="p">()</span> <span class="k">as</span> <span class="n">executor</span><span class="p">:</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-884"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-884"><span class="linenos">884</span></a>            <span class="c1"># Create a queue and a lock for thread safety</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-885"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-885"><span class="linenos">885</span></a>            <span class="n">result_queue</span> <span class="o">=</span> <span class="n">Queue</span><span class="p">()</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-886"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-886"><span class="linenos">886</span></a>            <span class="n">lock</span> <span class="o">=</span> <span class="n">Lock</span><span class="p">()</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-887"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-887"><span class="linenos">887</span></a>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-888"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-888"><span class="linenos">888</span></a>            <span class="c1"># Map each XML file to the read_xml_file function in parallel</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-889"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-889"><span class="linenos">889</span></a>            <span class="n">futures</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-890"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-890"><span class="linenos">890</span></a>                <span class="n">executor</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_proteins_of_project_xml</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">),</span> <span class="n">result_queue</span><span class="p">,</span> <span class="n">lock</span><span class="p">)</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-891"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-891"><span class="linenos">891</span></a>                <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">xml_files</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-892"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-892"><span class="linenos">892</span></a>            <span class="p">]</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-893"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-893"><span class="linenos">893</span></a>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-894"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-894"><span class="linenos">894</span></a>            <span class="c1"># Wait for all tasks to complete</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-895"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-895"><span class="linenos">895</span></a>            <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="n">futures</span><span class="p">)</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-896"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-896"><span class="linenos">896</span></a>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-897"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-897"><span class="linenos">897</span></a>            <span class="c1"># Retrieve results from the queue in the main thread</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-898"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-898"><span class="linenos">898</span></a>            <span class="n">all_proteins_of_workspace</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span><span class="p">()</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-899"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-899"><span class="linenos">899</span></a>            <span class="k">while</span> <span class="ow">not</span> <span class="n">result_queue</span><span class="o">.</span><span class="n">empty</span><span class="p">():</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-900"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-900"><span class="linenos">900</span></a>                <span class="n">result</span> <span class="o">=</span> <span class="n">result_queue</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-901"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-901"><span class="linenos">901</span></a>                <span class="n">protein_name</span><span class="p">,</span> <span class="n">protein_info</span> <span class="o">=</span> <span class="n">result</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-902"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-902"><span class="linenos">902</span></a>                <span class="n">all_proteins_of_workspace</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-903"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-903"><span class="linenos">903</span></a>                <span class="c1"># print(f&quot;Name: {protein_name}, Info: {protein_info}&quot;)</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-904"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-904"><span class="linenos">904</span></a>            <span class="n">flatten_proteins</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="o">*</span><span class="n">all_proteins_of_workspace</span><span class="p">))</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-905"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-905"><span class="linenos">905</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">flatten_proteins</span><span class="p">)</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-906"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-906"><span class="linenos">906</span></a>            <span class="c1"># Use a set to store unique elements</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-907"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-907"><span class="linenos">907</span></a>            <span class="n">unique_proteins_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-908"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-908"><span class="linenos">908</span></a>            <span class="c1"># Iterate through the list and add unique elements to the set</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-909"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-909"><span class="linenos">909</span></a>            <span class="k">for</span> <span class="n">tmp_protein</span> <span class="ow">in</span> <span class="n">flatten_proteins</span><span class="p">:</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-910"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-910"><span class="linenos">910</span></a>                <span class="n">unique_proteins_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tmp_protein</span><span class="p">)</span>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-911"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-911"><span class="linenos">911</span></a>
</span><span id="WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-912"><a href="#WorkspaceScanner.scan_workspace_for_non_duplicate_proteins-912"><span class="linenos">912</span></a>            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">unique_proteins_set</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Scans the workspace for non-duplicate proteins.</p>
</div>


                            </div>
                </section>
                <section id="FilesystemCleaner">
                            <input id="FilesystemCleaner-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">FilesystemCleaner</span>:

                <label class="view-source-button" for="FilesystemCleaner-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FilesystemCleaner"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FilesystemCleaner-941"><a href="#FilesystemCleaner-941"><span class="linenos">941</span></a><span class="k">class</span> <span class="nc">FilesystemCleaner</span><span class="p">:</span>
</span><span id="FilesystemCleaner-942"><a href="#FilesystemCleaner-942"><span class="linenos">942</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Class for cleaning up the filesystem.&quot;&quot;&quot;</span>
</span><span id="FilesystemCleaner-943"><a href="#FilesystemCleaner-943"><span class="linenos">943</span></a>
</span><span id="FilesystemCleaner-944"><a href="#FilesystemCleaner-944"><span class="linenos">944</span></a>    <span class="k">def</span> <span class="fm">__int__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="FilesystemCleaner-945"><a href="#FilesystemCleaner-945"><span class="linenos">945</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Empty constructor.&quot;&quot;&quot;</span>
</span><span id="FilesystemCleaner-946"><a href="#FilesystemCleaner-946"><span class="linenos">946</span></a>        <span class="k">pass</span>
</span><span id="FilesystemCleaner-947"><a href="#FilesystemCleaner-947"><span class="linenos">947</span></a>
</span><span id="FilesystemCleaner-948"><a href="#FilesystemCleaner-948"><span class="linenos">948</span></a>    <span class="nd">@staticmethod</span>
</span><span id="FilesystemCleaner-949"><a href="#FilesystemCleaner-949"><span class="linenos">949</span></a>    <span class="k">def</span> <span class="nf">clean_prediction_scratch_folder</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="FilesystemCleaner-950"><a href="#FilesystemCleaner-950"><span class="linenos">950</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes the scratch folder for fasta and pdb files and creates new ones.&quot;&quot;&quot;</span>
</span><span id="FilesystemCleaner-951"><a href="#FilesystemCleaner-951"><span class="linenos">951</span></a>        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">constants</span><span class="o">.</span><span class="n">PREDICTION_FASTA_DIR</span><span class="p">)</span>
</span><span id="FilesystemCleaner-952"><a href="#FilesystemCleaner-952"><span class="linenos">952</span></a>        <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">constants</span><span class="o">.</span><span class="n">PREDICTION_FASTA_DIR</span><span class="p">)</span>
</span><span id="FilesystemCleaner-953"><a href="#FilesystemCleaner-953"><span class="linenos">953</span></a>        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">constants</span><span class="o">.</span><span class="n">PREDICTION_PDB_DIR</span><span class="p">)</span>
</span><span id="FilesystemCleaner-954"><a href="#FilesystemCleaner-954"><span class="linenos">954</span></a>        <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">constants</span><span class="o">.</span><span class="n">PREDICTION_PDB_DIR</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Class for cleaning up the filesystem.</p>
</div>


                            <div id="FilesystemCleaner.clean_prediction_scratch_folder" class="classattr">
                                        <input id="FilesystemCleaner.clean_prediction_scratch_folder-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">clean_prediction_scratch_folder</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="FilesystemCleaner.clean_prediction_scratch_folder-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FilesystemCleaner.clean_prediction_scratch_folder"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FilesystemCleaner.clean_prediction_scratch_folder-948"><a href="#FilesystemCleaner.clean_prediction_scratch_folder-948"><span class="linenos">948</span></a>    <span class="nd">@staticmethod</span>
</span><span id="FilesystemCleaner.clean_prediction_scratch_folder-949"><a href="#FilesystemCleaner.clean_prediction_scratch_folder-949"><span class="linenos">949</span></a>    <span class="k">def</span> <span class="nf">clean_prediction_scratch_folder</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="FilesystemCleaner.clean_prediction_scratch_folder-950"><a href="#FilesystemCleaner.clean_prediction_scratch_folder-950"><span class="linenos">950</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes the scratch folder for fasta and pdb files and creates new ones.&quot;&quot;&quot;</span>
</span><span id="FilesystemCleaner.clean_prediction_scratch_folder-951"><a href="#FilesystemCleaner.clean_prediction_scratch_folder-951"><span class="linenos">951</span></a>        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">constants</span><span class="o">.</span><span class="n">PREDICTION_FASTA_DIR</span><span class="p">)</span>
</span><span id="FilesystemCleaner.clean_prediction_scratch_folder-952"><a href="#FilesystemCleaner.clean_prediction_scratch_folder-952"><span class="linenos">952</span></a>        <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">constants</span><span class="o">.</span><span class="n">PREDICTION_FASTA_DIR</span><span class="p">)</span>
</span><span id="FilesystemCleaner.clean_prediction_scratch_folder-953"><a href="#FilesystemCleaner.clean_prediction_scratch_folder-953"><span class="linenos">953</span></a>        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">constants</span><span class="o">.</span><span class="n">PREDICTION_PDB_DIR</span><span class="p">)</span>
</span><span id="FilesystemCleaner.clean_prediction_scratch_folder-954"><a href="#FilesystemCleaner.clean_prediction_scratch_folder-954"><span class="linenos">954</span></a>        <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">constants</span><span class="o">.</span><span class="n">PREDICTION_PDB_DIR</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Deletes the scratch folder for fasta and pdb files and creates new ones.</p>
</div>


                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../../../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../../../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>